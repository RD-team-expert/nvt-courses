import{d as k,a as m,o as n,b as e,u as t,m as q,w as s,e as l,P as v,f as i,t as d,g as f,h as T,F as h,i as b}from"./app-Dml7mVQG.js";import{f as B}from"./AppLayout.vue_vue_type_script_setup_true_lang-OcxRVvrq.js";import{_ as $}from"./Button.vue_vue_type_script_setup_true_lang-iE2RgqDi.js";import{_}from"./Card.vue_vue_type_script_setup_true_lang-BWS8vJbE.js";import{_ as p}from"./CardContent.vue_vue_type_script_setup_true_lang-BctodaFc.js";import{_ as L}from"./CardHeader.vue_vue_type_script_setup_true_lang-fBl9zvlA.js";import{_ as P}from"./CardTitle.vue_vue_type_script_setup_true_lang-CpAcw7xe.js";import{_ as y}from"./index-DXl3T_RS.js";import{_ as S,a as M,b as z,c,d as N,e as g}from"./TableHeader.vue_vue_type_script_setup_true_lang-LGvfSkEB.js";import{A as F}from"./arrow-left-C1dZpIky.js";import{U as H}from"./_plugin-vue_export-helper-7ogMb19m.js";import{C}from"./circle-check-big-DR_FP2oZ.js";import{C as V}from"./chart-column-zfrpzXcX.js";import{T as U}from"./target-DBkZ0Oul.js";import{C as O}from"./circle-x-BXEGiHQy.js";import"./index-DO3FSda4.js";import"./index-Bf0MFO0H.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-25s6Z4J-.js";import"./clock-Cqorx9bQ.js";const Q={class:"max-w-6xl mx-auto space-y-6"},j={class:"flex items-center gap-4"},D={class:"text-muted-foreground"},E={class:"grid grid-cols-1 md:grid-cols-4 gap-4"},I={class:"flex items-center gap-3"},X={class:"text-2xl font-bold"},G={class:"flex items-center gap-3"},J={class:"text-2xl font-bold"},K={class:"flex items-center gap-3"},R={class:"text-2xl font-bold"},W={class:"flex items-center gap-3"},Y={class:"text-2xl font-bold"},Z={class:"font-medium"},tt={class:"text-sm text-muted-foreground"},et={class:"font-medium"},st={class:"text-sm text-muted-foreground"},lt={key:1,class:"text-center py-12 text-muted-foreground"},at={key:2,class:"flex justify-center gap-2 mt-6"},ot=["innerHTML"],wt=k({__name:"Attempts",props:{quiz:{},module:{},course:{},attempts:{}},setup(w){const u=w,A=[{title:"Course Online",href:"/admin/course-online"},{title:u.course.name,href:`/admin/course-online/${u.course.id}`},{title:u.quiz.title,href:"#"},{title:"Attempts",href:"#"}],x={total:u.attempts.total,passed:u.attempts.data.filter(r=>r.passed).length,avgScore:u.attempts.data.length>0?(u.attempts.data.reduce((r,a)=>r+a.score_percentage,0)/u.attempts.data.length).toFixed(1):0};return(r,a)=>(n(),m(h,null,[e(t(q),{title:`Attempts - ${r.quiz.title}`},null,8,["title"]),e(B,{breadcrumbs:A},{default:s(()=>[l("div",Q,[l("div",j,[e(t($),{"as-child":"",variant:"ghost",size:"sm"},{default:s(()=>[e(t(v),{href:r.route("admin.module-quiz.show",{courseOnline:r.course.id,courseModule:r.module.id,quiz:r.quiz.id})},{default:s(()=>[e(t(F),{class:"h-4 w-4 mr-2"}),a[0]||(a[0]=i(" Back to Quiz "))]),_:1},8,["href"])]),_:1}),l("div",null,[a[1]||(a[1]=l("h1",{class:"text-2xl font-bold"},"Quiz Attempts",-1)),l("p",D,d(r.quiz.title),1)])]),l("div",E,[e(t(_),null,{default:s(()=>[e(t(p),{class:"pt-6"},{default:s(()=>[l("div",I,[e(t(H),{class:"h-8 w-8 text-blue-500"}),l("div",null,[l("p",X,d(x.total),1),a[2]||(a[2]=l("p",{class:"text-sm text-muted-foreground"},"Total Attempts",-1))])])]),_:1})]),_:1}),e(t(_),null,{default:s(()=>[e(t(p),{class:"pt-6"},{default:s(()=>[l("div",G,[e(t(C),{class:"h-8 w-8 text-green-500"}),l("div",null,[l("p",J,d(x.passed),1),a[3]||(a[3]=l("p",{class:"text-sm text-muted-foreground"},"Passed",-1))])])]),_:1})]),_:1}),e(t(_),null,{default:s(()=>[e(t(p),{class:"pt-6"},{default:s(()=>[l("div",K,[e(t(V),{class:"h-8 w-8 text-purple-500"}),l("div",null,[l("p",R,d(x.avgScore)+"%",1),a[4]||(a[4]=l("p",{class:"text-sm text-muted-foreground"},"Avg Score",-1))])])]),_:1})]),_:1}),e(t(_),null,{default:s(()=>[e(t(p),{class:"pt-6"},{default:s(()=>[l("div",W,[e(t(U),{class:"h-8 w-8 text-orange-500"}),l("div",null,[l("p",Y,d(r.quiz.pass_threshold)+"%",1),a[5]||(a[5]=l("p",{class:"text-sm text-muted-foreground"},"Pass Threshold",-1))])])]),_:1})]),_:1})]),e(t(_),null,{default:s(()=>[e(t(L),null,{default:s(()=>[e(t(P),null,{default:s(()=>a[6]||(a[6]=[i("All Attempts")])),_:1})]),_:1}),e(t(p),null,{default:s(()=>[r.attempts.data.length>0?(n(),f(t(S),{key:0},{default:s(()=>[e(t(M),null,{default:s(()=>[e(t(z),null,{default:s(()=>[e(t(c),null,{default:s(()=>a[7]||(a[7]=[i("User")])),_:1}),e(t(c),null,{default:s(()=>a[8]||(a[8]=[i("Attempt")])),_:1}),e(t(c),null,{default:s(()=>a[9]||(a[9]=[i("Score")])),_:1}),e(t(c),null,{default:s(()=>a[10]||(a[10]=[i("Status")])),_:1}),e(t(c),null,{default:s(()=>a[11]||(a[11]=[i("Completed")])),_:1})]),_:1})]),_:1}),e(t(N),null,{default:s(()=>[(n(!0),m(h,null,b(r.attempts.data,o=>(n(),f(t(z),{key:o.id},{default:s(()=>[e(t(g),null,{default:s(()=>[l("div",null,[l("p",Z,d(o.user.name),1),l("p",tt,d(o.user.email),1)])]),_:2},1024),e(t(g),null,{default:s(()=>[e(t(y),{variant:"outline"},{default:s(()=>[i("#"+d(o.attempt_number),1)]),_:2},1024)]),_:2},1024),e(t(g),null,{default:s(()=>[l("div",null,[l("p",et,d(o.total_score)+" / "+d(r.quiz.total_points),1),l("p",st,d(o.score_percentage)+"%",1)])]),_:2},1024),e(t(g),null,{default:s(()=>[e(t(y),{variant:o.passed?"default":"destructive"},{default:s(()=>[o.passed?(n(),f(t(C),{key:0,class:"h-3 w-3 mr-1"})):(n(),f(t(O),{key:1,class:"h-3 w-3 mr-1"})),i(" "+d(o.passed?"Passed":"Failed"),1)]),_:2},1032,["variant"])]),_:2},1024),e(t(g),null,{default:s(()=>[i(d(o.completed_at||"In Progress"),1)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})):(n(),m("div",lt," No attempts yet ")),r.attempts.last_page>1?(n(),m("div",at,[(n(!0),m(h,null,b(r.attempts.links,o=>(n(),f(t($),{key:o.label,"as-child":"",variant:o.active?"default":"outline",size:"sm",disabled:!o.url},{default:s(()=>[o.url?(n(),f(t(v),{key:0,href:o.url,innerHTML:o.label},null,8,["href","innerHTML"])):(n(),m("span",{key:1,innerHTML:o.label},null,8,ot))]),_:2},1032,["variant","disabled"]))),128))])):T("",!0)]),_:1})]),_:1})])]),_:1})],64))}});export{wt as default};
