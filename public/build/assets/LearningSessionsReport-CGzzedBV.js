import{d as _e,c as ve,r as R,W as ge,l as xe,g as c,o as d,w as o,e as l,b as s,u as e,f as n,t as i,a as _,F as $,i as A,h as x,k as D,n as pe,y as ye}from"./app-4eAgPf85.js";import{_ as he}from"./AdminLayout.vue_vue_type_script_setup_true_lang-ChXDEZI7.js";import{l as we}from"./lodash-C6mqOZ--.js";import{_ as E}from"./Button.vue_vue_type_script_setup_true_lang-JRkcZwmp.js";import{_ as G}from"./Input.vue_vue_type_script_setup_true_lang-CX-nhEM_.js";import{_ as k}from"./Label.vue_vue_type_script_setup_true_lang-PYscJF4n.js";import{_ as v}from"./Card.vue_vue_type_script_setup_true_lang-BRI1tynP.js";import{_ as g}from"./CardContent.vue_vue_type_script_setup_true_lang-BLROodS-.js";import{_ as ke}from"./CardDescription.vue_vue_type_script_setup_true_lang-CRBbueWY.js";import{_ as J}from"./CardHeader.vue_vue_type_script_setup_true_lang-BjvtTcj4.js";import{_ as Q}from"./CardTitle.vue_vue_type_script_setup_true_lang-C0SFA938.js";import{_ as be}from"./Checkbox.vue_vue_type_script_setup_true_lang-DHLLXsj6.js";import{_ as T,a as z,b as B,c as F,d as b}from"./SelectValue.vue_vue_type_script_setup_true_lang-rWE9ySuB.js";import{_ as Ce,a as Se,b as M,c as h,d as $e,e as y}from"./TableHeader.vue_vue_type_script_setup_true_lang-DTpXFjXH.js";import{_ as p}from"./index-gAvAn_Y3.js";import{_ as Ae,a as Ve,b as Re,c as Le}from"./DialogTitle.vue_vue_type_script_setup_true_lang-D_tn2RJj.js";import{_ as Ue}from"./DialogDescription.vue_vue_type_script_setup_true_lang-zzC4hunZ.js";import{D as De}from"./download-D_nR-TZd.js";import{A as V}from"./activity-CC9PKvUK.js";import{T as C}from"./triangle-alert-DM-8gerx.js";import{T as X}from"./target-DXqXErSw.js";import{C as Y}from"./clock-BG3Fyq-n.js";import{Z as Ee}from"./zap-DiKeZZe1.js";import{F as Te}from"./filter-4C0-ngWK.js";import{R as ze}from"./rotate-ccw-D_r2Aqgv.js";import{U as Be}from"./user-DvdguHDS.js";import{C as Fe}from"./calendar-C81b7-xU.js";import{B as ee}from"./brain-D7_VDPH7.js";import{P as Me}from"./play-CYRdxwH8.js";import{S as te}from"./AppLayout.vue_vue_type_script_setup_true_lang-UTMRCYmj.js";import{S as je}from"./skip-forward-DUKAdzqX.js";import{E as se}from"./eye-qfsbGN7D.js";import{C as j}from"./circle-check-big-C_iGDsdx.js";import"./index-Co2638JO.js";import"./index-D1y8VrcE.js";import"./check-BCZESvnI.js";import"./useForwardPropsEmits-z0JoxK6G.js";import"./Presence-DjUmVJH9.js";import"./ConfigProvider-C-6Rj7Vr.js";import"./useForwardExpose-C2AIe4iv.js";import"./Teleport-J01nl-H9.js";import"./handleAndDispatchCustomEvent-ChOKVcqp.js";import"./chevron-up-Ca4vBVLW.js";import"./Collection-BeiY3XlV.js";import"./usePrimitiveElement-PGpHF4W-.js";import"./useSize-Brz9hMkb.js";import"./ohash.D__AXeF1-DHF4M4F_.js";import"./nullish-CHIgUVhi.js";import"./VisuallyHidden-ChFZrzuI.js";import"./_plugin-vue_export-helper-yEr5A5fM.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-BZms7D_R.js";const Ne={class:"px-4 sm:px-0 space-y-6"},Oe={class:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4"},Pe={class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-5 gap-4"},qe={class:"flex items-center"},He={class:"ml-4"},Ie={class:"text-2xl font-bold text-foreground"},We={class:"flex items-center"},Ze={class:"ml-4"},Ke={class:"text-2xl font-bold text-foreground"},Ge={class:"flex items-center"},Je={class:"ml-4"},Qe={class:"text-2xl font-bold text-foreground"},Xe={class:"flex items-center"},Ye={class:"ml-4"},et={class:"text-2xl font-bold text-foreground"},tt={class:"flex items-center"},st={class:"ml-4"},lt={class:"text-2xl font-bold text-foreground"},ot={class:"flex items-center"},at={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-6 gap-4"},rt={class:"space-y-2"},nt={class:"space-y-2"},it={class:"space-y-2"},dt={class:"space-y-2"},ut={class:"space-y-2"},mt={class:"space-y-2"},ft={class:"flex items-center space-x-2"},ct={class:"flex justify-end mt-4"},_t={class:"overflow-x-auto"},vt={class:"flex items-center"},gt={class:"flex items-center"},xt={class:"flex items-center"},pt={class:"flex items-center"},yt={class:"flex items-center"},ht={class:"flex items-center"},wt={class:"flex items-center"},kt={class:"flex flex-col items-center"},bt={class:"space-y-1"},Ct={class:"font-medium text-foreground"},St={class:"text-sm text-muted-foreground hidden sm:block"},$t={class:"text-sm text-muted-foreground sm:hidden"},At={class:"space-y-1"},Vt={class:"text-sm text-muted-foreground"},Rt={class:"space-y-1"},Lt={class:"text-sm text-foreground"},Ut={key:0,class:"text-sm text-muted-foreground"},Dt={class:"space-y-1"},Et={class:"text-sm font-medium text-foreground"},Tt={key:0,class:"text-xs text-muted-foreground"},zt={class:"space-y-2"},Bt={class:"text-xs text-muted-foreground"},Ft={class:"space-y-1 text-xs text-muted-foreground"},Mt={key:0,class:"flex items-center"},jt={key:1,class:"flex items-center"},Nt={key:2,class:"text-muted-foreground"},Ot={class:"flex flex-col space-y-1"},Pt={key:0,class:"px-4 sm:px-6 py-3 border-t border-gray-200"},qt={class:"flex items-center justify-between"},Ht={class:"text-sm text-muted-foreground"},It={class:"flex space-x-2"},Wt=["href","innerHTML"],Zt={key:0,class:"space-y-6 mt-4"},Kt={class:"bg-muted/50 rounded-lg p-4"},Gt={class:"grid grid-cols-2 md:grid-cols-4 gap-4"},Jt={class:"font-medium"},Qt={class:"font-medium"},Xt={class:"font-medium"},Yt={class:"grid grid-cols-1 md:grid-cols-3 gap-6"},es={class:"text-3xl font-bold text-primary mb-2"},ts={class:"text-3xl font-bold text-green-600 mb-2"},ss={class:"w-full bg-muted rounded-full h-2 mt-2"},ls={class:"text-3xl font-bold text-red-600 mb-2"},os={class:"grid grid-cols-2 md:grid-cols-4 gap-4 text-center"},as={class:"p-3 bg-muted rounded-lg"},rs={class:"text-2xl font-bold text-orange-600"},ns={class:"p-3 bg-muted rounded-lg"},is={class:"text-2xl font-bold text-blue-600"},ds={class:"flex items-start"},us={class:"flex-shrink-0"},dl=_e({__name:"LearningSessionsReport",props:{sessions:Object,courses:Array,users:Array,departments:Array,filters:Object,stats:Object},setup(m){var q,H,I,W,Z,K;const w=m;ve(()=>{var r,t;return((t=(r=w.sessions)==null?void 0:r.meta)==null?void 0:t.last_page)||1});const le=[{name:"Dashboard",href:route("dashboard")},{name:"Reports & Analytics",href:route("admin.reports.index")},{name:"Learning Sessions",href:route("admin.reports.course-online.learning-sessions")}],f=R({course_id:((q=w.filters)==null?void 0:q.course_id)||"",user_id:((H=w.filters)==null?void 0:H.user_id)||"",department_id:((I=w.filters)==null?void 0:I.department_id)||"",date_from:((W=w.filters)==null?void 0:W.date_from)||"",date_to:((Z=w.filters)==null?void 0:Z.date_to)||"",suspicious_only:((K=w.filters)==null?void 0:K.suspicious_only)||!1}),S=R(!1),L=R(""),u=R(null),U=r=>{switch(r?r.toLowerCase():"unknown"){case"high":return"default";case"medium":return"secondary";case"low":return"outline";case"very low":return"destructive";default:return"secondary"}},N=r=>{switch(r?r.toLowerCase():"unknown"){case"high":return X;case"medium":return V;case"low":return C;case"very low":return C;default:return V}},O=r=>{switch(r?r.toLowerCase():"none"){case"critical":case"very high":return"destructive";case"high":return"destructive";case"medium":return"outline";case"low":return"secondary";default:return"secondary"}},oe=r=>{switch(r?r.toLowerCase():"none"){case"critical":case"very high":return te;case"high":return C;case"medium":return se;case"low":return j;default:return j}},ae=r=>{f.value.course_id=r==="all"?"":r},re=r=>{f.value.user_id=r==="all"?"":r},P=we.debounce(()=>{const r={...f.value};r.date_from&&(r.date_from=r.date_from.trim()),r.date_to&&(r.date_to=r.date_to.trim()),ge.get(route("admin.reports.course-online.learning-sessions"),r,{preserveState:!0,replace:!0})},500);xe(f,()=>{P()},{deep:!0});const ne=()=>{f.value={course_id:"",user_id:"",department_id:"",date_from:"",date_to:"",suspicious_only:!1},P()},ie=()=>{const r=new URLSearchParams(f.value).toString();window.location.href=route("admin.reports.course-online.export.learning-sessions")+"?"+r},de=r=>{if(!r||r<=0)return"0 min";if(r<60)return`${Math.round(r)} min`;const t=Math.floor(r/60),a=Math.round(r%60);return a>0?`${t}h ${a}m`:`${t}h`},ue=r=>{u.value=r,L.value=`Session Details - ${r.user_name}`,S.value=!0},me=()=>{S.value=!1,u.value=null,L.value=""},fe=r=>{r.key==="Escape"&&S.value&&me()};return typeof window<"u"&&window.addEventListener("keydown",fe),(r,t)=>(d(),c(he,{breadcrumbs:le},{default:o(()=>[l("div",Ne,[l("div",Oe,[t[6]||(t[6]=l("div",null,[l("h1",{class:"text-xl sm:text-2xl font-bold text-foreground"},"Learning Sessions Report"),l("p",{class:"text-sm text-muted-foreground mt-1"},"Comprehensive reporting interface for tracking learning sessions and engagement metrics")],-1)),s(e(E),{onClick:ie,class:"w-full sm:w-auto"},{default:o(()=>[s(e(De),{class:"mr-2 h-4 w-4"}),t[5]||(t[5]=n(" Export to CSV "))]),_:1})]),l("div",Pe,[s(e(v),null,{default:o(()=>[s(e(g),{class:"p-6"},{default:o(()=>{var a;return[l("div",qe,[s(e(V),{class:"h-8 w-8 text-blue-600"}),l("div",He,[t[7]||(t[7]=l("p",{class:"text-sm font-medium text-muted-foreground"},"Total Sessions",-1)),l("p",Ie,i(((a=m.stats)==null?void 0:a.total_sessions)||0),1)])])]}),_:1})]),_:1}),s(e(v),null,{default:o(()=>[s(e(g),{class:"p-6"},{default:o(()=>{var a;return[l("div",We,[s(e(C),{class:"h-8 w-8 text-red-600"}),l("div",Ze,[t[8]||(t[8]=l("p",{class:"text-sm font-medium text-muted-foreground"},"Suspicious Sessions",-1)),l("p",Ke,i(((a=m.stats)==null?void 0:a.suspicious_sessions)||0),1)])])]}),_:1})]),_:1}),s(e(v),null,{default:o(()=>[s(e(g),{class:"p-6"},{default:o(()=>{var a;return[l("div",Ge,[s(e(X),{class:"h-8 w-8 text-yellow-600"}),l("div",Je,[t[9]||(t[9]=l("p",{class:"text-sm font-medium text-muted-foreground"},"Avg Attention",-1)),l("p",Qe,i(((a=m.stats)==null?void 0:a.average_attention_score)||0)+"%",1)])])]}),_:1})]),_:1}),s(e(v),null,{default:o(()=>[s(e(g),{class:"p-6"},{default:o(()=>{var a;return[l("div",Xe,[s(e(Y),{class:"h-8 w-8 text-green-600"}),l("div",Ye,[t[10]||(t[10]=l("p",{class:"text-sm font-medium text-muted-foreground"},"Avg Duration",-1)),l("p",et,i(de((a=m.stats)==null?void 0:a.average_session_duration)),1)])])]}),_:1})]),_:1}),s(e(v),null,{default:o(()=>[s(e(g),{class:"p-6"},{default:o(()=>{var a;return[l("div",tt,[s(e(Ee),{class:"h-8 w-8 text-purple-600"}),l("div",st,[t[11]||(t[11]=l("p",{class:"text-sm font-medium text-muted-foreground"},"High Engagement",-1)),l("p",lt,i(((a=m.stats)==null?void 0:a.high_engagement_sessions)||0),1)])])]}),_:1})]),_:1})]),s(e(v),null,{default:o(()=>[s(e(J),null,{default:o(()=>[l("div",ot,[s(e(Te),{class:"mr-2 h-5 w-5 text-primary"}),l("div",null,[s(e(Q),null,{default:o(()=>t[12]||(t[12]=[n("Filter Sessions")])),_:1}),s(e(ke),null,{default:o(()=>t[13]||(t[13]=[n("Use the filters below to narrow down the session records")])),_:1})])])]),_:1}),s(e(g),null,{default:o(()=>[l("div",at,[l("div",rt,[s(e(k),{for:"course_filter"},{default:o(()=>t[14]||(t[14]=[n("Course")])),_:1}),s(e(T),{"model-value":f.value.course_id||"all","onUpdate:modelValue":ae},{default:o(()=>[s(e(z),{id:"course_filter"},{default:o(()=>[s(e(B),{placeholder:"All Courses"})]),_:1}),s(e(F),null,{default:o(()=>[s(e(b),{value:"all"},{default:o(()=>t[15]||(t[15]=[n("All Courses")])),_:1}),(d(!0),_($,null,A(m.courses,a=>(d(),c(e(b),{key:a.id,value:a.id.toString()},{default:o(()=>[n(i(a.name),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["model-value"])]),l("div",nt,[s(e(k),{for:"user_filter"},{default:o(()=>t[16]||(t[16]=[n("User")])),_:1}),s(e(T),{"model-value":f.value.user_id||"all","onUpdate:modelValue":re},{default:o(()=>[s(e(z),{id:"user_filter"},{default:o(()=>[s(e(B),{placeholder:"All Users"})]),_:1}),s(e(F),null,{default:o(()=>[s(e(b),{value:"all"},{default:o(()=>t[17]||(t[17]=[n("All Users")])),_:1}),(d(!0),_($,null,A(m.users,a=>(d(),c(e(b),{key:a.id,value:a.id.toString()},{default:o(()=>[n(i(a.name),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["model-value"])]),l("div",it,[s(e(k),{for:"department_filter"},{default:o(()=>t[18]||(t[18]=[n("Department")])),_:1}),s(e(T),{"model-value":f.value.department_id||"all","onUpdate:modelValue":t[0]||(t[0]=a=>f.value.department_id=a==="all"?"":a)},{default:o(()=>[s(e(z),{id:"department_filter"},{default:o(()=>[s(e(B),{placeholder:"All Departments"})]),_:1}),s(e(F),null,{default:o(()=>[s(e(b),{value:"all"},{default:o(()=>t[19]||(t[19]=[n("All Departments")])),_:1}),(d(!0),_($,null,A(m.departments,a=>(d(),c(e(b),{key:a.id,value:a.id.toString()},{default:o(()=>[n(i(a.name),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["model-value"])]),l("div",dt,[s(e(k),{for:"date_from"},{default:o(()=>t[20]||(t[20]=[n("Session From")])),_:1}),s(e(G),{id:"date_from",type:"date",modelValue:f.value.date_from,"onUpdate:modelValue":t[1]||(t[1]=a=>f.value.date_from=a)},null,8,["modelValue"])]),l("div",ut,[s(e(k),{for:"date_to"},{default:o(()=>t[21]||(t[21]=[n("Session To")])),_:1}),s(e(G),{id:"date_to",type:"date",modelValue:f.value.date_to,"onUpdate:modelValue":t[2]||(t[2]=a=>f.value.date_to=a)},null,8,["modelValue"])]),l("div",mt,[s(e(k),null,{default:o(()=>t[22]||(t[22]=[n("Options")])),_:1}),l("div",ft,[s(e(be),{id:"suspicious_only",checked:f.value.suspicious_only,"onUpdate:checked":t[3]||(t[3]=a=>f.value.suspicious_only=a)},null,8,["checked"]),s(e(k),{for:"suspicious_only",class:"text-sm font-normal"},{default:o(()=>t[23]||(t[23]=[n(" Suspicious Only ")])),_:1})])])]),l("div",ct,[s(e(E),{onClick:ne,variant:"outline"},{default:o(()=>[s(e(ze),{class:"mr-2 h-4 w-4"}),t[24]||(t[24]=n(" Reset Filters "))]),_:1})])]),_:1})]),_:1}),s(e(v),null,{default:o(()=>[l("div",_t,[s(e(Ce),null,{default:o(()=>[s(e(Se),null,{default:o(()=>[s(e(M),null,{default:o(()=>[s(e(h),null,{default:o(()=>[l("div",vt,[s(e(Be),{class:"mr-2 h-4 w-4"}),t[25]||(t[25]=n(" User "))])]),_:1}),s(e(h),{class:"hidden sm:table-cell"},{default:o(()=>[l("div",gt,[s(e(V),{class:"mr-2 h-4 w-4"}),t[26]||(t[26]=n(" Course & Content "))])]),_:1}),s(e(h),null,{default:o(()=>[l("div",xt,[s(e(Fe),{class:"mr-2 h-4 w-4"}),t[27]||(t[27]=n(" Session Time "))])]),_:1}),s(e(h),null,{default:o(()=>[l("div",pt,[s(e(Y),{class:"mr-2 h-4 w-4"}),t[28]||(t[28]=n(" Duration "))])]),_:1}),s(e(h),null,{default:o(()=>[l("div",yt,[s(e(ee),{class:"mr-2 h-4 w-4"}),t[29]||(t[29]=n(" Engagement "))])]),_:1}),s(e(h),{class:"hidden md:table-cell"},{default:o(()=>[l("div",ht,[s(e(Me),{class:"mr-2 h-4 w-4"}),t[30]||(t[30]=n(" Activities "))])]),_:1}),s(e(h),null,{default:o(()=>[l("div",wt,[s(e(te),{class:"mr-2 h-4 w-4"}),t[31]||(t[31]=n(" Status "))])]),_:1}),s(e(h),null,{default:o(()=>t[32]||(t[32]=[n("Actions")])),_:1})]),_:1})]),_:1}),s(e($e),null,{default:o(()=>[m.sessions.data.length===0?(d(),c(e(M),{key:0},{default:o(()=>[s(e(y),{colspan:"8",class:"text-center text-muted-foreground py-8"},{default:o(()=>[l("div",kt,[s(e(V),{class:"h-12 w-12 text-muted-foreground mb-2"}),t[33]||(t[33]=n(" No learning sessions found "))])]),_:1})]),_:1})):(d(!0),_($,{key:1},A(m.sessions.data,(a,ce)=>(d(),c(e(M),{key:ce,class:"hover:bg-muted/50"},{default:o(()=>[s(e(y),null,{default:o(()=>[l("div",bt,[l("div",Ct,i(a.user_name),1),l("div",St,i(a.user_email),1),l("div",$t,i(a.course_name),1)])]),_:2},1024),s(e(y),{class:"hidden sm:table-cell"},{default:o(()=>[l("div",At,[s(e(p),{variant:"outline"},{default:o(()=>[n(i(a.course_name),1)]),_:2},1024),l("div",Vt,i(a.content_title),1)])]),_:2},1024),s(e(y),null,{default:o(()=>[l("div",Rt,[l("div",Lt,i(a.session_start),1),a.session_end?(d(),_("div",Ut," Ended: "+i(a.session_end),1)):(d(),c(e(p),{key:1,variant:"destructive",class:"text-xs"},{default:o(()=>t[34]||(t[34]=[n(" Active ")])),_:1}))])]),_:2},1024),s(e(y),null,{default:o(()=>[l("div",Dt,[l("div",Et,i(a.duration),1),a.video_completion>0?(d(),_("div",Tt,i(a.video_completion)+"% watched ",1)):x("",!0)])]),_:2},1024),s(e(y),null,{default:o(()=>[l("div",zt,[s(e(p),{variant:U(a.engagement_level),class:"flex items-center w-fit"},{default:o(()=>[(d(),c(D(N(a.engagement_level)),{class:"mr-1 h-3 w-3"})),n(" "+i(a.engagement_level),1)]),_:2},1032,["variant"]),l("div",Bt,i(a.attention_score)+"% attention",1)])]),_:2},1024),s(e(y),{class:"hidden md:table-cell"},{default:o(()=>[l("div",Ft,[a.skip_count>0?(d(),_("div",Mt,[s(e(je),{class:"mr-1 h-3 w-3 text-orange-600"}),n(" "+i(a.skip_count)+" skips ",1)])):x("",!0),a.seek_count>0?(d(),_("div",jt,[s(e(se),{class:"mr-1 h-3 w-3 text-blue-600"}),n(" "+i(a.seek_count)+" seeks ",1)])):x("",!0),a.skip_count===0&&a.seek_count===0?(d(),_("div",Nt," No activity ")):x("",!0)])]),_:2},1024),s(e(y),null,{default:o(()=>[l("div",Ot,[a.cheating_score>20?(d(),c(e(p),{key:0,variant:O(a.cheating_risk),class:"flex items-center w-fit"},{default:o(()=>[(d(),c(D(oe(a.cheating_risk)),{class:"mr-1 h-3 w-3"})),n(" "+i(a.cheating_risk)+" Risk ",1)]),_:2},1032,["variant"])):x("",!0),a.is_suspicious?(d(),c(e(p),{key:1,variant:"destructive",class:"flex items-center w-fit"},{default:o(()=>[s(e(C),{class:"mr-1 h-3 w-3"}),t[35]||(t[35]=n(" Suspicious "))]),_:1})):x("",!0),!a.is_suspicious&&a.cheating_score<=20?(d(),c(e(p),{key:2,variant:"secondary",class:"flex items-center w-fit"},{default:o(()=>[s(e(j),{class:"mr-1 h-3 w-3"}),t[36]||(t[36]=n(" Normal "))]),_:1})):x("",!0)])]),_:2},1024),s(e(y),null,{default:o(()=>[s(e(E),{onClick:ms=>ue(a),variant:"link",size:"sm",class:"h-auto p-0"},{default:o(()=>t[37]||(t[37]=[n(" View Details ")])),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})]),m.users.data&&m.users.data.length>0&&m.users.last_page>1?(d(),_("div",Pt,[l("div",qt,[l("div",Ht," Showing "+i(m.users.from)+" to "+i(m.users.to)+" of "+i(m.users.total)+" results ",1),l("div",It,[(d(!0),_($,null,A(m.users.links,a=>(d(),_("a",{key:a.label,href:a.url,class:pe([{"bg-primary text-primary-foreground":a.active,"hover:bg-muted":!a.active&&a.url,"text-muted-foreground cursor-not-allowed":!a.url},"px-3 py-2 text-sm font-medium border rounded-md transition-colors"]),innerHTML:a.label},null,10,Wt))),128))])])])):x("",!0)]),_:1})]),s(e(Ae),{open:S.value,"onUpdate:open":t[4]||(t[4]=a=>S.value=a)},{default:o(()=>[s(e(Ve),{class:"max-w-4xl"},{default:o(()=>[s(e(Re),null,{default:o(()=>[s(e(Le),{class:"flex items-center"},{default:o(()=>[s(e(ee),{class:"mr-2 h-5 w-5 text-primary"}),n(" "+i(L.value),1)]),_:1}),s(e(Ue),null,{default:o(()=>t[38]||(t[38]=[n(" Detailed session analytics and engagement metrics ")])),_:1})]),_:1}),u.value?(d(),_("div",Zt,[l("div",Kt,[t[43]||(t[43]=l("h4",{class:"text-sm font-semibold text-foreground mb-3"},"Session Overview",-1)),l("div",Gt,[l("div",null,[t[39]||(t[39]=l("span",{class:"text-sm text-muted-foreground"},"User:",-1)),l("div",Jt,i(u.value.user_name),1)]),l("div",null,[t[40]||(t[40]=l("span",{class:"text-sm text-muted-foreground"},"Course:",-1)),l("div",Qt,i(u.value.course_name),1)]),l("div",null,[t[41]||(t[41]=l("span",{class:"text-sm text-muted-foreground"},"Duration:",-1)),l("div",Xt,i(u.value.duration),1)]),l("div",null,[t[42]||(t[42]=l("span",{class:"text-sm text-muted-foreground"},"Engagement:",-1)),s(e(p),{variant:U(u.value.engagement_level),class:"flex items-center w-fit"},{default:o(()=>[(d(),c(D(N(u.value.engagement_level)),{class:"mr-1 h-3 w-3"})),n(" "+i(u.value.engagement_level),1)]),_:1},8,["variant"])])])]),l("div",Yt,[s(e(v),null,{default:o(()=>[s(e(g),{class:"p-6 text-center"},{default:o(()=>[l("div",es,i(u.value.attention_score)+"%",1),t[44]||(t[44]=l("div",{class:"text-sm text-muted-foreground"},"Attention Score",-1)),s(e(p),{variant:U(u.value.engagement_level),class:"mt-2"},{default:o(()=>[n(i(u.value.engagement_level),1)]),_:1},8,["variant"])]),_:1})]),_:1}),s(e(v),null,{default:o(()=>[s(e(g),{class:"p-6 text-center"},{default:o(()=>[l("div",ts,i(u.value.video_completion||0)+"%",1),t[45]||(t[45]=l("div",{class:"text-sm text-muted-foreground"},"Video Completion",-1)),l("div",ss,[l("div",{class:"bg-green-500 h-2 rounded-full transition-all duration-300",style:ye({width:(u.value.video_completion||0)+"%"})},null,4)])]),_:1})]),_:1}),s(e(v),null,{default:o(()=>[s(e(g),{class:"p-6 text-center"},{default:o(()=>[l("div",ls,i(u.value.cheating_score||0)+"%",1),t[47]||(t[47]=l("div",{class:"text-sm text-muted-foreground"},"Cheating Score",-1)),u.value.cheating_score>20?(d(),c(e(p),{key:0,variant:O(u.value.cheating_risk),class:"mt-2"},{default:o(()=>[n(i(u.value.cheating_risk)+" Risk ",1)]),_:1},8,["variant"])):(d(),c(e(p),{key:1,variant:"secondary",class:"mt-2"},{default:o(()=>t[46]||(t[46]=[n(" Low Risk ")])),_:1}))]),_:1})]),_:1})]),s(e(v),null,{default:o(()=>[s(e(J),null,{default:o(()=>[s(e(Q),{class:"text-base"},{default:o(()=>t[48]||(t[48]=[n("Activity Breakdown")])),_:1})]),_:1}),s(e(g),null,{default:o(()=>[l("div",os,[l("div",as,[l("div",rs,i(u.value.skip_count||0),1),t[49]||(t[49]=l("div",{class:"text-sm text-muted-foreground"},"Video Skips",-1))]),l("div",ns,[l("div",is,i(u.value.seek_count||0),1),t[50]||(t[50]=l("div",{class:"text-sm text-muted-foreground"},"Seeks",-1))]),t[51]||(t[51]=l("div",{class:"p-3 bg-muted rounded-lg"},[l("div",{class:"text-2xl font-bold text-green-600"},"0"),l("div",{class:"text-sm text-muted-foreground"},"Pauses")],-1)),t[52]||(t[52]=l("div",{class:"p-3 bg-muted rounded-lg"},[l("div",{class:"text-2xl font-bold text-purple-600"},"0"),l("div",{class:"text-sm text-muted-foreground"},"Replays")],-1))])]),_:1})]),_:1}),u.value.is_suspicious?(d(),c(e(v),{key:0,class:"border-orange-200 bg-orange-50 dark:bg-orange-950"},{default:o(()=>[s(e(g),{class:"p-4"},{default:o(()=>[l("div",ds,[l("div",us,[s(e(C),{class:"h-5 w-5 text-orange-500"})]),t[53]||(t[53]=l("div",{class:"ml-3"},[l("h3",{class:"text-sm font-medium text-orange-800 dark:text-orange-200"},"Attention Required"),l("div",{class:"mt-2 text-sm text-orange-700 dark:text-orange-300"},[l("p",null,"This session shows signs of unusual activity that may require review.")])],-1))])]),_:1})]),_:1})):x("",!0)])):x("",!0)]),_:1})]),_:1},8,["open"])]),_:1}))}});export{dl as default};
