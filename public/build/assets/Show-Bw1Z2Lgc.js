import{d as ne,a as r,o as a,A as he,n as b,u as e,r as D,l as K,C as M,c as X,g,w as l,h as c,e as n,b as o,f as m,t as u,P as B,F as N,i as U,W as R}from"./app-CwrLmt4H.js";import{f as ye}from"./AppLayout.vue_vue_type_script_setup_true_lang-KHSjz1qE.js";import{b as pe,_ as v}from"./Button.vue_vue_type_script_setup_true_lang-DNqWTjl2.js";import{_ as p}from"./Card.vue_vue_type_script_setup_true_lang-A8WG6GOp.js";import{_ as $}from"./CardContent.vue_vue_type_script_setup_true_lang-C0P-sboE.js";import{_ as be}from"./CardDescription.vue_vue_type_script_setup_true_lang-Bu6T4zC6.js";import{_ as J}from"./CardHeader.vue_vue_type_script_setup_true_lang-B1JXwWzJ.js";import{_ as Q}from"./CardTitle.vue_vue_type_script_setup_true_lang-CfsAIejd.js";import{_ as A}from"./index-M46Jp1H4.js";import{_ as j}from"./Label.vue_vue_type_script_setup_true_lang-CU7Va5Ql.js";import{_ as ve}from"./Textarea.vue_vue_type_script_setup_true_lang-ChuE_6eQ.js";import{_ as Ae,a as ke}from"./RadioGroupItem.vue_vue_type_script_setup_true_lang-CVo6n4Ue.js";import{_ as w,a as S}from"./index-CmixqKtp.js";import{T as Z}from"./triangle-alert-Cy80iz42.js";import{X as O,_ as _e}from"./_plugin-vue_export-helper-C_B9qUyA.js";import{C as we}from"./clipboard-list-YTWLKHc9.js";import{C as ee}from"./check-D3O_WcEY.js";import{B as Y}from"./book-open-f5xamzFc.js";import{C as P}from"./calendar-DJAOu5zk.js";import{C as q}from"./clock-B3hXeEnL.js";import{C as se}from"./calendar-days-CQnzILJG.js";import{T as te}from"./timer-D3NLVuS9.js";import{L as z}from"./loader-circle-Cclobs7m.js";import{A as Se}from"./arrow-right-DYN75LjT.js";import{S as I}from"./star-CVZd43eI.js";import{C as Ce}from"./circle-check-big-DGC-KaVv.js";import{T as Te}from"./trophy-3nBXSjVt.js";import{M as Ee}from"./map-pin-Dox1PtRd.js";import"./index-DJ8elu12.js";import"./index-Bl0m2vYu.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-wO9CZrtp.js";import"./useForwardPropsEmits-Bv9ZfZA8.js";import"./useForwardExpose-aFpDTqrD.js";import"./RovingFocusItem-NAjqArCM.js";import"./Presence-D5fWEiXU.js";import"./ConfigProvider-DYoe7gBq.js";import"./Collection-B9kSM2sl.js";import"./usePrimitiveElement-D1W1Ae6N.js";import"./VisuallyHidden-xEP9wB1T.js";import"./VisuallyHiddenInput-DWU8lSiW.js";import"./handleAndDispatchCustomEvent-ChOKVcqp.js";import"./ohash.D__AXeF1-DHF4M4F_.js";const C=ne({__name:"AlertTitle",props:{class:{}},setup(t){const f=t;return(k,L)=>(a(),r("h5",{class:b(e(pe)("mb-1 font-medium leading-none tracking-tight",f.class))},[he(k.$slots,"default")],2))}}),De={class:"container px-4 mx-auto py-6 sm:py-8 max-w-7xl space-y-6"},Re={class:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4"},$e={class:"text-2xl sm:text-3xl font-bold text-foreground"},Pe={class:"mt-2"},Le={class:"flex items-start justify-between"},Fe={class:"flex items-start space-x-3"},Ve={key:0},Me={key:1},Be={key:2},Ne={key:3},Ue={class:"flex gap-3"},je={class:"grid grid-cols-1 lg:grid-cols-3 gap-6 sm:gap-8"},Oe={class:"relative bg-muted overflow-hidden aspect-video"},Ye=["src","alt"],qe={key:1,class:"absolute inset-0 flex items-center justify-center bg-gradient-to-br from-muted to-muted/80"},ze=["innerHTML"],Ie={class:"grid grid-cols-1 sm:grid-cols-2 gap-4"},We={class:"flex items-center space-x-2 text-muted-foreground mb-2"},Ge={class:"font-semibold text-foreground"},He={class:"flex items-center space-x-2 text-muted-foreground mb-2"},Ke={class:"font-semibold text-foreground"},Xe={class:"flex items-center space-x-2 text-muted-foreground mb-2"},Je={class:"font-semibold text-foreground capitalize"},Qe={class:"flex items-center space-x-2 text-muted-foreground mb-2"},Ze={class:"font-semibold text-foreground"},es={key:0},ss={key:0},ts={key:3},ns={class:"space-y-3"},os={class:"flex justify-between items-start"},is={class:"font-medium text-foreground"},as={class:"text-sm text-muted-foreground mt-1"},ls={class:"border-t pt-3 space-y-2"},rs={key:0,class:"flex items-center space-x-2"},ds={key:1,class:"flex items-center space-x-2"},us={class:"text-sm font-medium text-foreground"},cs={key:2,class:"flex items-start space-x-2"},ms={class:"flex-1"},fs={class:"mt-1 space-y-1"},gs={key:0,class:"text-sm font-medium text-foreground"},xs={key:1,class:"text-sm font-medium text-foreground"},hs={key:3,class:"flex items-center space-x-2"},ys={class:"text-sm font-medium text-foreground"},ps={class:"border-t pt-3 space-y-1"},bs={class:"text-sm text-primary font-medium"},vs={class:"text-sm text-green-600 font-medium"},As={key:0,class:"text-xs text-muted-foreground"},ks={key:0,class:"border-t pt-3"},_s={class:"text-sm text-muted-foreground"},ws={key:5},Ss={key:1},Cs={key:2},Ts={key:3},Es={key:4},Ds={class:"space-y-4"},Rs={class:"flex items-center p-4 bg-muted rounded-lg"},$s={class:"font-medium text-foreground"},Ps={class:"space-y-4"},Ls={class:"flex space-x-1 mt-2"},Fs={key:0,class:"text-destructive text-sm mt-1"},Vs={key:1},Ms={key:2},Bs={key:0,class:"mb-4"},Ns={class:"flex items-center space-x-2"},Us={class:"flex"},js={key:2},Os={key:3},Ys={class:"flex items-center space-x-2 mb-3"},qs={class:"space-y-3"},zs={class:"font-semibold text-foreground"},Is={class:"text-sm text-muted-foreground"},Ws={class:"border-t pt-3 space-y-2 text-sm"},Gs={key:0,class:"flex items-center space-x-2"},Hs={key:1,class:"flex items-center space-x-2"},Ks={class:"font-medium text-foreground"},Xs={key:2,class:"flex items-start space-x-2"},Js={class:"flex-1"},Qs={class:"mt-1 space-y-1"},Zs={key:0,class:"font-medium text-foreground"},et={key:1,class:"font-medium text-foreground"},st={key:3,class:"flex items-center space-x-2"},tt={class:"font-medium text-foreground"},nt={class:"border-t pt-3 space-y-1 text-xs"},ot={class:"text-primary font-medium"},it={class:"text-green-600 font-medium"},at={class:"text-muted-foreground"},lt=ne({__name:"Show",props:{course:Object,isEnrolled:Boolean,userStatus:String,selectedAvailability:Object,availabilities:Array,userAssignment:Object,completion:Object},setup(t){const f=t,k=D(!1),L=D(""),W=D(""),h=(i,s)=>{W.value=i,L.value=s,k.value=!0,setTimeout(()=>{k.value=!1},6e3)},oe=()=>{k.value=!1},F=D(0);K(()=>f.completion,(i,s)=>{console.log("Completion changed:",s,"->",i),F.value+=1},{deep:!0}),K(()=>f.userStatus,(i,s)=>{console.log("UserStatus changed:",s,"->",i),F.value+=1});const x=M({rating:0,feedback:""}),V=X(()=>{const i=f.completion&&f.completion.rating!==null;return console.log("hasRated computed:",i,"completion:",f.completion),i});X(()=>f.isEnrolled&&(f.userStatus==="pending"||f.userStatus==="in_progress")&&V.value);function ie(){console.log("=== VUE SUBMIT RATING START ==="),console.log("Rating form data:",x.data()),x.post(route("courses.submitRating",f.course.id),{onSuccess:i=>{console.log("âœ… Rating submitted successfully"),R.reload({only:["completion","userStatus","isEnrolled"]})},onError:i=>{console.error("âŒ Rating submission failed:",i),i.message?h("Rating Submission Failed",i.message):i.feedback?h("Feedback Required",i.feedback):h("Rating Error","There was an error submitting your rating. Please try again.")}})}const y=M({course_availability_id:null});function ae(){if(console.log("=== ENROLLMENT DEBUG START ==="),f.availabilities&&f.availabilities.length>0&&!y.course_availability_id){h("Session Selection Required","Please select a session schedule before enrolling in this course.");return}y.post(route("courses.enroll",f.course.id),{preserveState:!0,onSuccess:i=>{console.log("âœ… Enrollment SUCCESS!"),R.reload({only:["isEnrolled","userStatus","selectedAvailability"]})},onError:i=>{console.error("âŒ Enrollment FAILED!",i),i.message?i.message.includes("no longer available")?h("ðŸ“… Session No Longer Available","Sorry, the selected session schedule is no longer available. Please choose a different session or refresh the page to see updated availability."):i.message.includes("fully booked")?h("ðŸ“‹ Session Fully Booked","This session is now fully booked. Please select a different session schedule with available spots."):i.message.includes("already enrolled")?h("âœ… Already Enrolled","You are already enrolled in this course. Please refresh the page to see your current enrollment status."):h("Enrollment Error",i.message):i.course_availability_id?h("Session Selection Error",i.course_availability_id):h("âš ï¸ Enrollment Failed","We encountered an issue while processing your enrollment. Please refresh the page and try again, or contact support if the problem persists."),setTimeout(()=>{R.reload({only:["availabilities","isEnrolled","userStatus"]})},3e3)}})}const T=M({});function le(){console.log("=== VUE MARK COMPLETED START ==="),T.post(route("courses.markCompleted",f.course.id),{onSuccess:i=>{console.log("âœ… Course marked as completed"),R.reload({only:["userStatus"]})},onError:i=>{console.error("âŒ Failed to mark course as completed:",i),i.message?h("Completion Error",i.message):h("Unable to Complete","There was an error marking this course as completed. Please try again.")}})}const re=i=>{switch(i){case"in_progress":return"default";case"pending":return"secondary";case"completed":return"outline";default:return"outline"}},de=i=>{switch(i){case"pending":return"secondary";case"accepted":return"default";case"declined":return"destructive";case"completed":return"outline";default:return"outline"}},ue=i=>i?i===1?"1 Total Session":`${i} seats available`:"Capacity not specified",ce=i=>i==null?"Sessions not available":i===0?"No sessions available":i===1?"1 Session Available":`${i} Total Sessions`,me=i=>{const s=(i==null?void 0:i.sessions)||0;return s<=0?"destructive":s<=2?"secondary":"default"},fe=i=>{const s=(i==null?void 0:i.sessions)||0;return s<=0?"Fully Booked":s===1?"1 Session Available":`${s} Sessions Available`},ge=i=>({pending:"Pending",in_progress:"In Progress",completed:"Completed"})[i]||i,E=i=>{if(!i)return"â€”";const s=new Date(i);return s.toLocaleDateString()+" at "+s.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})},G=i=>i?new Date(i).toLocaleDateString():"â€”",H=i=>((i==null?void 0:i.sessions)||0)<=0||!(i!=null&&i.is_available)||f.userAssignment&&f.userAssignment.status==="pending",xe=[{name:"Dashboard",href:route("dashboard")},{name:"Courses",href:route("courses.index")},{name:f.course.name,href:route("courses.show",f.course.id)}];return(i,s)=>(a(),g(ye,{breadcrumbs:xe},{default:l(()=>[k.value?(a(),g(e(w),{key:0,class:"fixed top-4 right-4 z-50 max-w-md border-destructive"},{default:l(()=>[o(e(Z),{class:"h-4 w-4"}),o(e(C),null,{default:l(()=>[m(u(W.value),1)]),_:1}),o(e(S),null,{default:l(()=>[m(u(L.value),1)]),_:1}),o(e(v),{onClick:oe,variant:"ghost",size:"sm",class:"absolute top-2 right-2"},{default:l(()=>[o(e(O),{class:"h-4 w-4"})]),_:1})]),_:1})):c("",!0),n("div",De,[n("div",Re,[n("div",null,[n("h1",$e,u(t.course.name),1),n("div",Pe,[o(e(A),{variant:t.course.privacy==="public"?"default":"secondary",class:"text-xs"},{default:l(()=>[m(u(t.course.privacy==="public"?"ðŸŒ Public Course":"ðŸ”’ Private Course"),1)]),_:1},8,["variant"])])]),o(e(A),{variant:re(t.course.status)},{default:l(()=>[m(u(ge(t.course.status)),1)]),_:1},8,["variant"])]),t.userAssignment?(a(),g(e(p),{key:0,class:b(["border-l-4",{"border-l-yellow-500":t.userAssignment.status==="pending","border-l-green-500":t.userAssignment.status==="accepted","border-l-red-500":t.userAssignment.status==="declined","border-l-blue-500":t.userAssignment.status==="completed"}])},{default:l(()=>[o(e(J),null,{default:l(()=>[n("div",Le,[n("div",Fe,[o(e(we),{class:b(["h-5 w-5 mt-0.5",{"text-yellow-500":t.userAssignment.status==="pending","text-green-500":t.userAssignment.status==="accepted","text-red-500":t.userAssignment.status==="declined","text-blue-500":t.userAssignment.status==="completed"}])},null,8,["class"]),n("div",null,[o(e(Q),{class:"text-lg"},{default:l(()=>[t.userAssignment.status==="pending"?(a(),r("span",Ve,"ðŸ“‹ Course Assignment - Action Required")):t.userAssignment.status==="accepted"?(a(),r("span",Me,"âœ… Course Assignment - Accepted")):t.userAssignment.status==="declined"?(a(),r("span",Be,"âŒ Course Assignment - Declined")):t.userAssignment.status==="completed"?(a(),r("span",Ne,"ðŸŽ‰ Course Assignment - Completed")):c("",!0)]),_:1}),t.userAssignment.assigned_by?(a(),g(e(be),{key:0},{default:l(()=>[m(" Assigned by: "+u(t.userAssignment.assigned_by),1)]),_:1})):c("",!0)])]),o(e(A),{variant:de(t.userAssignment.status)},{default:l(()=>[m(u(t.userAssignment.status.charAt(0).toUpperCase()+t.userAssignment.status.slice(1)),1)]),_:1},8,["variant"])])]),_:1}),t.userAssignment.status==="pending"?(a(),g(e($),{key:0},{default:l(()=>[n("div",Ue,[o(e(v),{as:e(B),href:i.route("assignments.accept",t.userAssignment.id),method:"post"},{default:l(()=>[o(e(ee),{class:"mr-2 h-4 w-4"}),s[2]||(s[2]=m(" Accept Assignment "))]),_:1},8,["as","href"]),o(e(v),{as:e(B),href:i.route("assignments.decline",t.userAssignment.id),method:"post",variant:"outline"},{default:l(()=>[o(e(O),{class:"mr-2 h-4 w-4"}),s[3]||(s[3]=m(" Decline Assignment "))]),_:1},8,["as","href"])])]),_:1})):c("",!0)]),_:1},8,["class"])):c("",!0),n("div",je,[o(e(p),{class:"lg:col-span-2 group hover:shadow-lg transition-all duration-200"},{default:l(()=>[n("div",Oe,[t.course.image_path?(a(),r("img",{key:0,src:`/storage/${t.course.image_path}`,alt:t.course.name,class:"absolute inset-0 w-full h-full object-fill transition-transform duration-500 group-hover:scale-105",loading:"lazy"},null,8,Ye)):(a(),r("div",qe,[o(e(Y),{class:"w-12 h-12 text-muted-foreground"})]))]),o(e($),{class:"p-6 sm:p-8"},{default:l(()=>[n("div",{class:"prose max-w-none mb-8 text-foreground",innerHTML:t.course.description},null,8,ze),n("div",Ie,[o(e(p),{class:"p-4"},{default:l(()=>[n("div",We,[o(e(P),{class:"h-4 w-4"}),s[4]||(s[4]=n("span",{class:"text-sm font-medium"},"Start Date",-1))]),n("p",Ge,u(G(t.course.start_date)),1)]),_:1}),o(e(p),{class:"p-4"},{default:l(()=>[n("div",He,[o(e(P),{class:"h-4 w-4"}),s[5]||(s[5]=n("span",{class:"text-sm font-medium"},"End Date",-1))]),n("p",Ke,u(G(t.course.end_date)),1)]),_:1}),t.course.level?(a(),g(e(p),{key:0,class:"p-4"},{default:l(()=>[n("div",Xe,[o(e(A),{variant:"outline",class:"text-xs"},{default:l(()=>s[6]||(s[6]=[m("Level")])),_:1})]),n("p",Je,u(t.course.level),1)]),_:1})):c("",!0),t.course.duration?(a(),g(e(p),{key:1,class:"p-4"},{default:l(()=>[n("div",Qe,[o(e(q),{class:"h-4 w-4"}),s[7]||(s[7]=n("span",{class:"text-sm font-medium"},"Total Duration",-1))]),n("p",Ze,u(t.course.duration)+" hours",1)]),_:1})):c("",!0)])]),_:1})]),_:1}),o(e(p),{class:"h-fit"},{default:l(()=>[o(e(J),null,{default:l(()=>[o(e(Q),{class:"flex items-center"},{default:l(()=>[o(e(Y),{class:"mr-2 h-5 w-5"}),s[8]||(s[8]=m(" Course Enrollment "))]),_:1})]),_:1}),o(e($),{class:"space-y-6"},{default:l(()=>[t.isEnrolled?(a(),r("div",{class:"space-y-6",key:F.value},[n("div",Ds,[n("div",Rs,[n("div",{class:b(["w-3 h-3 rounded-full mr-3",{"bg-green-500":t.userStatus==="completed","bg-primary":t.userStatus==="pending"||t.userStatus==="in_progress"}])},null,2),n("span",$s," Status: "+u(t.userStatus==="completed"?"Completed":"Enrolled"),1)]),(t.userStatus==="pending"||t.userStatus==="in_progress")&&!V.value?(a(),g(e(w),{key:0,class:"border-yellow-200"},{default:l(()=>{var d;return[o(e(I),{class:"h-4 w-4"}),o(e(C),null,{default:l(()=>s[23]||(s[23]=[m("ðŸ“‹ Rate This Course First")])),_:1}),o(e(S),{class:"mb-4"},{default:l(()=>s[24]||(s[24]=[m(" Please rate this course before marking it as complete. ")])),_:1}),n("div",Ps,[n("div",null,[o(e(j),{class:"text-sm font-medium"},{default:l(()=>s[25]||(s[25]=[m("Your Rating")])),_:1}),n("div",Ls,[(a(),r(N,null,U(5,_=>o(e(v),{key:_,type:"button",onClick:rt=>e(x).rating=_,variant:"ghost",size:"sm",class:"p-1"},{default:l(()=>[o(e(I),{class:b(["h-6 w-6",{"text-yellow-400 fill-current":_<=e(x).rating,"text-muted-foreground":_>e(x).rating}])},null,8,["class"])]),_:2},1032,["onClick"])),64))])]),n("div",null,[o(e(j),{class:"text-sm font-medium"},{default:l(()=>s[26]||(s[26]=[m(" Feedback "),n("span",{class:"text-destructive"},"*",-1)])),_:1}),o(e(ve),{modelValue:e(x).feedback,"onUpdate:modelValue":s[1]||(s[1]=_=>e(x).feedback=_),placeholder:"Please share your thoughts about this course... (required)",class:b(["mt-2",{"border-destructive":e(x).errors.feedback}]),required:""},null,8,["modelValue","class"]),e(x).errors.feedback?(a(),r("div",Fs,u(e(x).errors.feedback),1)):c("",!0),s[27]||(s[27]=n("p",{class:"text-xs text-muted-foreground mt-1"},"Minimum 10 characters required",-1))]),o(e(v),{onClick:ie,disabled:e(x).processing||e(x).rating===0||!((d=e(x).feedback)!=null&&d.trim())||e(x).feedback.trim().length<10,class:"w-full"},{default:l(()=>[e(x).processing?(a(),g(e(z),{key:0,class:"mr-2 h-4 w-4 animate-spin"})):c("",!0),e(x).processing?(a(),r("span",Vs,"Submitting Rating...")):(a(),r("span",Ms,"Submit Rating"))]),_:1},8,["disabled"])])]}),_:1})):(t.userStatus==="pending"||t.userStatus==="in_progress")&&V.value?(a(),g(e(w),{key:1,class:"border-green-200"},{default:l(()=>[o(e(Ce),{class:"h-4 w-4"}),o(e(C),null,{default:l(()=>s[28]||(s[28]=[m("âœ… Ready to Complete")])),_:1}),o(e(S),{class:"mb-4"},{default:l(()=>s[29]||(s[29]=[m(" Thank you for rating! You can now mark this course as completed. ")])),_:1}),t.completion&&t.completion.rating?(a(),r("div",Bs,[n("div",Ns,[s[30]||(s[30]=n("span",{class:"text-sm"},"Your rating:",-1)),n("div",Us,[(a(),r(N,null,U(5,d=>o(e(I),{key:d,class:b(["h-4 w-4",d<=t.completion.rating?"text-yellow-400 fill-current":"text-muted-foreground"])},null,8,["class"])),64))])])])):c("",!0),o(e(v),{onClick:le,disabled:e(T).processing,class:"w-full"},{default:l(()=>[e(T).processing?(a(),g(e(z),{key:0,class:"mr-2 h-4 w-4 animate-spin"})):(a(),g(e(ee),{key:1,class:"mr-2 h-4 w-4"})),e(T).processing?(a(),r("span",js,"Processing...")):(a(),r("span",Os,"Mark as Completed"))]),_:1},8,["disabled"])]),_:1})):t.userStatus==="completed"?(a(),g(e(w),{key:2,class:"border-green-200"},{default:l(()=>[o(e(Te),{class:"h-4 w-4"}),o(e(C),null,{default:l(()=>s[31]||(s[31]=[m("ðŸŽ‰ Course Completed!")])),_:1}),o(e(S),{class:"mb-4"},{default:l(()=>s[32]||(s[32]=[m(" Congratulations! You've successfully completed all sessions in this course. ")])),_:1}),o(e(v),{as:e(B),href:"/courses",class:"w-full"},{default:l(()=>[o(e(Y),{class:"mr-2 h-4 w-4"}),s[33]||(s[33]=m(" Browse More Courses "))]),_:1},8,["as"])]),_:1})):c("",!0),t.selectedAvailability?(a(),g(e(p),{key:3,class:"bg-primary/5 border-primary/20"},{default:l(()=>[o(e($),{class:"p-4"},{default:l(()=>[n("div",Ys,[o(e(Ee),{class:"h-4 w-4 text-primary"}),s[34]||(s[34]=n("span",{class:"text-sm font-medium text-primary"},"Your Selected Session Schedule",-1))]),n("div",qs,[n("div",null,[n("p",zs,u(t.selectedAvailability.formatted_date_range),1),n("p",Is,u(E(t.selectedAvailability.start_date))+" - "+u(E(t.selectedAvailability.end_date)),1)]),n("div",Ws,[s[39]||(s[39]=n("h4",{class:"text-xs font-semibold text-foreground uppercase tracking-wide"},"Schedule Details",-1)),t.selectedAvailability.formatted_days&&t.selectedAvailability.formatted_days!=="N/A"?(a(),r("div",Gs,[o(e(se),{class:"h-4 w-4 text-muted-foreground"}),s[35]||(s[35]=n("span",{class:"text-muted-foreground"},"Days:",-1)),o(e(A),{variant:"outline",class:"text-xs"},{default:l(()=>[m(u(t.selectedAvailability.formatted_days),1)]),_:1})])):c("",!0),t.selectedAvailability.duration_weeks?(a(),r("div",Hs,[o(e(P),{class:"h-4 w-4 text-muted-foreground"}),s[36]||(s[36]=n("span",{class:"text-muted-foreground"},"Duration:",-1)),n("span",Ks,u(t.selectedAvailability.duration_weeks)+" weeks",1)])):c("",!0),t.selectedAvailability.session_time_shift_2||t.selectedAvailability.session_time_shift_3?(a(),r("div",Xs,[o(e(te),{class:"h-4 w-4 text-muted-foreground mt-0.5"}),n("div",Js,[s[37]||(s[37]=n("span",{class:"text-muted-foreground"},"Session Times:",-1)),n("div",Qs,[t.selectedAvailability.session_time_shift_2?(a(),r("div",Zs," Shift 2: "+u(t.selectedAvailability.session_time_shift_2),1)):c("",!0),t.selectedAvailability.session_time_shift_3?(a(),r("div",et," Shift 3: "+u(t.selectedAvailability.session_time_shift_3),1)):c("",!0)])])])):c("",!0),t.selectedAvailability.formatted_session_duration?(a(),r("div",st,[o(e(q),{class:"h-4 w-4 text-muted-foreground"}),s[38]||(s[38]=n("span",{class:"text-muted-foreground"},"Length:",-1)),n("span",tt,u(t.selectedAvailability.formatted_session_duration),1)])):c("",!0)]),n("div",nt,[n("p",ot," Total Capacity: "+u(t.selectedAvailability.capacity)+" sessions ",1),n("p",it," Available: "+u(t.selectedAvailability.sessions)+" sessions ",1),n("p",at," Enrolled: "+u(t.selectedAvailability.capacity-t.selectedAvailability.sessions)+" sessions ",1)])])]),_:1})]),_:1})):c("",!0)])])):(a(),r("div",es,[t.userAssignment&&t.userAssignment.status==="accepted"?(a(),r("div",ss,s[9]||(s[9]=[n("p",{class:"text-muted-foreground mb-6 leading-relaxed"}," This course has been assigned to you. Select a session schedule to complete your enrollment. ",-1)]))):t.userAssignment&&t.userAssignment.status==="pending"?(a(),g(e(w),{key:1,class:"border-yellow-200"},{default:l(()=>[o(e(Z),{class:"h-4 w-4"}),o(e(C),null,{default:l(()=>s[10]||(s[10]=[m("Assignment Pending")])),_:1}),o(e(S),null,{default:l(()=>s[11]||(s[11]=[m(" Please accept your course assignment above to proceed with enrollment. ")])),_:1})]),_:1})):t.userAssignment&&t.userAssignment.status==="declined"?(a(),g(e(w),{key:2,class:"border-destructive"},{default:l(()=>[o(e(O),{class:"h-4 w-4"}),o(e(C),null,{default:l(()=>s[12]||(s[12]=[m("Assignment Declined")])),_:1}),o(e(S),null,{default:l(()=>s[13]||(s[13]=[m(" You have declined this course assignment. Contact your administrator if you'd like to reconsider. ")])),_:1})]),_:1})):(a(),r("div",ts,s[14]||(s[14]=[n("p",{class:"text-muted-foreground mb-6 leading-relaxed"}," Select a session schedule and enroll in this course to track your progress. ",-1)]))),t.availabilities&&t.availabilities.length>0?(a(),r("div",{key:4,class:b(["space-y-4",{"opacity-50":t.userAssignment&&t.userAssignment.status==="pending"}])},[o(e(j),{class:"text-base font-semibold"},{default:l(()=>s[15]||(s[15]=[m("Available Session Schedules:")])),_:1}),o(e(Ae),{modelValue:e(y).course_availability_id,"onUpdate:modelValue":s[0]||(s[0]=d=>e(y).course_availability_id=d),disabled:t.userAssignment&&t.userAssignment.status==="pending",class:"space-y-3"},{default:l(()=>[(a(!0),r(N,null,U(t.availabilities,d=>(a(),r("div",{key:d.id,class:"flex items-start space-x-3"},[o(e(ke),{value:d.id.toString(),disabled:H(d),class:"mt-1"},null,8,["value","disabled"]),o(e(p),{class:b(["flex-1 p-4",{"border-primary":e(y).course_availability_id===d.id.toString(),"opacity-50":H(d)}])},{default:l(()=>[n("div",ns,[n("div",os,[n("div",null,[n("p",is,u(d.formatted_date_range),1),n("p",as,u(E(d.start_date))+" - "+u(E(d.end_date)),1)]),o(e(A),{variant:me(d)},{default:l(()=>[m(u(fe(d)),1)]),_:2},1032,["variant"])]),n("div",ls,[s[20]||(s[20]=n("h4",{class:"text-xs font-semibold text-foreground uppercase tracking-wide"},"Schedule Details",-1)),d.formatted_days&&d.formatted_days!=="N/A"?(a(),r("div",rs,[o(e(se),{class:"h-4 w-4 text-muted-foreground"}),s[16]||(s[16]=n("span",{class:"text-sm text-muted-foreground"},"Days:",-1)),o(e(A),{variant:"outline",class:"text-xs"},{default:l(()=>[m(u(d.formatted_days),1)]),_:2},1024)])):c("",!0),d.duration_weeks?(a(),r("div",ds,[o(e(P),{class:"h-4 w-4 text-muted-foreground"}),s[17]||(s[17]=n("span",{class:"text-sm text-muted-foreground"},"Duration:",-1)),n("span",us,u(d.duration_weeks)+" weeks",1)])):c("",!0),d.session_time_shift_2||d.session_time_shift_3?(a(),r("div",cs,[o(e(te),{class:"h-4 w-4 text-muted-foreground mt-0.5"}),n("div",ms,[s[18]||(s[18]=n("span",{class:"text-sm text-muted-foreground"},"Session Times:",-1)),n("div",fs,[d.session_time_shift_2?(a(),r("div",gs," Shift 2: "+u(d.session_time_shift_2),1)):c("",!0),d.session_time_shift_3?(a(),r("div",xs," Shift 3: "+u(d.session_time_shift_3),1)):c("",!0)])])])):c("",!0),d.formatted_session_duration?(a(),r("div",hs,[o(e(q),{class:"h-4 w-4 text-muted-foreground"}),s[19]||(s[19]=n("span",{class:"text-sm text-muted-foreground"},"Length:",-1)),n("span",ys,u(d.formatted_session_duration),1)])):c("",!0)]),n("div",ps,[n("p",bs,u(ue(d.capacity)),1),n("p",vs,u(ce(d.sessions)),1),d.capacity-d.sessions>0?(a(),r("p",As,u(d.capacity-d.sessions)+" sessions enrolled ",1)):c("",!0)]),d.notes?(a(),r("div",ks,[n("p",_s,[s[21]||(s[21]=n("span",{class:"font-medium"},"Notes:",-1)),m(" "+u(d.notes),1)])])):c("",!0)])]),_:2},1032,["class"])]))),128))]),_:1},8,["modelValue","disabled"])],2)):!t.availabilities||t.availabilities.length===0?(a(),r("div",ws,s[22]||(s[22]=[n("p",{class:"text-muted-foreground mb-6 leading-relaxed"}," Enroll in this course to track your progress and get access to course materials. ",-1)]))):c("",!0),o(e(v),{onClick:ae,class:"mt-6 w-full",disabled:e(y).processing||t.availabilities&&t.availabilities.length>0&&!e(y).course_availability_id||t.userAssignment&&t.userAssignment.status==="pending"},{default:l(()=>[e(y).processing?(a(),g(e(z),{key:0,class:"mr-2 h-4 w-4 animate-spin"})):c("",!0),e(y).processing?(a(),r("span",Ss,"Enrolling...")):t.userAssignment&&t.userAssignment.status==="pending"?(a(),r("span",Cs,"Accept Assignment First")):t.userAssignment&&t.userAssignment.status==="declined"?(a(),r("span",Ts,"Assignment Declined")):(a(),r("span",Es,"Enroll Now")),!e(y).processing&&(!t.userAssignment||t.userAssignment.status==="accepted")?(a(),g(e(Se),{key:5,class:"ml-2 h-4 w-4"})):c("",!0)]),_:1},8,["disabled"])]))]),_:1})]),_:1})])])]),_:1}))}}),Jt=_e(lt,[["__scopeId","data-v-455d9652"]]);export{Jt as default};
