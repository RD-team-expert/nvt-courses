import{d as w,k as y,o,w as a,e,b as d,u,P as c,j as x,t as r,a as n,f as _,F as h,h as f,n as g,W as b}from"./app-iYB6CK9s.js";import{_ as k}from"./AdminLayout.vue_vue_type_script_setup_true_lang-BmAEUQ0k.js";import"./AppLayout.vue_vue_type_script_setup_true_lang-BOHGZ_58.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-B3PnW6xU.js";import"./index-BHiy4VMt.js";const L={class:"px-4 sm:px-0"},C={class:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-4 sm:mb-6 gap-4"},M={class:"flex flex-col sm:flex-row gap-2 w-full sm:w-auto"},j={class:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6"},z={class:"bg-white rounded-lg shadow p-6"},A={class:"flex items-center"},B={class:"ml-5 w-0 flex-1"},N={class:"text-lg font-medium text-gray-900"},V={class:"bg-white rounded-lg shadow p-6"},U={class:"flex items-center"},D={class:"ml-5 w-0 flex-1"},E={class:"text-lg font-medium text-gray-900"},F={class:"bg-white rounded-lg shadow p-6"},P={class:"flex items-center"},S={class:"ml-5 w-0 flex-1"},T={class:"text-lg font-medium text-gray-900"},H={class:"bg-white rounded-lg shadow overflow-hidden overflow-x-auto"},O={class:"min-w-full divide-y divide-gray-200"},W={class:"bg-white divide-y divide-gray-200"},$={class:"px-6 py-4 whitespace-nowrap"},G={class:"flex items-center"},I={class:"shrink-0 h-10 w-10"},q={class:"text-sm font-bold"},J={class:"ml-4"},K={class:"text-sm font-medium text-gray-900"},Q={class:"text-sm text-gray-500"},R={class:"px-6 py-4 whitespace-nowrap"},X={class:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-gray-100 text-gray-800"},Y={class:"px-6 py-4 whitespace-nowrap"},Z={key:0,class:"flex flex-wrap gap-1"},ee={key:1,class:"text-sm text-gray-400"},te={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},se={class:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium"},re=["onClick","disabled"],oe={key:0,class:"text-center py-12"},ne={class:"text-gray-500"},ie={class:"mt-6"},xe=w({__name:"Index",props:{userLevels:Array,stats:Object},setup(i){const p=l=>{confirm("Are you sure you want to delete this user level? This action cannot be undone.")&&b.delete(route("admin.user-levels.destroy",l),{preserveState:!0,onSuccess:()=>{alert("User level deleted successfully!")},onError:t=>{console.error("Delete failed:",t),alert("Failed to delete user level. Please try again.")}})},v=[{name:"Dashboard",href:route("dashboard")},{name:"Organizational Management",href:route("admin.user-levels.index")},{name:"User Levels",href:route("admin.user-levels.index")}];return(l,t)=>(o(),y(k,{breadcrumbs:v},{default:a(()=>[e("div",L,[e("div",C,[t[1]||(t[1]=e("h1",{class:"text-xl sm:text-2xl font-bold"},"User Level Management",-1)),e("div",M,[d(u(c),{href:l.route("admin.user-levels.create"),class:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600 transition w-full sm:w-auto text-center"},{default:a(()=>t[0]||(t[0]=[x(" Add New Level ")])),_:1},8,["href"])])]),e("div",j,[e("div",z,[e("div",A,[t[3]||(t[3]=e("div",{class:"shrink-0"},[e("div",{class:"w-8 h-8 bg-blue-500 rounded-md flex items-center justify-center"},[e("svg",{class:"h-5 w-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"})])])],-1)),e("div",B,[e("dl",null,[t[2]||(t[2]=e("dt",{class:"text-sm font-medium text-gray-500 truncate"},"Total Levels",-1)),e("dd",N,r(i.stats.total_levels||0),1)])])])]),e("div",V,[e("div",U,[t[5]||(t[5]=e("div",{class:"shrink-0"},[e("div",{class:"w-8 h-8 bg-green-500 rounded-md flex items-center justify-center"},[e("svg",{class:"h-5 w-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})])])],-1)),e("div",D,[e("dl",null,[t[4]||(t[4]=e("dt",{class:"text-sm font-medium text-gray-500 truncate"},"Management Levels",-1)),e("dd",E,r(i.stats.management_levels||0),1)])])])]),e("div",F,[e("div",P,[t[7]||(t[7]=e("div",{class:"shrink-0"},[e("div",{class:"w-8 h-8 bg-purple-500 rounded-md flex items-center justify-center"},[e("svg",{class:"h-5 w-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"})])])],-1)),e("div",S,[e("dl",null,[t[6]||(t[6]=e("dt",{class:"text-sm font-medium text-gray-500 truncate"},"Users Assigned",-1)),e("dd",T,r(i.stats.total_users_assigned||0),1)])])])])]),e("div",H,[e("table",O,[t[10]||(t[10]=e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Level "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Hierarchy "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Can Manage "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Users Count "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Actions ")])],-1)),e("tbody",W,[(o(!0),n(h,null,f(i.userLevels,s=>(o(),n("tr",{key:s.id},[e("td",$,[e("div",G,[e("div",I,[e("div",{class:g(["h-10 w-10 rounded-full flex items-center justify-center",{"bg-blue-100 text-blue-600":s.hierarchy_level===1,"bg-green-100 text-green-600":s.hierarchy_level===2,"bg-orange-100 text-orange-600":s.hierarchy_level===3,"bg-red-100 text-red-600":s.hierarchy_level===4}])},[e("span",q,r(s.code),1)],2)]),e("div",J,[e("div",K,r(s.name),1),e("div",Q,r(s.description),1)])])]),e("td",R,[e("span",X," Level "+r(s.hierarchy_level),1)]),e("td",Y,[s.can_manage_levels&&s.can_manage_levels.length>0?(o(),n("div",Z,[(o(!0),n(h,null,f(s.can_manage_levels,m=>(o(),n("span",{key:m,class:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-blue-100 text-blue-800"},r(m),1))),128))])):(o(),n("div",ee,"None"))]),e("td",te,r(s.users_count)+" users ",1),e("td",se,[d(u(c),{href:l.route("admin.user-levels.show",s.id),class:"text-blue-600 hover:text-blue-900 mr-3 transition-colors"},{default:a(()=>t[8]||(t[8]=[x(" View ")])),_:2},1032,["href"]),d(u(c),{href:l.route("admin.user-levels.edit",s.id),class:"text-indigo-600 hover:text-indigo-900 mr-3 transition-colors"},{default:a(()=>t[9]||(t[9]=[x(" Edit ")])),_:2},1032,["href"]),e("button",{onClick:m=>p(s.id),class:g(["text-red-600 hover:text-red-900 transition-colors",{"opacity-50 cursor-not-allowed":s.users_count>0}]),disabled:s.users_count>0}," Delete ",10,re)])]))),128))])]),!i.userLevels||i.userLevels.length===0?(o(),n("div",oe,[e("div",ne,[t[12]||(t[12]=e("svg",{class:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"})],-1)),t[13]||(t[13]=e("h3",{class:"mt-2 text-sm font-medium text-gray-900"},"No user levels found",-1)),t[14]||(t[14]=e("p",{class:"mt-1 text-sm text-gray-500"},"Get started by creating organizational levels (L1, L2, L3, L4).",-1)),e("div",ie,[d(u(c),{href:l.route("admin.user-levels.create"),class:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-hidden focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"},{default:a(()=>t[11]||(t[11]=[x(" Add New Level ")])),_:1},8,["href"])])])])):_("",!0)])])]),_:1}))}});export{xe as default};
