import{d as W,c as O,a as b,o as i,b as t,u as e,m as R,w as r,e as o,g,h as v,f as d,P as S,t as n,F as V,i as Y,y as J,n as K,k as Q,W as k}from"./app-MXdxrpBP.js";import{g as X,h as Z,i as ee,j as te,k as y,l as A,f as se}from"./AppLayout.vue_vue_type_script_setup_true_lang-tiastS8M.js";import{_ as w}from"./Button.vue_vue_type_script_setup_true_lang-BKr8K4x3.js";import{_ as m}from"./Card.vue_vue_type_script_setup_true_lang-DoQFXKAt.js";import{_ as p}from"./CardContent.vue_vue_type_script_setup_true_lang-ClX6NZUE.js";import{_ as T}from"./CardDescription.vue_vue_type_script_setup_true_lang-DfVH0C_I.js";import{_ as D}from"./CardHeader.vue_vue_type_script_setup_true_lang-Iarz0SgV.js";import{_ as M}from"./CardTitle.vue_vue_type_script_setup_true_lang-BuAAUoQF.js";import{_ as C}from"./index-CM7dsTQQ.js";import{_ as re,a as oe,b as $,c as f,d as ae,e as u}from"./TableHeader.vue_vue_type_script_setup_true_lang-64qyV9Mz.js";import{S as h}from"./square-play-VUG8blYq.js";import{P}from"./plus-_783oh-x.js";import{P as le}from"./play-fEZkz90P.js";import{U as z,_ as de}from"./_plugin-vue_export-helper-BDH3hSXr.js";import{C as ne}from"./circle-check-big-CkUvsTYQ.js";import{T as B}from"./trending-up-DNhiRsiv.js";import{H as E,C as ie}from"./hard-drive-CAmui5zl.js";import{F as ue}from"./folder-open-D2Uqs56Z.js";import{C as fe}from"./clock-3FpBgrtN.js";import{E as ce}from"./ellipsis-DVIbTzVA.js";import{C as ge}from"./chart-column-DofSrfe9.js";import{S as me}from"./square-pen-DtFUwhrQ.js";import{T as pe,a as _e}from"./toggle-right-DM1IO1hi.js";import{T as xe}from"./trash-2-DhO8CGfN.js";import"./index-s_lgDGGZ.js";import"./index-DAJ2Iuju.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-DOvyjOLF.js";const be={class:"space-y-6 bg-background text-foreground"},ve={class:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4"},ke={class:"text-2xl font-bold flex items-center gap-2 text-foreground"},ye={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4"},he={class:"flex items-center gap-3"},we={class:"p-2 bg-blue-500 dark:bg-blue-600 rounded-lg"},Ce={class:"text-2xl font-bold text-blue-900 dark:text-blue-100"},$e={class:"flex items-center gap-3"},Se={class:"p-2 bg-green-500 dark:bg-green-600 rounded-lg"},Ve={class:"text-2xl font-bold text-green-900 dark:text-green-100"},Ae={class:"flex items-center gap-3"},Te={class:"p-2 bg-purple-500 dark:bg-purple-600 rounded-lg"},De={class:"text-2xl font-bold text-purple-900 dark:text-purple-100"},Me={class:"flex items-center gap-3"},Pe={class:"p-2 bg-orange-500 dark:bg-orange-600 rounded-lg"},ze={class:"text-2xl font-bold text-orange-900 dark:text-orange-100"},Be={class:"flex items-center gap-3"},Ee={class:"p-2 bg-teal-500 dark:bg-teal-600 rounded-lg"},Ne={class:"text-2xl font-bold text-teal-900 dark:text-teal-100"},Fe={class:"grid grid-cols-3 gap-6"},je={class:"text-3xl font-bold text-foreground"},Ie={class:"text-3xl font-bold text-foreground"},Le={class:"text-xs text-muted-foreground"},Ue={class:"text-3xl font-bold text-foreground"},qe={class:"flex items-center gap-3"},Ge={class:"relative w-16 h-16 rounded-lg overflow-hidden bg-gradient-to-br from-blue-100 to-purple-100 dark:from-blue-950/50 dark:to-purple-950/50 flex items-center justify-center shrink-0 border border-muted"},He=["src","alt"],We={class:"min-w-0 flex-1"},Oe={class:"font-semibold truncate text-base text-foreground"},Re={class:"text-sm text-muted-foreground truncate max-w-xs"},Ye={class:"text-xs text-muted-foreground mt-1 flex items-center gap-1"},Je={key:0,class:"text-xs text-muted-foreground mt-1"},Ke={key:1,class:"text-muted-foreground text-sm"},Qe={class:"flex items-center gap-1 text-sm text-foreground"},Xe={class:"space-y-1"},Ze={class:"flex items-center gap-2 text-sm text-foreground"},et={class:"flex items-center gap-2 text-sm"},tt=W({__name:"Index",props:{videos:{},categories:{},storageStats:{}},setup(N){const c=N,F=[{title:"Video Management",href:"/admin/videos"}],x=O(()=>({total:c.videos.length,active:c.videos.filter(l=>l.is_active).length,totalViewers:c.videos.reduce((l,s)=>l+s.total_viewers,0),completed:c.videos.reduce((l,s)=>l+s.completed_viewers,0),avgCompletion:c.videos.length>0?Math.round(c.videos.reduce((l,s)=>l+s.avg_completion,0)/c.videos.length):0}));function j(l){k.visit(`/admin/videos/${l.id}`)}function I(l){k.visit(`/admin/videos/${l.id}/edit`)}function L(l){k.post(`/admin/videos/${l.id}/toggle-active`,{},{preserveScroll:!0,onSuccess:()=>{console.log(`Video ${l.is_active?"deactivated":"activated"} successfully`)}})}function U(l){confirm(`Are you sure you want to delete "${l.name}"? This action cannot be undone.`)&&k.delete(`/admin/videos/${l.id}`,{onSuccess:()=>{console.log("Video deleted successfully")}})}function q(l){return l?"default":"secondary"}function G(l){return l>=80?"text-green-600":l>=60?"text-yellow-600":"text-red-600"}function H(l){const s=l.target;s.style.display="none";const a=s.parentElement;if(a){const _=a.querySelector(".fallback-icon");_&&(_.style.display="flex")}}return(l,s)=>(i(),b(V,null,[t(e(R),{title:"Video Management"}),t(se,{breadcrumbs:F},{default:r(()=>[o("div",be,[o("div",ve,[o("div",null,[o("h1",ke,[t(e(h),{class:"h-7 w-7 text-blue-600 dark:text-blue-500"}),s[0]||(s[0]=d(" Video Management "))]),s[1]||(s[1]=o("p",{class:"text-muted-foreground"},"Manage your video courses and track performance",-1))]),t(e(w),{"as-child":"",size:"default",class:"bg-primary text-primary-foreground hover:bg-primary/90"},{default:r(()=>[t(e(S),{href:"/admin/videos/create"},{default:r(()=>[t(e(P),{class:"h-4 w-4 mr-2"}),s[2]||(s[2]=d(" Add Video Course "))]),_:1})]),_:1})]),o("div",ye,[t(e(m),{class:"border-0 bg-gradient-to-br from-blue-50 to-blue-100 dark:from-blue-950/50 dark:to-blue-900/50 border border-blue-200/50 dark:border-blue-800/50"},{default:r(()=>[t(e(p),{class:"p-4"},{default:r(()=>[o("div",he,[o("div",we,[t(e(h),{class:"h-6 w-6 text-white"})]),o("div",null,[o("div",Ce,n(x.value.total),1),s[3]||(s[3]=o("div",{class:"text-sm text-blue-700 dark:text-blue-300"},"Total Videos",-1))])])]),_:1})]),_:1}),t(e(m),{class:"border-0 bg-gradient-to-br from-green-50 to-green-100 dark:from-green-950/50 dark:to-green-900/50 border border-green-200/50 dark:border-green-800/50"},{default:r(()=>[t(e(p),{class:"p-4"},{default:r(()=>[o("div",$e,[o("div",Se,[t(e(le),{class:"h-6 w-6 text-white"})]),o("div",null,[o("div",Ve,n(x.value.active),1),s[4]||(s[4]=o("div",{class:"text-sm text-green-700 dark:text-green-300"},"Active",-1))])])]),_:1})]),_:1}),t(e(m),{class:"border-0 bg-gradient-to-br from-purple-50 to-purple-100 dark:from-purple-950/50 dark:to-purple-900/50 border border-purple-200/50 dark:border-purple-800/50"},{default:r(()=>[t(e(p),{class:"p-4"},{default:r(()=>[o("div",Ae,[o("div",Te,[t(e(z),{class:"h-6 w-6 text-white"})]),o("div",null,[o("div",De,n(x.value.totalViewers),1),s[5]||(s[5]=o("div",{class:"text-sm text-purple-700 dark:text-purple-300"},"Total Viewers",-1))])])]),_:1})]),_:1}),t(e(m),{class:"border-0 bg-gradient-to-br from-orange-50 to-orange-100 dark:from-orange-950/50 dark:to-orange-900/50 border border-orange-200/50 dark:border-orange-800/50"},{default:r(()=>[t(e(p),{class:"p-4"},{default:r(()=>[o("div",Me,[o("div",Pe,[t(e(ne),{class:"h-6 w-6 text-white"})]),o("div",null,[o("div",ze,n(x.value.completed),1),s[6]||(s[6]=o("div",{class:"text-sm text-orange-700 dark:text-orange-300"},"Completed",-1))])])]),_:1})]),_:1}),t(e(m),{class:"border-0 bg-gradient-to-br from-teal-50 to-teal-100 dark:from-teal-950/50 dark:to-teal-900/50 border border-teal-200/50 dark:border-teal-800/50"},{default:r(()=>[t(e(p),{class:"p-4"},{default:r(()=>[o("div",Be,[o("div",Ee,[t(e(B),{class:"h-6 w-6 text-white"})]),o("div",null,[o("div",Ne,n(x.value.avgCompletion)+"% ",1),s[7]||(s[7]=o("div",{class:"text-sm text-teal-700 dark:text-teal-300"},"Avg Progress",-1))])])]),_:1})]),_:1})]),l.storageStats?(i(),g(e(m),{key:0,class:"bg-card border-border"},{default:r(()=>[t(e(D),{class:"bg-card text-card-foreground"},{default:r(()=>[t(e(M),{class:"text-xl flex items-center gap-2"},{default:r(()=>[t(e(E),{class:"h-5 w-5"}),s[8]||(s[8]=d(" Local Storage Statistics "))]),_:1}),t(e(T),{class:"text-muted-foreground"},{default:r(()=>s[9]||(s[9]=[d(" Monitor your local video storage usage ")])),_:1})]),_:1}),t(e(p),null,{default:r(()=>[o("div",Fe,[o("div",null,[s[10]||(s[10]=o("p",{class:"text-sm text-muted-foreground mb-1"},"Total Files",-1)),o("p",je,n(l.storageStats.total_files),1)]),o("div",null,[s[11]||(s[11]=o("p",{class:"text-sm text-muted-foreground mb-1"},"Storage Used",-1)),o("p",Ie,n(l.storageStats.total_size_mb)+" MB",1),o("p",Le,"("+n(l.storageStats.total_size_gb)+" GB)",1)]),o("div",null,[s[12]||(s[12]=o("p",{class:"text-sm text-muted-foreground mb-1"},"Storage Disk",-1)),o("p",Ue,n(l.storageStats.disk),1)])])]),_:1})]),_:1})):v("",!0),t(e(m),{class:"bg-card border-border"},{default:r(()=>[t(e(D),{class:"bg-card text-card-foreground"},{default:r(()=>[t(e(M),{class:"text-xl"},{default:r(()=>s[13]||(s[13]=[d("Video Courses")])),_:1}),t(e(T),{class:"text-muted-foreground"},{default:r(()=>s[14]||(s[14]=[d(" Manage your video courses and track their performance ")])),_:1})]),_:1}),t(e(p),{class:"p-0"},{default:r(()=>[t(e(re),null,{default:r(()=>[t(e(oe),null,{default:r(()=>[t(e($),{class:"border-border"},{default:r(()=>[t(e(f),{class:"text-foreground"},{default:r(()=>s[15]||(s[15]=[d("Video")])),_:1}),t(e(f),{class:"text-foreground"},{default:r(()=>s[16]||(s[16]=[d("Storage")])),_:1}),t(e(f),{class:"text-foreground"},{default:r(()=>s[17]||(s[17]=[d("Category")])),_:1}),t(e(f),{class:"text-foreground"},{default:r(()=>s[18]||(s[18]=[d("Duration")])),_:1}),t(e(f),{class:"text-foreground"},{default:r(()=>s[19]||(s[19]=[d("Status")])),_:1}),t(e(f),{class:"text-foreground"},{default:r(()=>s[20]||(s[20]=[d("Analytics")])),_:1}),t(e(f),{class:"text-foreground"},{default:r(()=>s[21]||(s[21]=[d("Created")])),_:1}),t(e(f),{class:"text-right text-foreground"},{default:r(()=>s[22]||(s[22]=[d("Actions")])),_:1})]),_:1})]),_:1}),t(e(ae),null,{default:r(()=>[(i(!0),b(V,null,Y(l.videos,a=>(i(),g(e($),{key:a.id,class:"hover:bg-accent/50 border-border text-card-foreground"},{default:r(()=>[t(e(u),null,{default:r(()=>[o("div",qe,[o("div",Ge,[a.thumbnail_url?(i(),b("img",{key:0,src:a.thumbnail_url,alt:a.name,class:"w-full h-full object-cover",onError:H},null,40,He)):v("",!0),t(e(h),{class:"fallback-icon h-8 w-8 text-blue-500 dark:text-blue-400",style:J({display:a.thumbnail_url?"none":"flex"})},null,8,["style"])]),o("div",We,[o("div",Oe,n(a.name),1),o("div",Re,n(a.description||"No description"),1),o("div",Ye,[o("span",null,"by "+n(a.creator.name),1)])])])]),_:2},1024),t(e(u),null,{default:r(()=>[t(e(C),{variant:a.storage_type==="google_drive"?"secondary":"default",class:"gap-1 bg-background border-border text-foreground"},{default:r(()=>[a.storage_type==="google_drive"?(i(),g(e(ie),{key:0,class:"h-3 w-3"})):(i(),g(e(E),{key:1,class:"h-3 w-3"})),d(" "+n(a.storage_type_label||(a.storage_type==="google_drive"?"Drive":"Local")),1)]),_:2},1032,["variant"]),a.storage_type==="local"&&a.formatted_file_size?(i(),b("div",Je,n(a.formatted_file_size),1)):v("",!0)]),_:2},1024),t(e(u),null,{default:r(()=>[a.category?(i(),g(e(C),{key:0,variant:"outline",class:"gap-1 bg-background border-border text-foreground"},{default:r(()=>[t(e(ue),{class:"h-3 w-3"}),d(" "+n(a.category.name),1)]),_:2},1024)):(i(),b("span",Ke,"No category"))]),_:2},1024),t(e(u),null,{default:r(()=>[o("div",Qe,[t(e(fe),{class:"h-4 w-4 text-muted-foreground"}),d(" "+n(a.formatted_duration),1)])]),_:2},1024),t(e(u),null,{default:r(()=>[t(e(C),{variant:q(a.is_active),class:"bg-background border-border"},{default:r(()=>[d(n(a.is_active?"Active":"Inactive"),1)]),_:2},1032,["variant"])]),_:2},1024),t(e(u),null,{default:r(()=>[o("div",Xe,[o("div",Ze,[t(e(z),{class:"h-4 w-4 text-muted-foreground"}),o("span",null,n(a.total_viewers)+" viewers",1)]),o("div",et,[t(e(B),{class:"h-4 w-4 text-muted-foreground"}),o("span",{class:K(G(a.avg_completion))},n(Math.round(a.avg_completion))+"% completion ",3)])])]),_:2},1024),t(e(u),{class:"text-sm text-muted-foreground"},{default:r(()=>[d(n(new Date(a.created_at).toLocaleDateString()),1)]),_:2},1024),t(e(u),{class:"text-right"},{default:r(()=>[t(e(X),null,{default:r(()=>[t(e(Z),{"as-child":""},{default:r(()=>[t(e(w),{variant:"ghost",size:"sm",class:"text-foreground hover:bg-accent hover:text-accent-foreground"},{default:r(()=>[t(e(ce),{class:"h-4 w-4"})]),_:1})]),_:1}),t(e(ee),{align:"end",class:"bg-popover border-border text-popover-foreground"},{default:r(()=>[t(e(te),{class:"text-popover-foreground"},{default:r(()=>s[23]||(s[23]=[d("Actions")])),_:1}),t(e(y),{onClick:_=>j(a),class:"text-popover-foreground hover:bg-accent hover:text-accent-foreground cursor-pointer"},{default:r(()=>[t(e(ge),{class:"h-4 w-4 mr-2"}),s[24]||(s[24]=d(" Analytics "))]),_:2},1032,["onClick"]),t(e(y),{onClick:_=>I(a),class:"text-popover-foreground hover:bg-accent hover:text-accent-foreground cursor-pointer"},{default:r(()=>[t(e(me),{class:"h-4 w-4 mr-2"}),s[25]||(s[25]=d(" Edit "))]),_:2},1032,["onClick"]),t(e(A),{class:"bg-border"}),t(e(y),{onClick:_=>L(a),class:"text-popover-foreground hover:bg-accent hover:text-accent-foreground cursor-pointer"},{default:r(()=>[(i(),g(Q(a.is_active?e(pe):e(_e)),{class:"h-4 w-4 mr-2"})),d(" "+n(a.is_active?"Deactivate":"Activate"),1)]),_:2},1032,["onClick"]),t(e(A),{class:"bg-border"}),t(e(y),{onClick:_=>U(a),class:"text-destructive focus:text-destructive cursor-pointer"},{default:r(()=>[t(e(xe),{class:"h-4 w-4 mr-2"}),s[26]||(s[26]=d(" Delete "))]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128)),l.videos.length===0?(i(),g(e($),{key:0,class:"border-border"},{default:r(()=>[t(e(u),{colspan:"8",class:"text-center py-16 text-muted-foreground"},{default:r(()=>[t(e(h),{class:"h-16 w-16 mx-auto text-muted-foreground mb-6"}),s[28]||(s[28]=o("div",{class:"text-lg font-medium mb-2 text-foreground"},"No video courses found",-1)),s[29]||(s[29]=o("p",{class:"text-muted-foreground mb-4"}," Get started by creating your first video course ",-1)),t(e(w),{"as-child":"",class:"bg-primary text-primary-foreground hover:bg-primary/90"},{default:r(()=>[t(e(S),{href:"/admin/videos/create"},{default:r(()=>[t(e(P),{class:"h-4 w-4 mr-2"}),s[27]||(s[27]=d(" Add Your First Video Course "))]),_:1})]),_:1})]),_:1})]),_:1})):v("",!0)]),_:1})]),_:1})]),_:1})]),_:1})])]),_:1})],64))}}),Tt=de(tt,[["__scopeId","data-v-dd13aa89"]]);export{Tt as default};
