import{d as j,C as I,r as N,a,o as l,e as s,g as u,f as i,v as p,u as r,t as n,b as _,i as h,w as P,j as B,P as E,p as A}from"./app-CGpEa2Rf.js";import{E as L}from"./Editor-DdXjE3fp.js";const M={key:0,class:"text-red-500 text-sm mt-1"},R={class:"mt-1"},F={key:0,class:"text-red-500 text-sm mt-1"},T={class:"mt-1 flex flex-col sm:flex-row items-start sm:items-center sm:space-x-4 space-y-3 sm:space-y-0"},q=["src"],K={key:1,class:"h-32 w-full sm:w-48 flex items-center justify-center bg-gray-100 rounded-md"},O={class:"flex items-center"},$={key:0,class:"text-red-500 text-sm mt-1"},z={class:"grid grid-cols-1 md:grid-cols-2 gap-4 sm:gap-6"},G={key:0,class:"text-red-500 text-sm mt-1"},H={key:0,class:"text-red-500 text-sm mt-1"},J={key:0,class:"text-red-500 text-sm mt-1"},Q={key:0,class:"text-red-500 text-sm mt-1"},W={key:0,class:"text-red-500 text-sm mt-1"},X={class:"flex flex-col sm:flex-row sm:justify-end space-y-2 sm:space-y-0 sm:space-x-3"},Y=["disabled"],Z="your-api-key",se=j({__name:"Form",props:{course:Object,mode:{type:String,default:"create"}},setup(C){var g,f,b,y,v,x,k,w;const d=C,t=I({name:((g=d.course)==null?void 0:g.name)||"",description:((f=d.course)==null?void 0:f.description)||"",image:null,image_path:((b=d.course)==null?void 0:b.image_path)||null,start_date:((y=d.course)==null?void 0:y.start_date)||"",end_date:((v=d.course)==null?void 0:v.end_date)||"",status:((x=d.course)==null?void 0:x.status)||"pending",level:((k=d.course)==null?void 0:k.level)||"",duration:((w=d.course)==null?void 0:w.duration)||""}),m=N(null);function V(c){const e=c.target.files[0];if(e){t.image=e;const o=new FileReader;o.onload=D=>{m.value=D.target.result},o.readAsDataURL(e)}}function S(){t.image=null,t.image_path=null,m.value=null}function U(){d.mode==="edit"?t.post(route("admin.courses.update",d.course.id),{onSuccess:()=>{t.reset(),m.value=null}}):t.post(route("admin.courses.store"),{onSuccess:()=>{t.reset(),m.value=null}})}return(c,e)=>(l(),a("form",{onSubmit:A(U,["prevent"]),class:"space-y-4 sm:space-y-6 px-2 sm:px-0"},[s("div",null,[e[7]||(e[7]=s("label",{for:"name",class:"block text-sm font-medium text-gray-700"},"Course Name",-1)),u(s("input",{id:"name","onUpdate:modelValue":e[0]||(e[0]=o=>r(t).name=o),type:"text",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary focus:ring-primary",required:""},null,512),[[p,r(t).name]]),r(t).errors.name?(l(),a("div",M,n(r(t).errors.name),1)):i("",!0)]),s("div",null,[e[8]||(e[8]=s("label",{for:"description",class:"block text-sm font-medium text-gray-700"},"Description",-1)),s("div",R,[_(r(L),{modelValue:r(t).description,"onUpdate:modelValue":e[1]||(e[1]=o=>r(t).description=o),"api-key":Z,init:{height:300,menubar:!1,plugins:["advlist autolink lists link image charmap print preview anchor","searchreplace visualblocks code fullscreen","insertdatetime media table paste code help wordcount"],toolbar:"undo redo | formatselect | bold italic backcolor |               alignleft aligncenter alignright alignjustify |               bullist numlist outdent indent | removeformat | help",mobile:{menubar:!1,toolbar:"undo redo | bold italic | link | bullist numlist",toolbar_mode:"scrolling"}}},null,8,["modelValue"])]),r(t).errors.description?(l(),a("div",F,n(r(t).errors.description),1)):i("",!0)]),s("div",null,[e[11]||(e[11]=s("label",{for:"image",class:"block text-sm font-medium text-gray-700"},"Course Image",-1)),s("div",T,[m.value||r(t).image_path?(l(),a("img",{key:0,src:m.value||`/storage/${r(t).image_path}`,alt:"Course image preview",class:"h-32 w-full sm:w-auto object-cover rounded-md"},null,8,q)):(l(),a("div",K,e[9]||(e[9]=[s("span",{class:"text-gray-400"},"No image",-1)]))),s("div",O,[e[10]||(e[10]=s("label",{for:"image-upload",class:"cursor-pointer bg-white py-2 px-3 border border-gray-300 rounded-md shadow-sm text-sm leading-4 font-medium text-gray-700 hover:bg-gray-50"}," Change Image ",-1)),s("input",{id:"image-upload",type:"file",class:"hidden",onChange:V,accept:"image/*"},null,32),m.value||r(t).image_path?(l(),a("button",{key:0,type:"button",onClick:S,class:"ml-2 text-sm text-red-600 hover:text-red-800"}," Remove ")):i("",!0)])]),r(t).errors.image?(l(),a("div",$,n(r(t).errors.image),1)):i("",!0)]),s("div",z,[s("div",null,[e[12]||(e[12]=s("label",{for:"start_date",class:"block text-sm font-medium text-gray-700"},"Start Date",-1)),u(s("input",{id:"start_date","onUpdate:modelValue":e[2]||(e[2]=o=>r(t).start_date=o),type:"date",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary focus:ring-primary"},null,512),[[p,r(t).start_date]]),r(t).errors.start_date?(l(),a("div",G,n(r(t).errors.start_date),1)):i("",!0)]),s("div",null,[e[13]||(e[13]=s("label",{for:"end_date",class:"block text-sm font-medium text-gray-700"},"End Date",-1)),u(s("input",{id:"end_date","onUpdate:modelValue":e[3]||(e[3]=o=>r(t).end_date=o),type:"date",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary focus:ring-primary"},null,512),[[p,r(t).end_date]]),r(t).errors.end_date?(l(),a("div",H,n(r(t).errors.end_date),1)):i("",!0)]),s("div",null,[e[15]||(e[15]=s("label",{for:"status",class:"block text-sm font-medium text-gray-700"},"Status",-1)),u(s("select",{id:"status","onUpdate:modelValue":e[4]||(e[4]=o=>r(t).status=o),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary focus:ring-primary"},e[14]||(e[14]=[s("option",{value:"pending"},"Pending",-1),s("option",{value:"in_progress"},"In Progress",-1),s("option",{value:"completed"},"Completed",-1)]),512),[[h,r(t).status]]),r(t).errors.status?(l(),a("div",J,n(r(t).errors.status),1)):i("",!0)]),s("div",null,[e[17]||(e[17]=s("label",{for:"level",class:"block text-sm font-medium text-gray-700"},"Level",-1)),u(s("select",{id:"level","onUpdate:modelValue":e[5]||(e[5]=o=>r(t).level=o),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary focus:ring-primary"},e[16]||(e[16]=[s("option",{value:""},"Select Level",-1),s("option",{value:"beginner"},"Beginner",-1),s("option",{value:"intermediate"},"Intermediate",-1),s("option",{value:"advanced"},"Advanced",-1)]),512),[[h,r(t).level]]),r(t).errors.level?(l(),a("div",Q,n(r(t).errors.level),1)):i("",!0)]),s("div",null,[e[18]||(e[18]=s("label",{for:"duration",class:"block text-sm font-medium text-gray-700"},"Duration (hours)",-1)),u(s("input",{id:"duration","onUpdate:modelValue":e[6]||(e[6]=o=>r(t).duration=o),type:"number",min:"1",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary focus:ring-primary"},null,512),[[p,r(t).duration]]),r(t).errors.duration?(l(),a("div",W,n(r(t).errors.duration),1)):i("",!0)])]),s("div",X,[_(r(E),{href:c.route("admin.courses.index"),class:"py-2 px-4 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 text-center"},{default:P(()=>e[19]||(e[19]=[B(" Cancel ")])),_:1},8,["href"]),s("button",{type:"submit",class:"py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary hover:bg-primary/90",disabled:r(t).processing},n(r(t).processing?"Saving...":"Save Course"),9,Y)])],32))}});export{se as default};
