import{d as ee,r as k,c as D,C as se,g as V,o as i,w as o,e as l,a as d,h as m,b as a,F as B,i as N,u as e,f as u,t as n,n as P,x as te,j as le,q as A,z as q,P as ae}from"./app-sfv6CYbu.js";import{_ as oe}from"./AdminLayout.vue_vue_type_script_setup_true_lang-vvSRP-jI.js";import{E as ie}from"./Editor-Cg7hFyIe.js";import{_ as F}from"./Card.vue_vue_type_script_setup_true_lang-C1bT-eXd.js";import{_ as O}from"./CardContent.vue_vue_type_script_setup_true_lang-Khif222k.js";import{_ as re}from"./CardHeader.vue_vue_type_script_setup_true_lang-DnS62nQf.js";import{_ as de}from"./CardTitle.vue_vue_type_script_setup_true_lang-BUNiHSkD.js";import{_ as h}from"./Button.vue_vue_type_script_setup_true_lang-Ccdh52Vd.js";import{_ as ne}from"./index-Dq640zwT.js";import{_ as x}from"./Input.vue_vue_type_script_setup_true_lang-PAMz5smE.js";import{_ as g}from"./Label.vue_vue_type_script_setup_true_lang-BH1zqArT.js";import{_ as L,a as R,b as T,c as H,d as $}from"./SelectValue.vue_vue_type_script_setup_true_lang-BZdTdVyo.js";import{_ as E,a as I}from"./index-B6tKGzdl.js";import"./AppLayout.vue_vue_type_script_setup_true_lang-BqoVmqtq.js";import"./index-DdH2r2B8.js";import"./index-C4PRPqD0.js";import"./x-BJKYekbZ.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-DttcJlkw.js";import"./clock-DTvpSLd-.js";import"./useForwardPropsEmits--cawDwsm.js";import"./Presence-CHrFqoPB.js";import"./ConfigProvider-CuMY5RD4.js";import"./useForwardExpose-C32JnqdD.js";import"./Teleport-DTKdiWK5.js";import"./handleAndDispatchCustomEvent-ChOKVcqp.js";import"./Collection-DekOIFXO.js";import"./usePrimitiveElement-BTNjppil.js";import"./check-Bs2OgQiG.js";import"./useSize-C9jzGnps.js";import"./ohash.D__AXeF1-DHF4M4F_.js";import"./nullish-CHIgUVhi.js";import"./VisuallyHidden-oKHpmjgu.js";const ue={class:"px-4 sm:px-0"},me={key:0,class:"fixed top-4 right-4 z-50 space-y-2 max-w-md"},ce={class:"flex items-start justify-between"},ve={class:"flex items-start space-x-3"},pe={key:0,class:"mt-2"},fe={key:1,class:"fixed inset-0 bg-black/50 flex items-center justify-center z-50"},be={class:"text-center"},ge={class:"relative w-32 h-32 mx-auto mb-6"},_e={class:"w-32 h-32 transform -rotate-90",viewBox:"0 0 36 36"},xe=["stroke-dasharray"],ye={class:"absolute inset-0 flex items-center justify-center"},ke={class:"text-2xl font-bold text-foreground"},we={class:"mb-6"},he={class:"flex justify-center"},Ce={class:"relative"},Ve={key:1,class:"h-6 w-6 text-orange-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},$e={key:2,class:"h-6 w-6 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},Se={class:"text-xl font-bold mb-3 text-foreground"},Pe={class:"text-muted-foreground mb-4 leading-relaxed"},Ue={class:"bg-gray-50 rounded-lg p-4 mb-6"},je={class:"flex justify-between text-sm text-gray-600 mb-2"},Me={class:"w-full bg-gray-200 rounded-full h-2"},ze={class:"text-xs text-muted-foreground mt-4"},Ee={class:"grid grid-cols-1 md:grid-cols-2 gap-4 sm:gap-6 mb-6"},Ie={class:"col-span-full"},De={key:0,class:"text-destructive text-sm mt-1"},Be={class:"col-span-full"},Ne={class:"mt-1 flex flex-col sm:flex-row items-start sm:items-center sm:space-x-4 space-y-3 sm:space-y-0"},Ae={key:0,class:"h-32 w-full sm:w-48 overflow-hidden rounded-md"},qe=["src"],Fe={key:1,class:"h-32 w-full sm:w-48 flex items-center justify-center bg-gray-100 rounded-md"},Oe={class:"flex items-center"},Le=["disabled"],Re={key:0,class:"text-destructive text-sm mt-1"},Te={class:"col-span-full"},He={key:0,class:"text-destructive text-sm mt-1"},Ge={class:"col-span-1"},Je={key:0,class:"text-destructive text-sm mt-1"},Ke={class:"col-span-1"},Qe={key:0,class:"text-destructive text-sm mt-1"},We={class:"col-span-1"},Xe={key:0,class:"text-destructive text-sm mt-1"},Ye={class:"col-span-1"},Ze={class:"flex items-center space-x-4"},es={class:"flex items-center"},ss=["disabled"],ts={class:"flex items-center"},ls=["disabled"],as={key:0,class:"mt-2 p-2 bg-blue-50 border border-blue-200 rounded text-xs text-blue-700"},os={key:1,class:"mt-1 text-sm text-destructive"},is={class:"col-span-1"},rs={key:0,class:"text-destructive text-sm mt-1"},ds={class:"col-span-1"},ns={key:0,class:"text-destructive text-sm mt-1"},us={class:"mb-6"},ms={class:"flex justify-between items-center mb-4"},cs={class:"space-y-4"},vs={class:"flex justify-between items-center mb-3"},ps={class:"font-medium"},fs={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},bs={key:0,class:"text-destructive text-sm mt-1"},gs={key:0,class:"text-destructive text-sm mt-1"},_s={key:0,class:"text-destructive text-sm mt-1"},xs={key:0,class:"text-destructive text-sm mt-1"},ys={class:"md:col-span-2"},ks={key:0,class:"text-destructive text-sm mt-1"},ws={key:0,class:"text-destructive text-sm mt-2"},hs={class:"flex flex-col sm:flex-row gap-2 mb-4"},Cs={key:0,class:"animate-spin h-4 w-4",fill:"none",viewBox:"0 0 24 24"},Vs={key:1},$s={key:2},it=ee({__name:"Create",setup(Ss){const S=k(null),U=k(!1),f=k(0),_=k(4),w=k([]),v=k(!1),C=k(0),j=k(0),M=p=>p?new Date(p).toISOString().split("T")[0]:"",z=D(()=>_.value===0?0:Math.round(f.value/_.value*100)),y=D(()=>t.privacy==="public"),t=se({name:"",description:"",start_date:"",end_date:"",status:"pending",level:"",duration:"",privacy:"public",image:null,availabilities:[{start_date:"",end_date:"",capacity:25,sessions:1,notes:""}]});function G(p){const s=p.target.files[0];if(s){t.image=s;const r=new FileReader;r.onload=c=>{S.value=c.target.result},r.readAsDataURL(s)}}function J(){t.image=null,S.value=null}function K(){t.availabilities.length<5&&t.availabilities.push({start_date:"",end_date:"",capacity:25,sessions:1,notes:""})}function Q(p){t.availabilities.length>1&&t.availabilities.splice(p,1)}function W(){w.value=[],v.value=!1,C.value=0,j.value=0}function X(p){w.value.splice(p,1),w.value.length===0&&(v.value=!1)}function Y(){if(y.value){U.value=!0,f.value=0,W();const p=setInterval(()=>{f.value<_.value&&f.value++},1500);t.start_date&&(t.start_date=M(t.start_date)),t.end_date&&(t.end_date=M(t.end_date)),t.post("/admin/courses",{forceFormData:!0,onSuccess:s=>{var r,c;clearInterval(p),f.value=_.value,(c=(r=s.props)==null?void 0:r.flash)!=null&&c.emailErrors&&(v.value=!0,w.value=s.props.flash.emailErrors,C.value=s.props.flash.emailFailures||0,j.value=s.props.flash.emailSuccesses||0),setTimeout(()=>{U.value=!1},v.value?5e3:3e3)},onError:s=>{clearInterval(p),U.value=!1,v.value=!0,w.value=Object.values(s).flat()},onFinish:()=>{clearInterval(p)}})}else t.start_date&&(t.start_date=M(t.start_date)),t.end_date&&(t.end_date=M(t.end_date)),t.post("/admin/courses",{forceFormData:!0})}function Z(){if(!y.value)return"";switch(f.value){case 0:return"Preparing course data...";case 1:return"Saving course information...";case 2:return"Setting up session schedules...";case 3:return"Sending announcement emails to all users...";case 4:return v.value?`Course created with ${C.value} email failures!`:"Public course created and announced successfully!";default:return"Processing..."}}return(p,s)=>(i(),V(oe,null,{default:o(()=>[l("div",ue,[s[57]||(s[57]=l("h1",{class:"text-xl sm:text-2xl font-bold mb-4"},"Create New Course",-1)),v.value&&w.value.length>0?(i(),d("div",me,[(i(!0),d(B,null,N(w.value,(r,c)=>(i(),V(e(E),{key:c,variant:"destructive",class:"shadow-lg"},{default:o(()=>[l("div",ce,[l("div",ve,[s[11]||(s[11]=l("svg",{class:"h-6 w-6 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),l("div",null,[s[10]||(s[10]=l("h4",{class:"font-semibold text-sm"},"Email Sending Error",-1)),a(e(I),{class:"mt-1"},{default:o(()=>[u(n(r),1)]),_:2},1024),C.value>0?(i(),d("div",pe,[a(e(ne),{variant:"destructive",class:"text-xs"},{default:o(()=>[u(n(C.value)+" failed, "+n(j.value)+" successful ",1)]),_:1})])):m("",!0)])]),a(e(h),{onClick:b=>X(c),variant:"ghost",size:"sm",class:"h-auto p-1 hover:bg-destructive/20"},{default:o(()=>s[12]||(s[12]=[l("svg",{class:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])),_:2},1032,["onClick"])])]),_:2},1024))),128))])):m("",!0),U.value&&y.value?(i(),d("div",fe,[a(e(F),{class:"max-w-md w-full mx-4 shadow-2xl"},{default:o(()=>[a(e(O),{class:"p-8"},{default:o(()=>[l("div",be,[l("div",ge,[(i(),d("svg",_e,[s[13]||(s[13]=l("path",{class:"text-muted",fill:"none",stroke:"currentColor","stroke-width":"2",d:"M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831"},null,-1)),l("path",{class:P(v.value?"text-orange-500":"text-green-500"),fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-dasharray":`${z.value}, 100`,d:"M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831",style:{transition:"stroke-dasharray 0.3s ease-in-out"}},null,10,xe)])),l("div",ye,[l("span",ke,n(z.value)+"%",1)])]),l("div",we,[l("div",he,[l("div",Ce,[l("div",{class:P([v.value?"bg-orange-100":"bg-green-100","w-12 h-12 rounded-full flex items-center justify-center"])},[f.value<_.value?(i(),d("svg",{key:0,class:P(["animate-spin h-6 w-6",v.value?"text-orange-500":"text-green-500"]),fill:"none",viewBox:"0 0 24 24"},s[14]||(s[14]=[l("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),l("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)]),2)):v.value?(i(),d("svg",Ve,s[15]||(s[15]=[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"},null,-1)]))):(i(),d("svg",$e,s[16]||(s[16]=[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"},null,-1)])))],2)])])]),l("h3",Se,n(f.value===_.value?v.value?"Course Created with Issues!":"Public Course Created!":"Creating Public Course"),1),l("p",Pe,n(Z()),1),l("div",Ue,[l("div",je,[s[17]||(s[17]=l("span",null,"Progress",-1)),l("span",null,n(f.value)+" / "+n(_.value),1)]),l("div",Me,[l("div",{class:P([v.value?"bg-orange-500":"bg-green-500","h-2 rounded-full transition-all duration-300 ease-out"]),style:te({width:z.value+"%"})},null,6)])]),v.value&&f.value===_.value?(i(),V(e(E),{key:0,class:"mb-4",variant:"destructive"},{default:o(()=>[a(e(I),null,{default:o(()=>[s[18]||(s[18]=l("strong",null,"⚠️ Email Issues Detected:",-1)),s[19]||(s[19]=l("br",null,null,-1)),u(" "+n(C.value)+" emails failed to send, "+n(j.value)+" sent successfully.",1),s[20]||(s[20]=l("br",null,null,-1)),s[21]||(s[21]=u(" Check error notifications for details. "))]),_:1})]),_:1})):(i(),V(e(E),{key:1,class:"border-blue-200 bg-blue-50 mb-4"},{default:o(()=>[a(e(I),{class:"text-xs text-blue-700"},{default:o(()=>s[22]||(s[22]=[l("strong",null,"📧 Public Course:",-1),u(" Announcement emails are being sent to all registered users ")])),_:1})]),_:1})),l("p",ze,n(f.value===_.value?v.value?"Course created! Please review email sending errors above.":"Course created successfully with email notifications sent!":"Please wait while we create your public course and notify users..."),1)])]),_:1})]),_:1})])):m("",!0),a(e(F),{class:"shadow-lg max-w-4xl"},{default:o(()=>[a(e(re),null,{default:o(()=>[a(e(de),{class:"text-2xl"},{default:o(()=>s[23]||(s[23]=[u("Course Information")])),_:1})]),_:1}),a(e(O),null,{default:o(()=>[l("form",{onSubmit:le(Y,["prevent"])},[l("div",Ee,[l("div",Ie,[a(e(g),{for:"name",class:"mb-2"},{default:o(()=>s[24]||(s[24]=[u("Course Name")])),_:1}),a(e(x),{id:"name",modelValue:e(t).name,"onUpdate:modelValue":s[0]||(s[0]=r=>e(t).name=r),type:"text",placeholder:"Enter course name",disabled:e(t).processing,required:""},null,8,["modelValue","disabled"]),e(t).errors.name?(i(),d("div",De,n(e(t).errors.name),1)):m("",!0)]),l("div",Be,[a(e(g),{class:"mb-2"},{default:o(()=>s[25]||(s[25]=[u("Course Image")])),_:1}),l("div",Ne,[S.value?(i(),d("div",Ae,[l("img",{src:S.value,alt:"Course image preview",class:"h-full w-full object-cover"},null,8,qe)])):(i(),d("div",Fe,s[26]||(s[26]=[l("span",{class:"text-gray-400"},"No image",-1)]))),l("div",Oe,[a(e(h),{type:"button",variant:"outline",size:"sm",onClick:s[1]||(s[1]=()=>p.$refs.imageUpload.click()),disabled:e(t).processing},{default:o(()=>s[27]||(s[27]=[u(" Upload Image ")])),_:1},8,["disabled"]),l("input",{ref:"imageUpload",type:"file",class:"hidden",onChange:G,accept:"image/*",disabled:e(t).processing},null,40,Le),S.value?(i(),V(e(h),{key:0,type:"button",variant:"ghost",size:"sm",onClick:J,disabled:e(t).processing,class:"ml-2 text-destructive hover:text-destructive/80"},{default:o(()=>s[28]||(s[28]=[u(" Remove ")])),_:1},8,["disabled"])):m("",!0)])]),e(t).errors.image?(i(),d("div",Re,n(e(t).errors.image),1)):m("",!0)]),l("div",Te,[a(e(g),{class:"mb-2"},{default:o(()=>s[29]||(s[29]=[u("Description")])),_:1}),a(e(ie),{class:"dark",modelValue:e(t).description,"onUpdate:modelValue":s[2]||(s[2]=r=>e(t).description=r),disabled:e(t).processing,"api-key":"r1racrxd2joy9wp9xp9sj91ka9j4m3humenifqvwtx9s6i3y",init:{toolbar_mode:"sliding",plugins:"anchor autolink charmap codesample emoticons image link lists media searchreplace table visualblocks wordcount",toolbar:"undo redo | blocks fontfamily fontsize | bold italic underline strikethrough | link image media table | align lineheight | numlist bullist indent outdent | emoticons charmap | removeformat",mobile:{menubar:!1,toolbar:"undo redo | bold italic | link | bullist numlist",toolbar_mode:"scrolling"}}},null,8,["modelValue","disabled"]),e(t).errors.description?(i(),d("div",He,n(e(t).errors.description),1)):m("",!0)]),l("div",Ge,[a(e(g),{class:"mb-2"},{default:o(()=>s[30]||(s[30]=[u("Overall Start Date")])),_:1}),a(e(x),{type:"date",modelValue:e(t).start_date,"onUpdate:modelValue":s[3]||(s[3]=r=>e(t).start_date=r),disabled:e(t).processing},null,8,["modelValue","disabled"]),e(t).errors.start_date?(i(),d("div",Je,n(e(t).errors.start_date),1)):m("",!0)]),l("div",Ke,[a(e(g),{class:"mb-2"},{default:o(()=>s[31]||(s[31]=[u("Overall End Date")])),_:1}),a(e(x),{type:"date",modelValue:e(t).end_date,"onUpdate:modelValue":s[4]||(s[4]=r=>e(t).end_date=r),disabled:e(t).processing},null,8,["modelValue","disabled"]),e(t).errors.end_date?(i(),d("div",Qe,n(e(t).errors.end_date),1)):m("",!0)]),l("div",We,[a(e(g),{class:"mb-2"},{default:o(()=>s[32]||(s[32]=[u("Status")])),_:1}),a(e(L),{modelValue:e(t).status,"onUpdate:modelValue":s[5]||(s[5]=r=>e(t).status=r),disabled:e(t).processing},{default:o(()=>[a(e(R),null,{default:o(()=>[a(e(T),{placeholder:"Select status"})]),_:1}),a(e(H),null,{default:o(()=>[a(e($),{value:"pending"},{default:o(()=>s[33]||(s[33]=[u("Pending")])),_:1}),a(e($),{value:"in_progress"},{default:o(()=>s[34]||(s[34]=[u("In Progress")])),_:1}),a(e($),{value:"completed"},{default:o(()=>s[35]||(s[35]=[u("Completed")])),_:1})]),_:1})]),_:1},8,["modelValue","disabled"]),e(t).errors.status?(i(),d("div",Xe,n(e(t).errors.status),1)):m("",!0)]),l("div",Ye,[a(e(g),{class:"mb-2"},{default:o(()=>s[36]||(s[36]=[u("Course Privacy")])),_:1}),l("div",Ze,[l("div",es,[A(l("input",{id:"privacy-public",name:"privacy",type:"radio",value:"public","onUpdate:modelValue":s[6]||(s[6]=r=>e(t).privacy=r),class:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300",disabled:e(t).processing},null,8,ss),[[q,e(t).privacy]]),a(e(g),{for:"privacy-public",class:"ml-2 text-sm"},{default:o(()=>s[37]||(s[37]=[u(" 🌍 Public ")])),_:1})]),l("div",ts,[A(l("input",{id:"privacy-private",name:"privacy",type:"radio",value:"private","onUpdate:modelValue":s[7]||(s[7]=r=>e(t).privacy=r),class:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300",disabled:e(t).processing},null,8,ls),[[q,e(t).privacy]]),a(e(g),{for:"privacy-private",class:"ml-2 text-sm"},{default:o(()=>s[38]||(s[38]=[u(" 🔒 Private ")])),_:1})])]),s[40]||(s[40]=l("p",{class:"mt-1 text-xs text-gray-500"}," Public courses are visible to everyone and trigger announcement emails. Private courses are only visible to enrolled users. ",-1)),y.value?(i(),d("div",as,s[39]||(s[39]=[l("strong",null,"📧 Note:",-1),u(" Creating a public course will automatically send announcement emails to all registered users. ")]))):m("",!0),e(t).errors.privacy?(i(),d("div",os,n(e(t).errors.privacy),1)):m("",!0)]),l("div",is,[a(e(g),{class:"mb-2"},{default:o(()=>s[41]||(s[41]=[u("Level")])),_:1}),a(e(L),{modelValue:e(t).level,"onUpdate:modelValue":s[8]||(s[8]=r=>e(t).level=r),disabled:e(t).processing},{default:o(()=>[a(e(R),null,{default:o(()=>[a(e(T),{placeholder:"Select Level"})]),_:1}),a(e(H),null,{default:o(()=>[a(e($),{value:"beginner"},{default:o(()=>s[42]||(s[42]=[u("Beginner")])),_:1}),a(e($),{value:"intermediate"},{default:o(()=>s[43]||(s[43]=[u("Intermediate")])),_:1}),a(e($),{value:"advanced"},{default:o(()=>s[44]||(s[44]=[u("Advanced")])),_:1})]),_:1})]),_:1},8,["modelValue","disabled"]),e(t).errors.level?(i(),d("div",rs,n(e(t).errors.level),1)):m("",!0)]),l("div",ds,[a(e(g),{class:"mb-2"},{default:o(()=>s[45]||(s[45]=[u("Duration (hours)")])),_:1}),a(e(x),{type:"number",modelValue:e(t).duration,"onUpdate:modelValue":s[9]||(s[9]=r=>e(t).duration=r),min:"0.5",step:"0.5",disabled:e(t).processing},null,8,["modelValue","disabled"]),e(t).errors.duration?(i(),d("div",ns,n(e(t).errors.duration),1)):m("",!0)])]),l("div",us,[l("div",ms,[s[46]||(s[46]=l("h2",{class:"text-lg font-semibold"},"Course Session Schedules",-1)),a(e(h),{type:"button",onClick:K,disabled:e(t).availabilities.length>=5||e(t).processing},{default:o(()=>[u(" Add Session Schedule ("+n(e(t).availabilities.length)+"/5) ",1)]),_:1},8,["disabled"])]),l("div",cs,[(i(!0),d(B,null,N(e(t).availabilities,(r,c)=>(i(),d("div",{key:c,class:"border border-gray-300 dark:border-gray-700 rounded-lg p-4 bg-gray-50 dark:bg-gray-800"},[l("div",vs,[l("h3",ps,"Session Schedule "+n(c+1),1),e(t).availabilities.length>1?(i(),V(e(h),{key:0,type:"button",onClick:b=>Q(c),variant:"ghost",size:"sm",class:"text-red-600 hover:text-red-800",disabled:e(t).processing},{default:o(()=>s[47]||(s[47]=[u(" Remove ")])),_:2},1032,["onClick","disabled"])):m("",!0)]),l("div",fs,[l("div",null,[s[48]||(s[48]=l("label",{class:"block font-medium mb-1"},"Start Date",-1)),a(e(x),{type:"datetime-local",modelValue:r.start_date,"onUpdate:modelValue":b=>r.start_date=b,disabled:e(t).processing,required:""},null,8,["modelValue","onUpdate:modelValue","disabled"]),e(t).errors[`availabilities.${c}.start_date`]?(i(),d("div",bs,n(e(t).errors[`availabilities.${c}.start_date`]),1)):m("",!0)]),l("div",null,[s[49]||(s[49]=l("label",{class:"block font-medium mb-1"},"End Date",-1)),a(e(x),{type:"datetime-local",modelValue:r.end_date,"onUpdate:modelValue":b=>r.end_date=b,disabled:e(t).processing,required:""},null,8,["modelValue","onUpdate:modelValue","disabled"]),e(t).errors[`availabilities.${c}.end_date`]?(i(),d("div",gs,n(e(t).errors[`availabilities.${c}.end_date`]),1)):m("",!0)]),l("div",null,[s[50]||(s[50]=l("label",{class:"block font-medium mb-1"},"Seats Available",-1)),a(e(x),{type:"number",modelValue:r.capacity,"onUpdate:modelValue":b=>r.capacity=b,min:"1",max:"1000",disabled:e(t).processing,required:""},null,8,["modelValue","onUpdate:modelValue","disabled"]),s[51]||(s[51]=l("p",{class:"text-xs text-muted-foreground mt-1"},"Maximum number of seats available for this schedule",-1)),e(t).errors[`availabilities.${c}.capacity`]?(i(),d("div",_s,n(e(t).errors[`availabilities.${c}.capacity`]),1)):m("",!0)]),l("div",null,[s[52]||(s[52]=l("label",{class:"block font-medium mb-1"},"Sessions",-1)),a(e(x),{type:"number",modelValue:r.sessions,"onUpdate:modelValue":b=>r.sessions=b,min:"1",max:"100",disabled:e(t).processing,required:""},null,8,["modelValue","onUpdate:modelValue","disabled"]),s[53]||(s[53]=l("p",{class:"text-xs text-muted-foreground mt-1"},"Number of sessions in this schedule",-1)),e(t).errors[`availabilities.${c}.sessions`]?(i(),d("div",xs,n(e(t).errors[`availabilities.${c}.sessions`]),1)):m("",!0)]),l("div",ys,[s[54]||(s[54]=l("label",{class:"block font-medium mb-1"},"Notes (Optional)",-1)),a(e(x),{type:"text",modelValue:r.notes,"onUpdate:modelValue":b=>r.notes=b,placeholder:"Special instructions or requirements",disabled:e(t).processing},null,8,["modelValue","onUpdate:modelValue","disabled"]),e(t).errors[`availabilities.${c}.notes`]?(i(),d("div",ks,n(e(t).errors[`availabilities.${c}.notes`]),1)):m("",!0)])])]))),128))]),e(t).errors.availabilities?(i(),d("div",ws,n(e(t).errors.availabilities),1)):m("",!0)]),l("div",hs,[a(e(h),{type:"submit",disabled:e(t).processing,class:P([{"bg-green-500 hover:bg-green-600":y.value,"bg-blue-500 hover:bg-blue-600":!y.value},"w-full sm:w-auto flex items-center justify-center gap-2"])},{default:o(()=>[e(t).processing?(i(),d("svg",Cs,s[55]||(s[55]=[l("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),l("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)]))):m("",!0),e(t).processing?(i(),d("span",Vs,n(y.value?"Creating Public Course & Sending Emails...":"Creating Course..."),1)):(i(),d("span",$s,n(y.value?"🌍 Create Public Course":"🔒 Create Private Course"),1))]),_:1},8,["disabled","class"]),a(e(h),{variant:"secondary","as-child":"",class:"w-full sm:w-auto",disabled:e(t).processing},{default:o(()=>[a(e(ae),{href:"/admin/courses"},{default:o(()=>s[56]||(s[56]=[u(" Cancel ")])),_:1})]),_:1},8,["disabled"])])],32)]),_:1})]),_:1})])]),_:1}))}});export{it as default};
