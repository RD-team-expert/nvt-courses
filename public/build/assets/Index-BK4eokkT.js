import{_ as S,a as R}from"./ClockInModal-BZxc7cGg.js";import{r as l,a,o as n,e as t,f as x,b as h,F as v,h as w,t as c,n as _}from"./app-CGpEa2Rf.js";const V={class:"bg-white rounded-lg shadow overflow-hidden"},j={class:"min-w-full divide-y divide-gray-200"},B={class:"bg-white divide-y divide-gray-200"},L={class:"px-6 py-4 whitespace-nowrap"},N={class:"text-sm text-gray-900"},T={class:"px-6 py-4 whitespace-nowrap"},A={class:"text-sm text-gray-900"},F={class:"px-6 py-4 whitespace-nowrap"},z={class:"text-sm text-gray-900"},E={class:"px-6 py-4 whitespace-nowrap"},P={class:"text-sm text-gray-900"},q={class:"px-6 py-4 whitespace-nowrap"},G={key:0,class:"flex"},H={key:1,class:"text-sm text-gray-500"},J={class:"px-6 py-4 whitespace-nowrap"},K={class:"px-6 py-4 whitespace-nowrap text-sm font-medium"},Q={class:"flex space-x-2 justify-end"},U=["onClick"],W=["onClick"],X={key:0},Y={key:0,class:"mt-4 flex justify-center"},et={__name:"Index",props:{attendanceRecords:{type:Array,default:()=>[]},pagination:{type:Object,default:null}},setup(i){const u=l(!1),r=l(!1),d=l(null),g=l({rating:3,comment:""}),m=l(!1),f=l(!1);function k(e){return e?new Date(e).toLocaleDateString():"—"}function y(e){return e?new Date(e).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"—"}function b(e){if(!e)return"—";const o=Math.floor(e/60),s=e%60;return`${o}h ${s}m`}function C(e){return{in_progress:"In Progress",completed:"Completed",missed:"Missed"}[e]||e}function D(){u.value=!0}function M(e){d.value=e,g.value={rating:3,comment:""},r.value=!0}function I(e){console.log("View details for record:",e)}function O(e){m.value=!0,setTimeout(()=>{console.log("Clock in data:",e),m.value=!1,u.value=!1},1e3)}function $(e){d.value&&(f.value=!0,setTimeout(()=>{console.log("Clock out data for record:",d.value.id,e),f.value=!1,r.value=!1,d.value=null},1e3))}return(e,o)=>(n(),a("div",null,[t("div",{class:"flex justify-between items-center mb-6"},[o[2]||(o[2]=t("h1",{class:"text-2xl font-bold"},"Attendance Records",-1)),t("button",{onClick:D,class:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600 transition"}," Clock In ")]),t("div",V,[t("table",j,[o[5]||(o[5]=t("thead",{class:"bg-gray-50"},[t("tr",null,[t("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Date "),t("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Clock In "),t("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Clock Out "),t("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Duration "),t("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Rating "),t("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Status "),t("th",{scope:"col",class:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider"}," Actions ")])],-1)),t("tbody",B,[(n(!0),a(v,null,w(i.attendanceRecords,s=>(n(),a("tr",{key:s.id,class:"hover:bg-gray-50"},[t("td",L,[t("div",N,c(k(s.date)),1)]),t("td",T,[t("div",A,c(y(s.clock_in_time)),1)]),t("td",F,[t("div",z,c(s.clock_out_time?y(s.clock_out_time):"—"),1)]),t("td",E,[t("div",P,c(s.duration?b(s.duration):"—"),1)]),t("td",q,[s.rating?(n(),a("div",G,[(n(),a(v,null,w(5,p=>t("svg",{key:p,class:_(["h-5 w-5",p<=s.rating?"text-yellow-400":"text-gray-300"]),fill:"currentColor",viewBox:"0 0 20 20"},o[3]||(o[3]=[t("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"},null,-1)]),2)),64))])):(n(),a("div",H,"—"))]),t("td",J,[t("span",{class:_(["px-2 inline-flex text-xs leading-5 font-semibold rounded-full",{"bg-green-100 text-green-800":s.status==="completed","bg-yellow-100 text-yellow-800":s.status==="in_progress","bg-red-100 text-red-800":s.status==="missed"}])},c(C(s.status)),3)]),t("td",K,[t("div",Q,[s.status==="in_progress"?(n(),a("button",{key:0,onClick:p=>M(s),class:"text-red-600 hover:text-red-900"}," Clock Out ",8,U)):x("",!0),s.status==="completed"?(n(),a("button",{key:1,onClick:p=>I(s),class:"text-blue-600 hover:text-blue-900"}," View ",8,W)):x("",!0)])])]))),128)),i.attendanceRecords.length===0?(n(),a("tr",X,o[4]||(o[4]=[t("td",{colspan:"7",class:"px-6 py-4 text-center text-gray-500"}," No attendance records found ",-1)]))):x("",!0)])])]),i.pagination&&i.pagination.total>i.pagination.per_page?(n(),a("div",Y)):x("",!0),h(S,{show:u.value,"is-submitting":m.value,onClose:o[0]||(o[0]=s=>u.value=!1),onSubmit:O},null,8,["show","is-submitting"]),h(R,{show:r.value,"initial-form":g.value,"is-submitting":f.value,onClose:o[1]||(o[1]=s=>r.value=!1),onSubmit:$},null,8,["show","initial-form","is-submitting"])]))}};export{et as default};
