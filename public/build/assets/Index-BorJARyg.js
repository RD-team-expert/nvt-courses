import{P as k,H as y,k as q,o as l,w as c,e as t,b,j as m,l as j,g as p,v,i as S,a as d,f as x,t as i,F as _,h,n as w,r as C,c as F,s as A,W as g}from"./app-n_cIwlLT.js";import{_ as P}from"./AdminLayout.vue_vue_type_script_setup_true_lang-DEbUraED.js";import{_ as V}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./AppLayout.vue_vue_type_script_setup_true_lang-Rz_S81Vw.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-B9XjMpGI.js";import"./index-BgSmG8al.js";const L={components:{AdminLayout:P,Link:k},props:{attempts:{type:Object,required:!0},filters:{type:Object,default:()=>({})},quiz:{type:Object,default:null}},setup(u){const e=C({user_id:u.filters.user_id||"",quiz_id:u.filters.quiz_id||"",passed:u.filters.passed||""}),r=F(()=>{const n={};return Object.keys(e.value).forEach(a=>{e.value[a]!==""&&e.value[a]!==null&&e.value[a]!==void 0&&(n[a]=e.value[a])}),n}),o=()=>{const n={};Object.keys(e.value).forEach(a=>{e.value[a]!==""&&e.value[a]!==null&&e.value[a]!==void 0&&(n[a]=e.value[a])}),g.get(route("admin.quiz-attempts.index"),n,{preserveState:!0,preserveScroll:!0})},f=()=>{e.value={user_id:"",quiz_id:"",passed:""},g.get(route("admin.quiz-attempts.index"),{},{preserveState:!0,preserveScroll:!0})};return A(()=>u.filters,n=>{e.value={user_id:n.user_id||"",quiz_id:n.quiz_id||"",passed:n.passed||""}},{deep:!0}),{filters:e,currentFilters:r,applyFilters:o,clearFilters:f,router:g,breadcrumbs:[{name:"Quizzes",route:"admin.quizzes.index"},{name:"Attempts",route:null}]}}},N={class:"mx-auto max-w-7xl py-12 sm:px-6 lg:px-8"},M={class:"mb-8 flex items-center justify-between"},B={class:"mb-6 rounded-xl bg-white p-6 shadow-sm"},D={class:"flex justify-end space-x-3 sm:col-span-3"},T={class:"rounded-xl bg-white p-6 shadow-sm"},I={class:"mb-4 flex items-center justify-between"},O={class:"text-lg font-semibold text-gray-800"},Q={key:0,class:"text-sm text-gray-600"},U={key:0,class:"overflow-x-auto"},E={class:"min-w-full divide-y divide-gray-200"},H={class:"divide-y divide-gray-200 bg-white"},W={class:"whitespace-nowrap px-6 py-4 text-sm text-gray-900"},G={class:"font-medium"},J={class:"text-gray-500"},K={class:"whitespace-nowrap px-6 py-4 text-sm text-gray-900"},R={class:"whitespace-nowrap px-6 py-4 text-sm text-gray-900"},X={class:"whitespace-nowrap px-6 py-4 text-sm text-gray-900"},Y={class:"whitespace-nowrap px-6 py-4 text-sm text-gray-900"},Z={class:"font-medium"},$={class:"whitespace-nowrap px-6 py-4 text-sm"},tt={class:"whitespace-nowrap px-6 py-4 text-sm text-gray-500"},et={class:"whitespace-nowrap px-6 py-4 text-sm font-medium"},st={key:1,class:"py-12 text-center"},rt={class:"mt-1 text-sm text-gray-500"},ot={key:2,class:"mt-6"},it={class:"flex items-center justify-between border-t border-gray-200 bg-white px-4 py-3 sm:px-6"},at={class:"flex flex-1 justify-between sm:hidden"},nt={class:"hidden sm:flex sm:flex-1 sm:items-center sm:justify-between"},lt={class:"text-sm text-gray-700"},dt={class:"font-medium"},ut={class:"font-medium"},mt={class:"font-medium"},xt={class:"isolate inline-flex -space-x-px rounded-md shadow-sm","aria-label":"Pagination"},ct=["onClick","disabled","innerHTML"];function pt(u,e,r,o,f,z){const n=y("Link"),a=y("AdminLayout");return l(),q(a,{breadcrumbs:o.breadcrumbs},{default:c(()=>[t("div",N,[t("div",M,[e[8]||(e[8]=t("h1",{class:"text-3xl font-bold text-gray-900"},"Quiz Attempts",-1)),b(n,{href:u.route("admin.quizzes.index"),class:"inline-flex items-center rounded-lg bg-gray-100 px-4 py-2 text-sm font-semibold text-gray-700 transition-colors duration-200 hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-gray-300"},{default:c(()=>e[7]||(e[7]=[t("svg",{class:"mr-2 h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})],-1),m(" Back to Quizzes ")])),_:1},8,["href"])]),t("div",B,[t("form",{onSubmit:e[4]||(e[4]=j((...s)=>o.applyFilters&&o.applyFilters(...s),["prevent"])),class:"grid grid-cols-1 gap-4 sm:grid-cols-3"},[t("div",null,[e[9]||(e[9]=t("label",{for:"user_id",class:"mb-1 block text-sm font-medium text-gray-700"},"User ID",-1)),p(t("input",{"onUpdate:modelValue":e[0]||(e[0]=s=>o.filters.user_id=s),id:"user_id",type:"number",class:"block w-full rounded-lg border border-gray-300 px-3 py-2 text-sm shadow-sm transition-colors duration-200 focus:border-indigo-500 focus:ring-2 focus:ring-indigo-500",placeholder:"Enter User ID"},null,512),[[v,o.filters.user_id]])]),t("div",null,[e[10]||(e[10]=t("label",{for:"quiz_id",class:"mb-1 block text-sm font-medium text-gray-700"},"Quiz ID",-1)),p(t("input",{"onUpdate:modelValue":e[1]||(e[1]=s=>o.filters.quiz_id=s),id:"quiz_id",type:"number",class:"block w-full rounded-lg border border-gray-300 px-3 py-2 text-sm shadow-sm transition-colors duration-200 focus:border-indigo-500 focus:ring-2 focus:ring-indigo-500",placeholder:"Enter Quiz ID"},null,512),[[v,o.filters.quiz_id]])]),t("div",null,[e[12]||(e[12]=t("label",{for:"passed",class:"mb-1 block text-sm font-medium text-gray-700"},"Status",-1)),p(t("select",{"onUpdate:modelValue":e[2]||(e[2]=s=>o.filters.passed=s),id:"passed",class:"block w-full rounded-lg border border-gray-300 px-3 py-2 text-sm shadow-sm transition-colors duration-200 focus:border-indigo-500 focus:ring-2 focus:ring-indigo-500"},e[11]||(e[11]=[t("option",{value:""},"All",-1),t("option",{value:"1"},"Passed",-1),t("option",{value:"0"},"Failed",-1)]),512),[[S,o.filters.passed]])]),t("div",D,[t("button",{type:"button",onClick:e[3]||(e[3]=(...s)=>o.clearFilters&&o.clearFilters(...s)),class:"rounded-lg bg-gray-100 px-4 py-2 text-sm font-medium text-gray-700 transition-colors duration-200 hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-gray-300"}," Clear Filters "),e[13]||(e[13]=t("button",{type:"submit",class:"rounded-lg bg-indigo-600 px-4 py-2 text-sm font-medium text-white transition-colors duration-200 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500"}," Apply Filters ",-1))])],32)]),t("div",T,[t("div",I,[t("h2",O,"Attempts ("+i(r.attempts.total)+")",1),r.quiz?(l(),d("div",Q," Pass Threshold: "+i(r.quiz.pass_threshold)+"% ",1)):x("",!0)]),r.attempts.data&&r.attempts.data.length?(l(),d("div",U,[t("table",E,[e[15]||(e[15]=t("thead",{class:"bg-gray-50"},[t("tr",null,[t("th",{class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500"},"User"),t("th",{class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500"},"Quiz"),t("th",{class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500"},"Auto Score"),t("th",{class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500"},"Manual Score"),t("th",{class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500"},"Total Score"),t("th",{class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500"},"Status"),t("th",{class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500"},"Completed At"),t("th",{class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500"},"Actions")])],-1)),t("tbody",H,[(l(!0),d(_,null,h(r.attempts.data,s=>(l(),d("tr",{key:s.id,class:"hover:bg-gray-50"},[t("td",W,[t("div",null,[t("div",G,i(s.user.name),1),t("div",J,i(s.user.email),1)])]),t("td",K,i(s.quiz.title),1),t("td",R,i(s.score),1),t("td",X,i(s.manual_score),1),t("td",Y,[t("span",Z,i(s.total_score),1)]),t("td",$,[t("span",{class:w({"inline-flex rounded-full px-2 text-xs font-semibold leading-5":!0,"bg-green-100 text-green-800":s.passed,"bg-red-100 text-red-800":!s.passed})},i(s.passed?"Passed":"Failed"),3)]),t("td",tt,i(s.completed_at||"Not completed"),1),t("td",et,[b(n,{href:u.route("admin.quiz-attempts.show",s.id),class:"text-indigo-600 transition-colors duration-200 hover:text-indigo-900"},{default:c(()=>e[14]||(e[14]=[m(" View Details ")])),_:2},1032,["href"])])]))),128))])])])):(l(),d("div",st,[e[16]||(e[16]=t("svg",{class:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1)),e[17]||(e[17]=t("h3",{class:"mt-2 text-sm font-medium text-gray-900"},"No attempts found",-1)),t("p",rt,i(Object.keys(o.currentFilters).length>0?"Try adjusting your filters to see more results.":"No quiz attempts have been made yet."),1)])),r.attempts.data&&r.attempts.data.length&&r.attempts.links?(l(),d("div",ot,[t("div",it,[t("div",at,[r.attempts.prev_page_url?(l(),d("button",{key:0,onClick:e[5]||(e[5]=s=>o.router.visit(r.attempts.prev_page_url,{preserveState:!0})),class:"relative inline-flex items-center rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50"}," Previous ")):x("",!0),r.attempts.next_page_url?(l(),d("button",{key:1,onClick:e[6]||(e[6]=s=>o.router.visit(r.attempts.next_page_url,{preserveState:!0})),class:"relative ml-3 inline-flex items-center rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50"}," Next ")):x("",!0)]),t("div",nt,[t("div",null,[t("p",lt,[e[18]||(e[18]=m(" Showing ")),t("span",dt,i(r.attempts.from),1),e[19]||(e[19]=m(" to ")),t("span",ut,i(r.attempts.to),1),e[20]||(e[20]=m(" of ")),t("span",mt,i(r.attempts.total),1),e[21]||(e[21]=m(" results "))])]),t("div",null,[t("nav",xt,[(l(!0),d(_,null,h(r.attempts.links,s=>(l(),d("button",{key:s.label,onClick:gt=>s.url&&o.router.visit(s.url,{preserveState:!0}),disabled:!s.url,class:w(["relative inline-flex items-center px-3 py-2 text-sm font-medium transition-colors duration-200",{"z-10 border-indigo-600 bg-indigo-600 text-white":s.active,"border-gray-300 bg-white text-gray-500 hover:bg-gray-50":!s.active&&s.url,"cursor-not-allowed border-gray-300 bg-gray-100 text-gray-400":!s.url,"rounded-l-md":s.label==="« Previous","rounded-r-md":s.label==="Next »","border-b border-r border-t":!0,"border-l":s.label==="« Previous"}]),innerHTML:s.label},null,10,ct))),128))])])])])])):x("",!0)])])]),_:1},8,["breadcrumbs"])}const wt=V(L,[["render",pt],["__scopeId","data-v-70eaeae2"]]);export{wt as default};
