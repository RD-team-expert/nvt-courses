import{s as v,t as B,c as G,d as W,e as q,f as H}from"./AppLayout.vue_vue_type_script_setup_true_lang-BQb-vH_E.js";import{d as J,z as K,c as E,a as p,o as i,b as e,u as s,m as Q,w as t,e as a,t as u,f as o,P as b,h,F as C,i as j,g as x}from"./app-BNjABktD.js";import{_ as y}from"./Button.vue_vue_type_script_setup_true_lang-CWts6LrH.js";import{_ as m}from"./Card.vue_vue_type_script_setup_true_lang-DEQUo78Q.js";import{_ as c}from"./CardContent.vue_vue_type_script_setup_true_lang-BzTMax5n.js";import{_ as A}from"./CardDescription.vue_vue_type_script_setup_true_lang-DnkKfSSQ.js";import{_ as D}from"./CardHeader.vue_vue_type_script_setup_true_lang-8QboEo8x.js";import{_ as g}from"./CardTitle.vue_vue_type_script_setup_true_lang-ozDtW02n.js";import{_ as $}from"./index-Dqoca56k.js";import{_ as X,a as Z,b as V,c as N,d as ss,e as k}from"./TableHeader.vue_vue_type_script_setup_true_lang-CRSdXR6t.js";import{_ as es,a as ts}from"./index-Ccb3rf9_.js";import{U as ls}from"./_plugin-vue_export-helper-Bp63sxpB.js";import{C as w}from"./clock-7ec2J7Og.js";import{A as as}from"./activity-Pp0XoJx7.js";import{E as R}from"./external-link-DpctM6ig.js";import{A as L}from"./arrow-right-C2cX8BVM.js";import{C as ns}from"./calendar-DzhesP6h.js";import"./index-CLxB6eV3.js";import"./index-b_m65n1V.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang--nUXqqSB.js";const os={class:"flex h-full flex-1 flex-col gap-6 p-4 sm:p-6"},rs={class:"text-xl sm:text-2xl font-bold mb-2"},us={key:0,class:"space-y-6"},ds={class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4"},is={class:"flex items-center"},fs={class:"p-3 rounded-full bg-blue-100 text-blue-600 mr-4"},ms={class:"text-2xl font-bold"},cs={class:"flex items-center"},_s={class:"p-3 rounded-full bg-purple-100 text-purple-600 mr-4"},ps={class:"text-2xl font-bold"},xs={class:"flex items-center"},gs={class:"p-3 rounded-full bg-green-100 text-green-600 mr-4"},hs={class:"text-2xl font-bold"},vs={class:"flex items-center"},bs={class:"p-3 rounded-full bg-amber-100 text-amber-600 mr-4"},ys={class:"text-2xl font-bold"},ws={class:"flex justify-between items-center"},Cs={class:"space-y-3"},As={key:0,class:"text-center py-8"},$s={class:"flex-1 min-w-0"},ks={class:"text-sm font-medium break-words"},Ss={class:"flex items-center mt-1 gap-2"},js={class:"text-xs text-muted-foreground"},Ds={key:1,class:"space-y-6"},Vs={class:"grid grid-cols-1 sm:grid-cols-3 gap-4"},Ns={class:"flex items-center"},Rs={class:"p-3 rounded-full bg-blue-100 text-blue-600 mr-4"},Us={class:"text-2xl font-bold"},Ms={class:"flex items-center"},zs={class:"p-3 rounded-full bg-green-100 text-green-600 mr-4"},Ts={class:"text-2xl font-bold"},Bs={class:"flex items-center"},Es={class:"p-3 rounded-full bg-amber-100 text-amber-600 mr-4"},Ls={class:"text-2xl font-bold"},Ps={class:"flex justify-between items-center"},Ys={class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4"},Fs={key:0,class:"col-span-full text-center py-8"},Is={class:"h-32 bg-muted"},Os=["src","alt"],Gs={key:1,class:"w-full h-full flex items-center justify-center"},Ws={class:"flex justify-between items-center"},qs={class:"flex justify-between items-center"},Hs={class:"overflow-x-auto"},Js={class:"flex items-center justify-between"},Ks={class:"text-sm"},Qs={class:"ml-4"},he=J({__name:"Dashboard",props:{stats:{type:Object,default:()=>({totalCourses:0,totalUsers:0,activeSessions:0,completionRate:0,pendingCourses:0,completedCourses:0,userCourses:0,userAttendanceRate:0,userCompletedCourses:0,userTotalCourses:0,upcomingSessions:0})},recentActivity:{type:Array,default:()=>[]},userCourses:{type:Array,default:()=>[]},userAttendance:{type:Array,default:()=>[]}},setup(d){const P=K(),S=E(()=>{var r;return(r=P.props.auth)==null?void 0:r.user}),U=E(()=>{var r,l;return((r=S.value)==null?void 0:r.is_admin)===!0||((l=S.value)==null?void 0:l.role)==="admin"}),Y=[{name:"Dashboard",href:"/dashboard"}],F=r=>r?new Date(r).toLocaleDateString():"",I=r=>{if(!r)return"";const l=new Date(r),_=Math.floor((new Date-l)/1e3);if(_<60)return"just now";if(_<3600){const f=Math.floor(_/60);return`${f} minute${f>1?"s":""} ago`}else if(_<86400){const f=Math.floor(_/3600);return`${f} hour${f>1?"s":""} ago`}else{const f=Math.floor(_/86400);return`${f} day${f>1?"s":""} ago`}},M=r=>r==="completed"?"default":r==="in_progress"||r==="enrolled"||r==="pending"?"secondary":r==="present"?"default":"outline",O=r=>r==="create"?"secondary":r==="update"?"default":r==="delete"?"destructive":r==="enroll"?"default":r==="login"?"secondary":"outline";return(r,l)=>(i(),p(C,null,[e(s(Q),{title:"Dashboard"}),e(H,{breadcrumbs:Y},{default:t(()=>[a("div",os,[e(s(m),null,{default:t(()=>[e(s(c),{class:"p-6"},{default:t(()=>{var n;return[a("h1",rs," Welcome back, "+u((n=S.value)==null?void 0:n.name)+"! ",1),e(s(A),{class:"text-base"},{default:t(()=>[o(u(U.value?"Manage your courses and users from your admin dashboard.":"Track your courses and attendance from your dashboard."),1)]),_:1})]}),_:1})]),_:1}),U.value?(i(),p("div",us,[a("div",ds,[e(s(m),null,{default:t(()=>[e(s(c),{class:"p-4"},{default:t(()=>[a("div",is,[a("div",fs,[e(s(v),{class:"h-6 w-6"})]),a("div",null,[l[1]||(l[1]=a("p",{class:"text-sm text-muted-foreground font-medium"},"Total Courses",-1)),a("p",ms,u(d.stats.totalCourses||0),1)])])]),_:1})]),_:1}),e(s(m),null,{default:t(()=>[e(s(c),{class:"p-4"},{default:t(()=>[a("div",cs,[a("div",_s,[e(s(ls),{class:"h-6 w-6"})]),a("div",null,[l[2]||(l[2]=a("p",{class:"text-sm text-muted-foreground font-medium"},"Total Users",-1)),a("p",ps,u(d.stats.totalUsers||0),1)])])]),_:1})]),_:1}),e(s(m),null,{default:t(()=>[e(s(c),{class:"p-4"},{default:t(()=>[a("div",xs,[a("div",gs,[e(s(w),{class:"h-6 w-6"})]),a("div",null,[l[3]||(l[3]=a("p",{class:"text-sm text-muted-foreground font-medium"},"Active Sessions",-1)),a("p",hs,u(d.stats.activeSessions||0),1)])])]),_:1})]),_:1}),e(s(m),null,{default:t(()=>[e(s(c),{class:"p-4"},{default:t(()=>[a("div",vs,[a("div",bs,[e(s(B),{class:"h-6 w-6"})]),a("div",null,[l[4]||(l[4]=a("p",{class:"text-sm text-muted-foreground font-medium"},"Completion Rate",-1)),a("p",ys,u(d.stats.completionRate||0)+"%",1)])])]),_:1})]),_:1})]),e(s(m),null,{default:t(()=>[e(s(D),null,{default:t(()=>[a("div",ws,[e(s(g),{class:"flex items-center gap-2"},{default:t(()=>[e(s(as),{class:"h-5 w-5"}),l[5]||(l[5]=o(" Recent Activity "))]),_:1}),e(s(y),{asChild:"",variant:"ghost",size:"sm"},{default:t(()=>[e(s(b),{href:"/activities"},{default:t(()=>[e(s(R),{class:"h-4 w-4 mr-1"}),l[6]||(l[6]=o(" View all "))]),_:1})]),_:1})])]),_:1}),e(s(c),null,{default:t(()=>[a("div",Cs,[d.recentActivity.length===0?(i(),p("div",As,[e(s(w),{class:"h-12 w-12 mx-auto text-muted-foreground mb-2"}),e(s(g),{class:"text-base mb-2"},{default:t(()=>l[7]||(l[7]=[o("No recent activity")])),_:1}),e(s(A),null,{default:t(()=>l[8]||(l[8]=[o("Activity will appear here as users interact with the system")])),_:1})])):h("",!0),(i(!0),p(C,null,j(d.recentActivity,(n,_)=>(i(),x(s(m),{key:n.id||_,class:"hover:bg-accent/50 transition-colors"},{default:t(()=>[e(s(c),{class:"flex items-start p-3"},{default:t(()=>[e(s(G),{class:"h-10 w-10 mr-3 shrink-0"},{default:t(()=>{var f,z;return[(f=n.user)!=null&&f.avatar?(i(),x(s(W),{key:0,src:n.user.avatar,alt:(z=n.user)==null?void 0:z.name},null,8,["src","alt"])):h("",!0),e(s(q),null,{default:t(()=>{var T;return[o(u((T=n.user)!=null&&T.name?n.user.name.charAt(0).toUpperCase():"S"),1)]}),_:2},1024)]}),_:2},1024),a("div",$s,[a("p",ks,u(n.description),1),a("div",Ss,[n.action?(i(),x(s($),{key:0,variant:O(n.action),class:"text-xs"},{default:t(()=>[o(u(n.action),1)]),_:2},1032,["variant"])):h("",!0),a("span",js,u(I(n.created_at)),1)])])]),_:2},1024)]),_:2},1024))),128))])]),_:1})]),_:1})])):(i(),p("div",Ds,[a("div",Vs,[e(s(m),null,{default:t(()=>[e(s(c),{class:"p-4"},{default:t(()=>[a("div",Ns,[a("div",Rs,[e(s(v),{class:"h-6 w-6"})]),a("div",null,[l[9]||(l[9]=a("p",{class:"text-sm text-muted-foreground font-medium"},"My Courses",-1)),a("p",Us,u(d.stats.userCourses||0),1)])])]),_:1})]),_:1}),e(s(m),null,{default:t(()=>[e(s(c),{class:"p-4"},{default:t(()=>[a("div",Ms,[a("div",zs,[e(s(w),{class:"h-6 w-6"})]),a("div",null,[l[10]||(l[10]=a("p",{class:"text-sm text-muted-foreground font-medium"},"Attendance Rate",-1)),a("p",Ts,u(d.stats.userAttendanceRate||0)+"%",1)])])]),_:1})]),_:1}),e(s(m),null,{default:t(()=>[e(s(c),{class:"p-4"},{default:t(()=>[a("div",Bs,[a("div",Es,[e(s(B),{class:"h-6 w-6"})]),a("div",null,[l[11]||(l[11]=a("p",{class:"text-sm text-muted-foreground font-medium"},"Completed",-1)),a("p",Ls,u(d.stats.userCompletedCourses||0)+"/"+u(d.stats.userTotalCourses||0),1)])])]),_:1})]),_:1})]),e(s(m),null,{default:t(()=>[e(s(D),null,{default:t(()=>[a("div",Ps,[e(s(g),{class:"flex items-center gap-2"},{default:t(()=>[e(s(v),{class:"h-5 w-5"}),l[12]||(l[12]=o(" My Courses "))]),_:1}),e(s(y),{asChild:"",variant:"ghost",size:"sm"},{default:t(()=>[e(s(b),{href:"/courses"},{default:t(()=>[e(s(R),{class:"h-4 w-4 mr-1"}),l[13]||(l[13]=o(" View all "))]),_:1})]),_:1})])]),_:1}),e(s(c),null,{default:t(()=>[a("div",Ys,[d.userCourses.length===0?(i(),p("div",Fs,[e(s(v),{class:"h-12 w-12 mx-auto text-muted-foreground mb-2"}),e(s(g),{class:"text-base mb-2"},{default:t(()=>l[14]||(l[14]=[o("No courses yet")])),_:1}),e(s(A),null,{default:t(()=>l[15]||(l[15]=[o("You are not enrolled in any courses yet")])),_:1})])):h("",!0),(i(!0),p(C,null,j(d.userCourses,(n,_)=>(i(),x(s(m),{key:n.id||_,class:"overflow-hidden hover:shadow-md transition-shadow"},{default:t(()=>[a("div",Is,[n.image_path?(i(),p("img",{key:0,src:`/storage/${n.image_path}`,alt:n.name,class:"w-full h-full object-contain",onError:l[0]||(l[0]=f=>f.target.src="/images/course-placeholder.jpg")},null,40,Os)):(i(),p("div",Gs,[e(s(v),{class:"h-10 w-10 text-muted-foreground"})]))]),e(s(c),{class:"p-3"},{default:t(()=>[e(s(g),{class:"text-base mb-3"},{default:t(()=>[o(u(n.name||"Course Name"),1)]),_:2},1024),a("div",Ws,[e(s($),{variant:M(n.status)},{default:t(()=>[o(u(n.status?(n.status.charAt(0).toUpperCase()+n.status.slice(1)).replace("_"," "):"Enrolled"),1)]),_:2},1032,["variant"]),e(s(y),{asChild:"",variant:"ghost",size:"sm"},{default:t(()=>[e(s(b),{href:`/courses/${n.id}`},{default:t(()=>[l[16]||(l[16]=o(" Continue ")),e(s(L),{class:"h-3 w-3 ml-1"})]),_:2},1032,["href"])]),_:2},1024)])]),_:2},1024)]),_:2},1024))),128))])]),_:1})]),_:1}),e(s(m),null,{default:t(()=>[e(s(D),null,{default:t(()=>[a("div",qs,[e(s(g),{class:"flex items-center gap-2"},{default:t(()=>[e(s(ns),{class:"h-5 w-5"}),l[17]||(l[17]=o(" Recent Attendance "))]),_:1}),e(s(y),{asChild:"",variant:"ghost",size:"sm"},{default:t(()=>[e(s(b),{href:"/attendance"},{default:t(()=>[e(s(R),{class:"h-4 w-4 mr-1"}),l[18]||(l[18]=o(" View all "))]),_:1})]),_:1})])]),_:1}),e(s(c),null,{default:t(()=>[a("div",Hs,[e(s(X),null,{default:t(()=>[e(s(Z),null,{default:t(()=>[e(s(V),null,{default:t(()=>[e(s(N),null,{default:t(()=>l[19]||(l[19]=[o("Date")])),_:1}),e(s(N),null,{default:t(()=>l[20]||(l[20]=[o("Course")])),_:1}),e(s(N),null,{default:t(()=>l[21]||(l[21]=[o("Status")])),_:1})]),_:1})]),_:1}),e(s(ss),null,{default:t(()=>[d.userAttendance.length===0?(i(),x(s(V),{key:0},{default:t(()=>[e(s(k),{colspan:"3",class:"text-center py-8"},{default:t(()=>[e(s(w),{class:"h-12 w-12 mx-auto text-muted-foreground mb-2"}),e(s(g),{class:"text-base mb-2"},{default:t(()=>l[22]||(l[22]=[o("No attendance records")])),_:1}),e(s(A),null,{default:t(()=>l[23]||(l[23]=[o("Your attendance history will appear here")])),_:1})]),_:1})]),_:1})):h("",!0),(i(!0),p(C,null,j(d.userAttendance,(n,_)=>(i(),x(s(V),{key:n.id||_},{default:t(()=>[e(s(k),null,{default:t(()=>[o(u(F(n.date)),1)]),_:2},1024),e(s(k),null,{default:t(()=>[o(u(n.course_name||"General Attendance"),1)]),_:2},1024),e(s(k),null,{default:t(()=>[e(s($),{variant:M(n.status)},{default:t(()=>[o(u(n.status?(n.status.charAt(0).toUpperCase()+n.status.slice(1)).replace("_"," "):"Present"),1)]),_:2},1032,["variant"])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})])]),_:1})]),_:1}),d.stats.upcomingSessions>0?(i(),x(s(es),{key:0},{default:t(()=>[e(s(w),{class:"h-4 w-4"}),e(s(ts),null,{default:t(()=>[a("div",Js,[a("div",null,[l[24]||(l[24]=a("p",{class:"font-medium mb-1"},"Upcoming Sessions",-1)),a("p",Ks," You have "+u(d.stats.upcomingSessions)+" upcoming session"+u(d.stats.upcomingSessions>1?"s":"")+". Check your course schedule for details. ",1)]),a("div",Qs,[e(s($),{variant:"secondary"},{default:t(()=>[o(u(d.stats.upcomingSessions)+" upcoming",1)]),_:1})])]),e(s(y),{asChild:"",variant:"ghost",size:"sm",class:"mt-2 p-0 h-auto"},{default:t(()=>[e(s(b),{href:"/courses",class:"inline-flex items-center text-sm font-medium"},{default:t(()=>[l[25]||(l[25]=o(" View my courses ")),e(s(L),{class:"w-3 h-3 ml-1"})]),_:1})]),_:1})]),_:1})]),_:1})):h("",!0)]))])]),_:1})],64))}});export{he as default};
