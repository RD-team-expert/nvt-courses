import{d as z,A as q,c as G,a as x,o as u,b as t,u as e,m as O,w as r,e as s,f as d,P as C,t as n,g as b,h as $,F as V,i as W,y as H,n as R,k as X,W as v}from"./app-B5QCrb6m.js";import{g as Y,h as J,i as K,j as Q,k,l as A,f as Z}from"./AppLayout.vue_vue_type_script_setup_true_lang-DJEC7YWG.js";import{_ as y}from"./Button.vue_vue_type_script_setup_true_lang-HglPE9Uv.js";import{_ as m}from"./Card.vue_vue_type_script_setup_true_lang-rG1y8srZ.js";import{_ as p}from"./CardContent.vue_vue_type_script_setup_true_lang-ByYzS1sI.js";import{_ as ee}from"./CardDescription.vue_vue_type_script_setup_true_lang-Oz1CiL0m.js";import{_ as te}from"./CardHeader.vue_vue_type_script_setup_true_lang-i8h8wdgE.js";import{_ as oe}from"./CardTitle.vue_vue_type_script_setup_true_lang-DIcnVnqd.js";import{_ as S}from"./index-BuQvWZ6s.js";import{_ as re,a as se,b as w,c as g,d as ae,e as f}from"./TableHeader.vue_vue_type_script_setup_true_lang-Dh__1HMy.js";import{S as h}from"./square-play-A86c4a24.js";import{P as T}from"./plus-AsZ_zh-s.js";import{P as le}from"./play-CfSKU4E9.js";import{U as D,_ as de}from"./_plugin-vue_export-helper-De2CCZJH.js";import{C as ne}from"./circle-check-big-rgrLD1QN.js";import{T as E}from"./trending-up-CP98Tf_I.js";import{F as ie}from"./folder-open-CB3t4Hzh.js";import{C as ce}from"./clock-Bxh51ez1.js";import{E as ue}from"./ellipsis-DBLVEAIU.js";import{C as fe}from"./chart-column-jPOcDNnG.js";import{S as ge}from"./square-pen-iTkGS8-p.js";import{T as me,a as pe}from"./toggle-right-_fyI7o0A.js";import{T as _e}from"./trash-2-DS26tH46.js";import"./index-Wv3lFKee.js";import"./index-DwxW3oru.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-BsvRm7AT.js";const xe={class:"space-y-6 bg-background text-foreground"},be={class:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4"},ve={class:"text-2xl font-bold flex items-center gap-2 text-foreground"},ke={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4"},he={class:"flex items-center gap-3"},ye={class:"p-2 bg-blue-500 dark:bg-blue-600 rounded-lg"},we={class:"text-2xl font-bold text-blue-900 dark:text-blue-100"},Ce={class:"flex items-center gap-3"},$e={class:"p-2 bg-green-500 dark:bg-green-600 rounded-lg"},Ve={class:"text-2xl font-bold text-green-900 dark:text-green-100"},Ae={class:"flex items-center gap-3"},Se={class:"p-2 bg-purple-500 dark:bg-purple-600 rounded-lg"},Te={class:"text-2xl font-bold text-purple-900 dark:text-purple-100"},De={class:"flex items-center gap-3"},Ee={class:"p-2 bg-orange-500 dark:bg-orange-600 rounded-lg"},Ne={class:"text-2xl font-bold text-orange-900 dark:text-orange-100"},Ie={class:"flex items-center gap-3"},Pe={class:"p-2 bg-teal-500 dark:bg-teal-600 rounded-lg"},Me={class:"text-2xl font-bold text-teal-900 dark:text-teal-100"},Le={class:"flex items-center gap-3"},je={class:"relative w-16 h-16 rounded-lg overflow-hidden bg-gradient-to-br from-blue-100 to-purple-100 dark:from-blue-950/50 dark:to-purple-950/50 flex items-center justify-center shrink-0 border border-muted"},Be=["src","alt"],Ue={class:"min-w-0 flex-1"},Fe={class:"font-semibold truncate text-base text-foreground"},ze={class:"text-sm text-muted-foreground truncate max-w-xs"},qe={class:"text-xs text-muted-foreground mt-1 flex items-center gap-1"},Ge={key:1,class:"text-muted-foreground text-sm"},Oe={class:"flex items-center gap-1 text-sm text-foreground"},We={class:"space-y-1"},He={class:"flex items-center gap-2 text-sm text-foreground"},Re={class:"flex items-center gap-2 text-sm"},Xe=z({__name:"Index",props:{videos:{},categories:{}},setup(N){const i=N,I=[{title:"Video Management",href:"/admin/videos"}];q(()=>{console.log("====== VIDEO INDEX DEBUG ======"),console.log("Total videos:",i.videos.length),console.log("Total categories:",i.categories.length),console.log("Available categories:",i.categories),console.log("----------------------------"),i.videos.forEach((a,o)=>{var l,c;console.log(`Video ${o+1}: "${a.name}"`),console.log("  - ID:",a.id),console.log("  - Category object:",a.category),console.log("  - Has category?:",!!a.category),console.log("  - Category ID:",((l=a.category)==null?void 0:l.id)||"NULL"),console.log("  - Category Name:",((c=a.category)==null?void 0:c.name)||"NULL"),console.log("----------------------------")})});const _=G(()=>({total:i.videos.length,active:i.videos.filter(a=>a.is_active).length,totalViewers:i.videos.reduce((a,o)=>a+o.total_viewers,0),completed:i.videos.reduce((a,o)=>a+o.completed_viewers,0),avgCompletion:i.videos.length>0?Math.round(i.videos.reduce((a,o)=>a+o.avg_completion,0)/i.videos.length):0}));function P(a){v.visit(`/admin/videos/${a.id}`)}function M(a){v.visit(`/admin/videos/${a.id}/edit`)}function L(a){v.post(`/admin/videos/${a.id}/toggle-active`,{},{preserveScroll:!0,onSuccess:()=>{console.log(`Video ${a.is_active?"deactivated":"activated"} successfully`)}})}function j(a){confirm(`Are you sure you want to delete "${a.name}"? This action cannot be undone.`)&&v.delete(`/admin/videos/${a.id}`,{onSuccess:()=>{console.log("Video deleted successfully")}})}function B(a){return a?"default":"secondary"}function U(a){return a>=80?"text-green-600":a>=60?"text-yellow-600":"text-red-600"}function F(a){const o=a.target;o.style.display="none";const l=o.parentElement;if(l){const c=l.querySelector(".fallback-icon");c&&(c.style.display="flex")}}return(a,o)=>(u(),x(V,null,[t(e(O),{title:"Video Management"}),t(Z,{breadcrumbs:I},{default:r(()=>[s("div",xe,[s("div",be,[s("div",null,[s("h1",ve,[t(e(h),{class:"h-7 w-7 text-blue-600 dark:text-blue-500"}),o[0]||(o[0]=d(" Video Management "))]),o[1]||(o[1]=s("p",{class:"text-muted-foreground"},"Manage your video courses and track performance",-1))]),t(e(y),{"as-child":"",size:"default",class:"bg-primary text-primary-foreground hover:bg-primary/90"},{default:r(()=>[t(e(C),{href:"/admin/videos/create"},{default:r(()=>[t(e(T),{class:"h-4 w-4 mr-2"}),o[2]||(o[2]=d(" Add Video Course "))]),_:1})]),_:1})]),s("div",ke,[t(e(m),{class:"border-0 bg-gradient-to-br from-blue-50 to-blue-100 dark:from-blue-950/50 dark:to-blue-900/50 border border-blue-200/50 dark:border-blue-800/50"},{default:r(()=>[t(e(p),{class:"p-4"},{default:r(()=>[s("div",he,[s("div",ye,[t(e(h),{class:"h-6 w-6 text-white"})]),s("div",null,[s("div",we,n(_.value.total),1),o[3]||(o[3]=s("div",{class:"text-sm text-blue-700 dark:text-blue-300"},"Total Videos",-1))])])]),_:1})]),_:1}),t(e(m),{class:"border-0 bg-gradient-to-br from-green-50 to-green-100 dark:from-green-950/50 dark:to-green-900/50 border border-green-200/50 dark:border-green-800/50"},{default:r(()=>[t(e(p),{class:"p-4"},{default:r(()=>[s("div",Ce,[s("div",$e,[t(e(le),{class:"h-6 w-6 text-white"})]),s("div",null,[s("div",Ve,n(_.value.active),1),o[4]||(o[4]=s("div",{class:"text-sm text-green-700 dark:text-green-300"},"Active",-1))])])]),_:1})]),_:1}),t(e(m),{class:"border-0 bg-gradient-to-br from-purple-50 to-purple-100 dark:from-purple-950/50 dark:to-purple-900/50 border border-purple-200/50 dark:border-purple-800/50"},{default:r(()=>[t(e(p),{class:"p-4"},{default:r(()=>[s("div",Ae,[s("div",Se,[t(e(D),{class:"h-6 w-6 text-white"})]),s("div",null,[s("div",Te,n(_.value.totalViewers),1),o[5]||(o[5]=s("div",{class:"text-sm text-purple-700 dark:text-purple-300"},"Total Viewers",-1))])])]),_:1})]),_:1}),t(e(m),{class:"border-0 bg-gradient-to-br from-orange-50 to-orange-100 dark:from-orange-950/50 dark:to-orange-900/50 border border-orange-200/50 dark:border-orange-800/50"},{default:r(()=>[t(e(p),{class:"p-4"},{default:r(()=>[s("div",De,[s("div",Ee,[t(e(ne),{class:"h-6 w-6 text-white"})]),s("div",null,[s("div",Ne,n(_.value.completed),1),o[6]||(o[6]=s("div",{class:"text-sm text-orange-700 dark:text-orange-300"},"Completed",-1))])])]),_:1})]),_:1}),t(e(m),{class:"border-0 bg-gradient-to-br from-teal-50 to-teal-100 dark:from-teal-950/50 dark:to-teal-900/50 border border-teal-200/50 dark:border-teal-800/50"},{default:r(()=>[t(e(p),{class:"p-4"},{default:r(()=>[s("div",Ie,[s("div",Pe,[t(e(E),{class:"h-6 w-6 text-white"})]),s("div",null,[s("div",Me,n(_.value.avgCompletion)+"% ",1),o[7]||(o[7]=s("div",{class:"text-sm text-teal-700 dark:text-teal-300"},"Avg Progress",-1))])])]),_:1})]),_:1})]),t(e(m),{class:"bg-card border-border"},{default:r(()=>[t(e(te),{class:"bg-card text-card-foreground"},{default:r(()=>[t(e(oe),{class:"text-xl"},{default:r(()=>o[8]||(o[8]=[d("Video Courses")])),_:1}),t(e(ee),{class:"text-muted-foreground"},{default:r(()=>o[9]||(o[9]=[d(" Manage your video courses and track their performance ")])),_:1})]),_:1}),t(e(p),{class:"p-0"},{default:r(()=>[t(e(re),null,{default:r(()=>[t(e(se),null,{default:r(()=>[t(e(w),{class:"border-border"},{default:r(()=>[t(e(g),{class:"text-foreground"},{default:r(()=>o[10]||(o[10]=[d("Video")])),_:1}),t(e(g),{class:"text-foreground"},{default:r(()=>o[11]||(o[11]=[d("Category")])),_:1}),t(e(g),{class:"text-foreground"},{default:r(()=>o[12]||(o[12]=[d("Duration")])),_:1}),t(e(g),{class:"text-foreground"},{default:r(()=>o[13]||(o[13]=[d("Status")])),_:1}),t(e(g),{class:"text-foreground"},{default:r(()=>o[14]||(o[14]=[d("Analytics")])),_:1}),t(e(g),{class:"text-foreground"},{default:r(()=>o[15]||(o[15]=[d("Created")])),_:1}),t(e(g),{class:"text-right text-foreground"},{default:r(()=>o[16]||(o[16]=[d("Actions")])),_:1})]),_:1})]),_:1}),t(e(ae),null,{default:r(()=>[(u(!0),x(V,null,W(a.videos,l=>(u(),b(e(w),{key:l.id,class:"hover:bg-accent/50 border-border text-card-foreground"},{default:r(()=>[t(e(f),null,{default:r(()=>[s("div",Le,[s("div",je,[l.thumbnail_url?(u(),x("img",{key:0,src:l.thumbnail_url,alt:l.name,class:"w-full h-full object-cover",onError:F},null,40,Be)):$("",!0),t(e(h),{class:"fallback-icon h-8 w-8 text-blue-500 dark:text-blue-400",style:H({display:l.thumbnail_url?"none":"flex"})},null,8,["style"])]),s("div",Ue,[s("div",Fe,n(l.name),1),s("div",ze,n(l.description||"No description"),1),s("div",qe,[s("span",null,"by "+n(l.creator.name),1)])])])]),_:2},1024),t(e(f),null,{default:r(()=>[l.category?(u(),b(e(S),{key:0,variant:"outline",class:"gap-1 bg-background border-border text-foreground"},{default:r(()=>[t(e(ie),{class:"h-3 w-3"}),d(" "+n(l.category.name),1)]),_:2},1024)):(u(),x("span",Ge,"No category"))]),_:2},1024),t(e(f),null,{default:r(()=>[s("div",Oe,[t(e(ce),{class:"h-4 w-4 text-muted-foreground"}),d(" "+n(l.formatted_duration),1)])]),_:2},1024),t(e(f),null,{default:r(()=>[t(e(S),{variant:B(l.is_active),class:"bg-background border-border"},{default:r(()=>[d(n(l.is_active?"Active":"Inactive"),1)]),_:2},1032,["variant"])]),_:2},1024),t(e(f),null,{default:r(()=>[s("div",We,[s("div",He,[t(e(D),{class:"h-4 w-4 text-muted-foreground"}),s("span",null,n(l.total_viewers)+" viewers",1)]),s("div",Re,[t(e(E),{class:"h-4 w-4 text-muted-foreground"}),s("span",{class:R(U(l.avg_completion))},n(Math.round(l.avg_completion))+"% completion ",3)])])]),_:2},1024),t(e(f),{class:"text-sm text-muted-foreground"},{default:r(()=>[d(n(new Date(l.created_at).toLocaleDateString()),1)]),_:2},1024),t(e(f),{class:"text-right"},{default:r(()=>[t(e(Y),null,{default:r(()=>[t(e(J),{"as-child":""},{default:r(()=>[t(e(y),{variant:"ghost",size:"sm",class:"text-foreground hover:bg-accent hover:text-accent-foreground"},{default:r(()=>[t(e(ue),{class:"h-4 w-4"})]),_:1})]),_:1}),t(e(K),{align:"end",class:"bg-popover border-border text-popover-foreground"},{default:r(()=>[t(e(Q),{class:"text-popover-foreground"},{default:r(()=>o[17]||(o[17]=[d("Actions")])),_:1}),t(e(k),{onClick:c=>P(l),class:"text-popover-foreground hover:bg-accent hover:text-accent-foreground cursor-pointer"},{default:r(()=>[t(e(fe),{class:"h-4 w-4 mr-2"}),o[18]||(o[18]=d(" Analytics "))]),_:2},1032,["onClick"]),t(e(k),{onClick:c=>M(l),class:"text-popover-foreground hover:bg-accent hover:text-accent-foreground cursor-pointer"},{default:r(()=>[t(e(ge),{class:"h-4 w-4 mr-2"}),o[19]||(o[19]=d(" Edit "))]),_:2},1032,["onClick"]),t(e(A),{class:"bg-border"}),t(e(k),{onClick:c=>L(l),class:"text-popover-foreground hover:bg-accent hover:text-accent-foreground cursor-pointer"},{default:r(()=>[(u(),b(X(l.is_active?e(me):e(pe)),{class:"h-4 w-4 mr-2"})),d(" "+n(l.is_active?"Deactivate":"Activate"),1)]),_:2},1032,["onClick"]),t(e(A),{class:"bg-border"}),t(e(k),{onClick:c=>j(l),class:"text-destructive focus:text-destructive cursor-pointer"},{default:r(()=>[t(e(_e),{class:"h-4 w-4 mr-2"}),o[20]||(o[20]=d(" Delete "))]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128)),a.videos.length===0?(u(),b(e(w),{key:0,class:"border-border"},{default:r(()=>[t(e(f),{colspan:"7",class:"text-center py-16 text-muted-foreground"},{default:r(()=>[t(e(h),{class:"h-16 w-16 mx-auto text-muted-foreground mb-6"}),o[22]||(o[22]=s("div",{class:"text-lg font-medium mb-2 text-foreground"},"No video courses found",-1)),o[23]||(o[23]=s("p",{class:"text-muted-foreground mb-4"}," Get started by creating your first video course ",-1)),t(e(y),{"as-child":"",class:"bg-primary text-primary-foreground hover:bg-primary/90"},{default:r(()=>[t(e(C),{href:"/admin/videos/create"},{default:r(()=>[t(e(T),{class:"h-4 w-4 mr-2"}),o[21]||(o[21]=d(" Add Your First Video Course "))]),_:1})]),_:1})]),_:1})]),_:1})):$("",!0)]),_:1})]),_:1})]),_:1})]),_:1})])]),_:1})],64))}}),ht=de(Xe,[["__scopeId","data-v-6107ac71"]]);export{ht as default};
