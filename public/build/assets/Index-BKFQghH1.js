import{d as L,c as U,a as x,o as i,b as t,u as e,m as W,w as s,e as o,f as d,P as C,t as n,g as b,h as $,F as V,i as G,y as O,n as R,k as Y,W as v}from"./app-CCCS0CZF.js";import{g as H,h as J,i as K,j as Q,k,l as A,f as X}from"./AppLayout.vue_vue_type_script_setup_true_lang-DQk27E9I.js";import{_ as y}from"./Button.vue_vue_type_script_setup_true_lang-D-fF9GCs.js";import{_ as g}from"./Card.vue_vue_type_script_setup_true_lang-CRkEhIeg.js";import{_ as p}from"./CardContent.vue_vue_type_script_setup_true_lang-DtVg1eqL.js";import{_ as Z}from"./CardDescription.vue_vue_type_script_setup_true_lang-CkNQtlWZ.js";import{_ as ee}from"./CardHeader.vue_vue_type_script_setup_true_lang-CouQvq0a.js";import{_ as te}from"./CardTitle.vue_vue_type_script_setup_true_lang-Bh6tkZxp.js";import{_ as S}from"./index-DLMFaGQy.js";import{_ as re,a as se,b as w,c as f,d as oe,e as u}from"./TableHeader.vue_vue_type_script_setup_true_lang-CP3z6lZn.js";import{S as h}from"./square-play-qiFQGLLY.js";import{P as T}from"./plus-BWwOLG6x.js";import{P as ae}from"./play-RZziCFFe.js";import{U as P,_ as le}from"./_plugin-vue_export-helper-BAqViWah.js";import{C as de}from"./circle-check-big-B8uw0VhS.js";import{T as D}from"./trending-up-Ch-IvgfC.js";import{F as ne}from"./folder-open-XOciqI9b.js";import{C as ie}from"./clock-Bl_lmuQc.js";import{E as ue}from"./ellipsis-B6SbAHVL.js";import{C as ce}from"./chart-column-DKdK0Y5w.js";import{S as fe}from"./square-pen-B58rVOOl.js";import{T as me,a as ge}from"./toggle-right-BtFZVt4j.js";import{T as pe}from"./trash-2-DUxU27s6.js";import"./index-DqS1P1ZA.js";import"./index-Cqm0A19K.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-DpFjYdO-.js";const _e={class:"space-y-6 bg-background text-foreground"},xe={class:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4"},be={class:"text-2xl font-bold flex items-center gap-2 text-foreground"},ve={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4"},ke={class:"flex items-center gap-3"},he={class:"p-2 bg-blue-500 dark:bg-blue-600 rounded-lg"},ye={class:"text-2xl font-bold text-blue-900 dark:text-blue-100"},we={class:"flex items-center gap-3"},Ce={class:"p-2 bg-green-500 dark:bg-green-600 rounded-lg"},$e={class:"text-2xl font-bold text-green-900 dark:text-green-100"},Ve={class:"flex items-center gap-3"},Ae={class:"p-2 bg-purple-500 dark:bg-purple-600 rounded-lg"},Se={class:"text-2xl font-bold text-purple-900 dark:text-purple-100"},Te={class:"flex items-center gap-3"},Pe={class:"p-2 bg-orange-500 dark:bg-orange-600 rounded-lg"},De={class:"text-2xl font-bold text-orange-900 dark:text-orange-100"},Ee={class:"flex items-center gap-3"},Me={class:"p-2 bg-teal-500 dark:bg-teal-600 rounded-lg"},Ne={class:"text-2xl font-bold text-teal-900 dark:text-teal-100"},je={class:"flex items-center gap-3"},Be={class:"relative w-16 h-16 rounded-lg overflow-hidden bg-gradient-to-br from-blue-100 to-purple-100 dark:from-blue-950/50 dark:to-purple-950/50 flex items-center justify-center shrink-0 border border-muted"},Fe=["src","alt"],Ie={class:"min-w-0 flex-1"},ze={class:"font-semibold truncate text-base text-foreground"},qe={class:"text-sm text-muted-foreground truncate max-w-xs"},Le={class:"text-xs text-muted-foreground mt-1 flex items-center gap-1"},Ue={key:1,class:"text-muted-foreground text-sm"},We={class:"flex items-center gap-1 text-sm text-foreground"},Ge={class:"space-y-1"},Oe={class:"flex items-center gap-2 text-sm text-foreground"},Re={class:"flex items-center gap-2 text-sm"},Ye=L({__name:"Index",props:{videos:{},categories:{}},setup(E){const c=E,M=[{title:"Video Management",href:"/admin/videos"}],_=U(()=>({total:c.videos.length,active:c.videos.filter(a=>a.is_active).length,totalViewers:c.videos.reduce((a,r)=>a+r.total_viewers,0),completed:c.videos.reduce((a,r)=>a+r.completed_viewers,0),avgCompletion:c.videos.length>0?Math.round(c.videos.reduce((a,r)=>a+r.avg_completion,0)/c.videos.length):0}));function N(a){v.visit(`/admin/videos/${a.id}`)}function j(a){v.visit(`/admin/videos/${a.id}/edit`)}function B(a){v.post(`/admin/videos/${a.id}/toggle-active`,{},{preserveScroll:!0,onSuccess:()=>{console.log(`Video ${a.is_active?"deactivated":"activated"} successfully`)}})}function F(a){confirm(`Are you sure you want to delete "${a.name}"? This action cannot be undone.`)&&v.delete(`/admin/videos/${a.id}`,{onSuccess:()=>{console.log("Video deleted successfully")}})}function I(a){return a?"default":"secondary"}function z(a){return a>=80?"text-green-600":a>=60?"text-yellow-600":"text-red-600"}function q(a){const r=a.target;r.style.display="none";const l=r.parentElement;if(l){const m=l.querySelector(".fallback-icon");m&&(m.style.display="flex")}}return(a,r)=>(i(),x(V,null,[t(e(W),{title:"Video Management"}),t(X,{breadcrumbs:M},{default:s(()=>[o("div",_e,[o("div",xe,[o("div",null,[o("h1",be,[t(e(h),{class:"h-7 w-7 text-blue-600 dark:text-blue-500"}),r[0]||(r[0]=d(" Video Management "))]),r[1]||(r[1]=o("p",{class:"text-muted-foreground"},"Manage your video courses and track performance",-1))]),t(e(y),{"as-child":"",size:"default",class:"bg-primary text-primary-foreground hover:bg-primary/90"},{default:s(()=>[t(e(C),{href:"/admin/videos/create"},{default:s(()=>[t(e(T),{class:"h-4 w-4 mr-2"}),r[2]||(r[2]=d(" Add Video Course "))]),_:1})]),_:1})]),o("div",ve,[t(e(g),{class:"border-0 bg-gradient-to-br from-blue-50 to-blue-100 dark:from-blue-950/50 dark:to-blue-900/50 border border-blue-200/50 dark:border-blue-800/50"},{default:s(()=>[t(e(p),{class:"p-4"},{default:s(()=>[o("div",ke,[o("div",he,[t(e(h),{class:"h-6 w-6 text-white"})]),o("div",null,[o("div",ye,n(_.value.total),1),r[3]||(r[3]=o("div",{class:"text-sm text-blue-700 dark:text-blue-300"},"Total Videos",-1))])])]),_:1})]),_:1}),t(e(g),{class:"border-0 bg-gradient-to-br from-green-50 to-green-100 dark:from-green-950/50 dark:to-green-900/50 border border-green-200/50 dark:border-green-800/50"},{default:s(()=>[t(e(p),{class:"p-4"},{default:s(()=>[o("div",we,[o("div",Ce,[t(e(ae),{class:"h-6 w-6 text-white"})]),o("div",null,[o("div",$e,n(_.value.active),1),r[4]||(r[4]=o("div",{class:"text-sm text-green-700 dark:text-green-300"},"Active",-1))])])]),_:1})]),_:1}),t(e(g),{class:"border-0 bg-gradient-to-br from-purple-50 to-purple-100 dark:from-purple-950/50 dark:to-purple-900/50 border border-purple-200/50 dark:border-purple-800/50"},{default:s(()=>[t(e(p),{class:"p-4"},{default:s(()=>[o("div",Ve,[o("div",Ae,[t(e(P),{class:"h-6 w-6 text-white"})]),o("div",null,[o("div",Se,n(_.value.totalViewers),1),r[5]||(r[5]=o("div",{class:"text-sm text-purple-700 dark:text-purple-300"},"Total Viewers",-1))])])]),_:1})]),_:1}),t(e(g),{class:"border-0 bg-gradient-to-br from-orange-50 to-orange-100 dark:from-orange-950/50 dark:to-orange-900/50 border border-orange-200/50 dark:border-orange-800/50"},{default:s(()=>[t(e(p),{class:"p-4"},{default:s(()=>[o("div",Te,[o("div",Pe,[t(e(de),{class:"h-6 w-6 text-white"})]),o("div",null,[o("div",De,n(_.value.completed),1),r[6]||(r[6]=o("div",{class:"text-sm text-orange-700 dark:text-orange-300"},"Completed",-1))])])]),_:1})]),_:1}),t(e(g),{class:"border-0 bg-gradient-to-br from-teal-50 to-teal-100 dark:from-teal-950/50 dark:to-teal-900/50 border border-teal-200/50 dark:border-teal-800/50"},{default:s(()=>[t(e(p),{class:"p-4"},{default:s(()=>[o("div",Ee,[o("div",Me,[t(e(D),{class:"h-6 w-6 text-white"})]),o("div",null,[o("div",Ne,n(_.value.avgCompletion)+"% ",1),r[7]||(r[7]=o("div",{class:"text-sm text-teal-700 dark:text-teal-300"},"Avg Progress",-1))])])]),_:1})]),_:1})]),t(e(g),{class:"bg-card border-border"},{default:s(()=>[t(e(ee),{class:"bg-card text-card-foreground"},{default:s(()=>[t(e(te),{class:"text-xl"},{default:s(()=>r[8]||(r[8]=[d("Video Courses")])),_:1}),t(e(Z),{class:"text-muted-foreground"},{default:s(()=>r[9]||(r[9]=[d(" Manage your video courses and track their performance ")])),_:1})]),_:1}),t(e(p),{class:"p-0"},{default:s(()=>[t(e(re),null,{default:s(()=>[t(e(se),null,{default:s(()=>[t(e(w),{class:"border-border"},{default:s(()=>[t(e(f),{class:"text-foreground"},{default:s(()=>r[10]||(r[10]=[d("Video")])),_:1}),t(e(f),{class:"text-foreground"},{default:s(()=>r[11]||(r[11]=[d("Category")])),_:1}),t(e(f),{class:"text-foreground"},{default:s(()=>r[12]||(r[12]=[d("Duration")])),_:1}),t(e(f),{class:"text-foreground"},{default:s(()=>r[13]||(r[13]=[d("Status")])),_:1}),t(e(f),{class:"text-foreground"},{default:s(()=>r[14]||(r[14]=[d("Analytics")])),_:1}),t(e(f),{class:"text-foreground"},{default:s(()=>r[15]||(r[15]=[d("Created")])),_:1}),t(e(f),{class:"text-right text-foreground"},{default:s(()=>r[16]||(r[16]=[d("Actions")])),_:1})]),_:1})]),_:1}),t(e(oe),null,{default:s(()=>[(i(!0),x(V,null,G(a.videos,l=>(i(),b(e(w),{key:l.id,class:"hover:bg-accent/50 border-border text-card-foreground"},{default:s(()=>[t(e(u),null,{default:s(()=>[o("div",je,[o("div",Be,[l.thumbnail_url?(i(),x("img",{key:0,src:l.thumbnail_url,alt:l.name,class:"w-full h-full object-cover",onError:q},null,40,Fe)):$("",!0),t(e(h),{class:"fallback-icon h-8 w-8 text-blue-500 dark:text-blue-400",style:O({display:l.thumbnail_url?"none":"flex"})},null,8,["style"])]),o("div",Ie,[o("div",ze,n(l.name),1),o("div",qe,n(l.description||"No description"),1),o("div",Le,[o("span",null,"by "+n(l.creator.name),1)])])])]),_:2},1024),t(e(u),null,{default:s(()=>[l.category?(i(),b(e(S),{key:0,variant:"outline",class:"gap-1 bg-background border-border text-foreground"},{default:s(()=>[t(e(ne),{class:"h-3 w-3"}),d(" "+n(l.category.name),1)]),_:2},1024)):(i(),x("span",Ue,"No category"))]),_:2},1024),t(e(u),null,{default:s(()=>[o("div",We,[t(e(ie),{class:"h-4 w-4 text-muted-foreground"}),d(" "+n(l.formatted_duration),1)])]),_:2},1024),t(e(u),null,{default:s(()=>[t(e(S),{variant:I(l.is_active),class:"bg-background border-border"},{default:s(()=>[d(n(l.is_active?"Active":"Inactive"),1)]),_:2},1032,["variant"])]),_:2},1024),t(e(u),null,{default:s(()=>[o("div",Ge,[o("div",Oe,[t(e(P),{class:"h-4 w-4 text-muted-foreground"}),o("span",null,n(l.total_viewers)+" viewers",1)]),o("div",Re,[t(e(D),{class:"h-4 w-4 text-muted-foreground"}),o("span",{class:R(z(l.avg_completion))},n(Math.round(l.avg_completion))+"% completion ",3)])])]),_:2},1024),t(e(u),{class:"text-sm text-muted-foreground"},{default:s(()=>[d(n(new Date(l.created_at).toLocaleDateString()),1)]),_:2},1024),t(e(u),{class:"text-right"},{default:s(()=>[t(e(H),null,{default:s(()=>[t(e(J),{"as-child":""},{default:s(()=>[t(e(y),{variant:"ghost",size:"sm",class:"text-foreground hover:bg-accent hover:text-accent-foreground"},{default:s(()=>[t(e(ue),{class:"h-4 w-4"})]),_:1})]),_:1}),t(e(K),{align:"end",class:"bg-popover border-border text-popover-foreground"},{default:s(()=>[t(e(Q),{class:"text-popover-foreground"},{default:s(()=>r[17]||(r[17]=[d("Actions")])),_:1}),t(e(k),{onClick:m=>N(l),class:"text-popover-foreground hover:bg-accent hover:text-accent-foreground cursor-pointer"},{default:s(()=>[t(e(ce),{class:"h-4 w-4 mr-2"}),r[18]||(r[18]=d(" Analytics "))]),_:2},1032,["onClick"]),t(e(k),{onClick:m=>j(l),class:"text-popover-foreground hover:bg-accent hover:text-accent-foreground cursor-pointer"},{default:s(()=>[t(e(fe),{class:"h-4 w-4 mr-2"}),r[19]||(r[19]=d(" Edit "))]),_:2},1032,["onClick"]),t(e(A),{class:"bg-border"}),t(e(k),{onClick:m=>B(l),class:"text-popover-foreground hover:bg-accent hover:text-accent-foreground cursor-pointer"},{default:s(()=>[(i(),b(Y(l.is_active?e(me):e(ge)),{class:"h-4 w-4 mr-2"})),d(" "+n(l.is_active?"Deactivate":"Activate"),1)]),_:2},1032,["onClick"]),t(e(A),{class:"bg-border"}),t(e(k),{onClick:m=>F(l),class:"text-destructive focus:text-destructive cursor-pointer"},{default:s(()=>[t(e(pe),{class:"h-4 w-4 mr-2"}),r[20]||(r[20]=d(" Delete "))]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128)),a.videos.length===0?(i(),b(e(w),{key:0,class:"border-border"},{default:s(()=>[t(e(u),{colspan:"7",class:"text-center py-16 text-muted-foreground"},{default:s(()=>[t(e(h),{class:"h-16 w-16 mx-auto text-muted-foreground mb-6"}),r[22]||(r[22]=o("div",{class:"text-lg font-medium mb-2 text-foreground"},"No video courses found",-1)),r[23]||(r[23]=o("p",{class:"text-muted-foreground mb-4"}," Get started by creating your first video course ",-1)),t(e(y),{"as-child":"",class:"bg-primary text-primary-foreground hover:bg-primary/90"},{default:s(()=>[t(e(C),{href:"/admin/videos/create"},{default:s(()=>[t(e(T),{class:"h-4 w-4 mr-2"}),r[21]||(r[21]=d(" Add Your First Video Course "))]),_:1})]),_:1})]),_:1})]),_:1})):$("",!0)]),_:1})]),_:1})]),_:1})]),_:1})])]),_:1})],64))}}),kt=le(Ye,[["__scopeId","data-v-00c8c348"]]);export{kt as default};
