import{d as ue,r as X,C as ce,c as H,a as m,o as c,b as s,u as e,m as me,w as r,e as o,P as K,f as a,t as p,j as pe,h as _,n as b,s as V,v as B,F as q,i as z,g as h,k as fe,A as Q}from"./app-CV2cPHwK.js";import{m as _e,C as ve,f as ge}from"./AppLayout.vue_vue_type_script_setup_true_lang-BSvNWHlH.js";import{_ as y}from"./Button.vue_vue_type_script_setup_true_lang-C5sOPNae.js";import{_ as $}from"./Card.vue_vue_type_script_setup_true_lang--D3KWfGq.js";import{_ as U}from"./CardContent.vue_vue_type_script_setup_true_lang-RDGa4TMZ.js";import{_ as S}from"./CardDescription.vue_vue_type_script_setup_true_lang-1DS5NEM9.js";import{_ as D}from"./CardHeader.vue_vue_type_script_setup_true_lang-mDEJg-F9.js";import{_ as M}from"./CardTitle.vue_vue_type_script_setup_true_lang-BSzOzICM.js";import{_ as w}from"./Input.vue_vue_type_script_setup_true_lang-DwXOvzA9.js";import{_ as g}from"./Label.vue_vue_type_script_setup_true_lang-ciU9q85C.js";import{_ as W}from"./Textarea.vue_vue_type_script_setup_true_lang-CgNAI2Re.js";import{_ as A}from"./Switch.vue_vue_type_script_setup_true_lang-CnsJcd8m.js";import{_ as ye,a as be}from"./index-DKiGTmAa.js";import{_ as j}from"./index-CjSyc0sf.js";import{A as he}from"./arrow-left-BoEBVeWb.js";import{B as N}from"./book-open-BqIuda0t.js";import{F as P}from"./file-text-P0QvyLE1.js";import{U as T}from"./upload-DyoXi8Cl.js";import{X as xe}from"./_plugin-vue_export-helper-BqS9F3Z2.js";import{P as E}from"./plus-Dt9LuUnN.js";import{C as ke}from"./chevron-up-CU0akrCZ.js";import{T as Y}from"./trash-2-DjthRdxN.js";import{V as Z}from"./video-VemHBwTo.js";import{C as Ce}from"./clock-BeTrlB51.js";import{T as we}from"./triangle-alert-CdY9FU4_.js";import{S as Ve}from"./save-dXqfk27t.js";import"./index-3f0HzYe1.js";import"./index-DhfkKPqp.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-CWDFjwen.js";import"./useForwardPropsEmits-BDdvJDZW.js";import"./useForwardExpose-CFKb2kDd.js";import"./VisuallyHidden-bKed1-cs.js";import"./VisuallyHiddenInput-C70pIHWB.js";import"./usePrimitiveElement-Cy5XmkBm.js";const $e={class:"max-w-6xl mx-auto space-y-6"},Ue={class:"flex items-center gap-4"},De={class:"hidden sm:flex items-center gap-4 text-sm text-muted-foreground"},Me={class:"flex items-center gap-2"},Ae={class:"flex items-center gap-2"},Fe={class:"space-y-2"},qe={key:0,class:"text-sm text-destructive"},Se={class:"space-y-2"},Pe={key:0,class:"text-sm text-destructive"},Be={class:"grid grid-cols-1 md:grid-cols-3 gap-6"},ze={class:"space-y-2"},je={key:0,class:"text-sm text-destructive"},Ne={class:"space-y-2"},Te={key:0,class:"text-sm text-destructive"},Ee={class:"space-y-2"},Re={class:"flex items-center space-x-2 pt-2"},Ge={class:"text-sm text-muted-foreground"},Le={key:1,class:"space-y-4"},Oe={class:"relative w-48 h-32 rounded-lg overflow-hidden border mx-auto"},Je=["src"],Xe={class:"text-center"},He={key:2,class:"text-sm text-destructive"},Ke={class:"flex items-center justify-between"},Qe={key:0,class:"text-center py-12 border-2 border-dashed border-input rounded-lg"},We={key:1,class:"space-y-6"},Ye={class:"flex items-center justify-between"},Ze={class:"flex items-center gap-3"},Ie={class:"w-8 h-8 bg-primary/10 text-primary rounded-full flex items-center justify-center text-sm font-semibold"},et={class:"flex items-center gap-1"},tt={class:"space-y-4"},st={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},ot={class:"space-y-2"},lt={key:0,class:"text-sm text-destructive"},it={class:"space-y-2"},rt={key:0,class:"text-sm text-destructive"},dt={class:"space-y-2"},at={key:0,class:"text-sm text-destructive"},nt={class:"flex items-center gap-6"},ut={class:"flex items-center space-x-2"},ct={class:"flex items-center space-x-2"},mt={class:"border rounded-lg p-4 bg-muted/20"},pt={class:"flex items-center justify-between mb-4"},ft={class:"flex items-center gap-2"},_t={key:0,class:"text-center py-8 border-2 border-dashed border-input rounded-lg"},vt={key:1,class:"space-y-4"},gt={class:"flex items-center justify-between"},yt={class:"flex items-center gap-2"},bt={class:"w-6 h-6 bg-primary/10 text-primary rounded-full flex items-center justify-center text-xs font-medium"},ht={class:"grid grid-cols-1 lg:grid-cols-2 gap-4"},xt={class:"space-y-2"},kt=["onUpdate:modelValue","onChange"],Ct={class:"space-y-2"},wt={key:0,class:"space-y-4"},Vt={class:"space-y-2"},$t=["onUpdate:modelValue"],Ut=["value"],Dt={key:0,class:"p-3 bg-blue-50 dark:bg-blue-950 rounded-lg"},Mt={class:"flex items-center gap-3"},At=["src","alt"],Ft={class:"flex-1"},qt={class:"font-medium text-sm"},St={class:"flex items-center gap-2 text-xs text-muted-foreground"},Pt={key:1,class:"space-y-4"},Bt={class:"space-y-3"},zt={class:"flex gap-6"},jt={class:"flex items-center space-x-2"},Nt=["onUpdate:modelValue"],Tt={class:"flex items-center space-x-2"},Et=["onUpdate:modelValue"],Rt={key:0},Gt=["onChange"],Lt={key:1},Ot={key:0,class:"p-3 bg-purple-50 dark:bg-purple-950 rounded-lg"},Jt={class:"flex items-center gap-3"},Xt={class:"flex-1"},Ht={class:"font-medium text-sm"},Kt={class:"flex items-center gap-6 pt-2 border-t"},Qt={class:"flex items-center space-x-2"},Wt={class:"flex items-center space-x-2"},Yt={class:"flex justify-between items-center py-6"},Zt={class:"flex items-center gap-4"},It={key:0,class:"text-sm text-muted-foreground hidden sm:block"},Ps=ue({__name:"Create",props:{availableVideos:{}},setup(I){const ee=I,te=[{title:"Course Online",href:"/admin/course-online"},{title:"Create Course",href:"#"}],F=X(null),x=X(null),l=ce({name:"",description:"",image:null,difficulty_level:"",estimated_duration:null,is_active:!0,modules:[]}),se=H(()=>l.name&&l.difficulty_level&&l.modules.length>0&&l.modules.every(u=>u.name.trim()&&(!u.content||u.content.length===0||u.content.every(t=>t.title&&t.content_type)))),R=H(()=>l.modules.reduce((u,t)=>{var d;return u+(((d=t.content)==null?void 0:d.length)||0)},0)),oe=u=>{var n;const t=u.target,d=(n=t.files)==null?void 0:n[0];if(d){if(d.size>2*1024*1024){alert("File size must be less than 2MB"),t.value="";return}l.image=d;const i=new FileReader;i.onload=v=>{var C;x.value=(C=v.target)==null?void 0:C.result},i.readAsDataURL(d)}},le=()=>{l.image=null,x.value=null,F.value&&(F.value.value="")},G=()=>{var u;(u=F.value)==null||u.click()},L=()=>{l.modules.push({name:"",description:"",order_number:l.modules.length+1,estimated_duration:null,is_required:!0,is_active:!0,content:[]})},ie=u=>{confirm("Are you sure you want to remove this module and all its content?")&&(l.modules.splice(u,1),l.modules.forEach((t,d)=>{t.order_number=d+1}))},O=(u,t)=>{const d=t==="up"?u-1:u+1;if(d>=0&&d<l.modules.length){const n=l.modules[u];l.modules[u]=l.modules[d],l.modules[d]=n,l.modules.forEach((i,v)=>{i.order_number=v+1})}},J=u=>{l.modules[u].content||(l.modules[u].content=[]),l.modules[u].content.push({title:"",content_type:"",order_number:l.modules[u].content.length+1,is_required:!0,is_active:!0,video_id:null,pdf_source_type:"upload",pdf_file:null,google_drive_pdf_url:""})},re=(u,t)=>{confirm("Are you sure you want to remove this content item?")&&(l.modules[u].content.splice(t,1),l.modules[u].content.forEach((d,n)=>{d.order_number=n+1}))},de=(u,t)=>{const d=l.modules[u].content[t];d.video_id=null,d.pdf_file=null,d.google_drive_pdf_url="",d.pdf_source_type="upload"},ae=(u,t,d)=>{var v;const i=(v=u.target.files)==null?void 0:v[0];i&&i.type==="application/pdf"&&(l.modules[t].content[d].pdf_file=i)},k=u=>{var t;return(t=ee.availableVideos)==null?void 0:t.find(d=>d.id==u)},ne=()=>{l.post("/admin/course-online",{onSuccess:()=>{l.reset(),x.value=null}})};return(u,t)=>(c(),m(q,null,[s(e(me),{title:"Create Complete Course"}),s(ge,{breadcrumbs:te},{default:r(()=>[o("div",$e,[o("div",Ue,[s(e(y),{asChild:"",variant:"ghost"},{default:r(()=>[s(e(K),{href:"/admin/course-online"},{default:r(()=>[s(e(he),{class:"h-4 w-4 mr-2"}),t[5]||(t[5]=a(" Back to Courses "))]),_:1})]),_:1}),t[6]||(t[6]=o("div",{class:"flex-1"},[o("h1",{class:"text-3xl font-bold"},"Create Complete Course"),o("p",{class:"text-muted-foreground"},"Build course, modules, and content all in one place")],-1)),o("div",De,[o("div",Me,[s(e(N),{class:"h-4 w-4"}),a(" "+p(e(l).modules.length)+" modules ",1)]),o("div",Ae,[s(e(P),{class:"h-4 w-4"}),a(" "+p(R.value)+" content items ",1)])])]),o("form",{onSubmit:pe(ne,["prevent"]),class:"space-y-6"},[s(e($),null,{default:r(()=>[s(e(D),null,{default:r(()=>[s(e(M),{class:"flex items-center gap-2"},{default:r(()=>[s(e(N),{class:"h-5 w-5 text-primary"}),t[7]||(t[7]=a(" Course Information "))]),_:1}),s(e(S),null,{default:r(()=>t[8]||(t[8]=[a(" Enter the basic details for your online course ")])),_:1})]),_:1}),s(e(U),{class:"space-y-6"},{default:r(()=>[o("div",Fe,[s(e(g),{for:"name"},{default:r(()=>t[9]||(t[9]=[a("Course Name *")])),_:1}),s(e(w),{id:"name",modelValue:e(l).name,"onUpdate:modelValue":t[0]||(t[0]=d=>e(l).name=d),type:"text",placeholder:"Enter course name",class:b({"border-destructive":e(l).errors.name}),required:""},null,8,["modelValue","class"]),e(l).errors.name?(c(),m("div",qe,p(e(l).errors.name),1)):_("",!0)]),o("div",Se,[s(e(g),{for:"description"},{default:r(()=>t[10]||(t[10]=[a("Course Description")])),_:1}),s(e(W),{id:"description",modelValue:e(l).description,"onUpdate:modelValue":t[1]||(t[1]=d=>e(l).description=d),placeholder:"Describe what students will learn in this course...",rows:4,class:b({"border-destructive":e(l).errors.description})},null,8,["modelValue","class"]),e(l).errors.description?(c(),m("div",Pe,p(e(l).errors.description),1)):_("",!0)]),o("div",Be,[o("div",ze,[s(e(g),{for:"difficulty_level"},{default:r(()=>t[11]||(t[11]=[a("Difficulty Level *")])),_:1}),V(o("select",{id:"difficulty_level","onUpdate:modelValue":t[2]||(t[2]=d=>e(l).difficulty_level=d),required:"",class:b(["flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",{"border-destructive":e(l).errors.difficulty_level}])},t[12]||(t[12]=[o("option",{value:""},"Select difficulty",-1),o("option",{value:"beginner"},"Beginner",-1),o("option",{value:"intermediate"},"Intermediate",-1),o("option",{value:"advanced"},"Advanced",-1)]),2),[[B,e(l).difficulty_level]]),e(l).errors.difficulty_level?(c(),m("div",je,p(e(l).errors.difficulty_level),1)):_("",!0)]),o("div",Ne,[s(e(g),{for:"estimated_duration"},{default:r(()=>t[13]||(t[13]=[a("Duration (minutes)")])),_:1}),s(e(w),{id:"estimated_duration",modelValue:e(l).estimated_duration,"onUpdate:modelValue":t[3]||(t[3]=d=>e(l).estimated_duration=d),modelModifiers:{number:!0},type:"number",min:"1",placeholder:"e.g. 120",class:b({"border-destructive":e(l).errors.estimated_duration})},null,8,["modelValue","class"]),e(l).errors.estimated_duration?(c(),m("div",Te,p(e(l).errors.estimated_duration),1)):_("",!0)]),o("div",Ee,[s(e(g),null,{default:r(()=>t[14]||(t[14]=[a("Course Status")])),_:1}),o("div",Re,[s(e(A),{checked:e(l).is_active,"onUpdate:checked":t[4]||(t[4]=d=>e(l).is_active=d)},null,8,["checked"]),o("span",Ge,p(e(l).is_active?"Active":"Inactive"),1)])])])]),_:1})]),_:1}),s(e($),null,{default:r(()=>[s(e(D),null,{default:r(()=>[s(e(M),{class:"flex items-center gap-2"},{default:r(()=>[s(e(T),{class:"h-5 w-5 text-primary"}),t[15]||(t[15]=a(" Course Image "))]),_:1}),s(e(S),null,{default:r(()=>t[16]||(t[16]=[a(" Upload a course image to make it more attractive ")])),_:1})]),_:1}),s(e(U),{class:"space-y-4"},{default:r(()=>[o("input",{ref_key:"imageInput",ref:F,type:"file",accept:"image/*",onChange:oe,class:"hidden"},null,544),x.value?_("",!0):(c(),m("div",{key:0,onClick:G,class:b(["border-2 border-dashed border-input rounded-lg p-8 text-center cursor-pointer hover:border-primary transition-colors",{"border-destructive":e(l).errors.image}])},[s(e(T),{class:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),t[17]||(t[17]=o("div",{class:"text-sm font-medium mb-2"},"Click to upload course image",-1)),t[18]||(t[18]=o("div",{class:"text-xs text-muted-foreground"}," PNG, JPG, GIF up to 2MB ",-1))],2)),x.value?(c(),m("div",Le,[o("div",Oe,[o("img",{src:x.value,alt:"Course preview",class:"w-full h-full object-cover"},null,8,Je),s(e(y),{onClick:le,variant:"destructive",size:"sm",class:"absolute top-2 right-2 h-8 w-8 p-0 rounded-full",type:"button"},{default:r(()=>[s(e(xe),{class:"h-4 w-4"})]),_:1})]),o("div",Xe,[s(e(y),{onClick:G,variant:"outline",size:"sm",type:"button"},{default:r(()=>[s(e(T),{class:"h-4 w-4 mr-2"}),t[19]||(t[19]=a(" Change Image "))]),_:1})])])):_("",!0),e(l).errors.image?(c(),m("div",He,p(e(l).errors.image),1)):_("",!0)]),_:1})]),_:1}),s(e($),null,{default:r(()=>[s(e(D),null,{default:r(()=>[o("div",Ke,[o("div",null,[s(e(M),{class:"flex items-center gap-2"},{default:r(()=>[s(e(_e),{class:"h-5 w-5 text-primary"}),t[20]||(t[20]=a(" Course Modules ")),s(e(j),{variant:"secondary"},{default:r(()=>[a(p(e(l).modules.length),1)]),_:1})]),_:1}),s(e(S),null,{default:r(()=>t[21]||(t[21]=[a(" Build your course structure with modules and content ")])),_:1})]),s(e(y),{type:"button",onClick:L,class:"shrink-0"},{default:r(()=>[s(e(E),{class:"h-4 w-4 mr-2"}),t[22]||(t[22]=a(" Add Module "))]),_:1})])]),_:1}),s(e(U),null,{default:r(()=>[e(l).modules.length===0?(c(),m("div",Qe,[s(e(N),{class:"h-16 w-16 mx-auto text-muted-foreground mb-4"}),t[24]||(t[24]=o("h3",{class:"text-lg font-medium mb-2"},"No modules added yet",-1)),t[25]||(t[25]=o("p",{class:"text-muted-foreground mb-4"},"Add your first module to start building your course",-1)),s(e(y),{type:"button",onClick:L},{default:r(()=>[s(e(E),{class:"h-4 w-4 mr-2"}),t[23]||(t[23]=a(" Add First Module "))]),_:1})])):(c(),m("div",We,[(c(!0),m(q,null,z(e(l).modules,(d,n)=>(c(),h(e($),{key:`module-${n}`,class:"border-2"},{default:r(()=>[s(e(D),{class:"pb-4"},{default:r(()=>{var i;return[o("div",Ye,[o("div",Ze,[o("div",Ie,p(n+1),1),o("div",null,[s(e(M),{class:"text-lg"},{default:r(()=>[a("Module "+p(n+1),1)]),_:2},1024),(i=d.content)!=null&&i.length?(c(),h(e(S),{key:0},{default:r(()=>[a(p(d.content.length)+" content items ",1)]),_:2},1024)):_("",!0)])]),o("div",et,[n>0?(c(),h(e(y),{key:0,type:"button",variant:"ghost",size:"sm",onClick:v=>O(n,"up")},{default:r(()=>[s(e(ke),{class:"h-4 w-4"})]),_:2},1032,["onClick"])):_("",!0),n<e(l).modules.length-1?(c(),h(e(y),{key:1,type:"button",variant:"ghost",size:"sm",onClick:v=>O(n,"down")},{default:r(()=>[s(e(ve),{class:"h-4 w-4"})]),_:2},1032,["onClick"])):_("",!0),s(e(y),{type:"button",variant:"ghost",size:"sm",onClick:v=>ie(n),class:"text-destructive hover:text-destructive"},{default:r(()=>[s(e(Y),{class:"h-4 w-4"})]),_:2},1032,["onClick"])])])]}),_:2},1024),s(e(U),{class:"space-y-6"},{default:r(()=>[o("div",tt,[o("div",st,[o("div",ot,[s(e(g),{for:`module-name-${n}`},{default:r(()=>t[26]||(t[26]=[a("Module Name *")])),_:2},1032,["for"]),s(e(w),{id:`module-name-${n}`,modelValue:d.name,"onUpdate:modelValue":i=>d.name=i,type:"text",required:"",placeholder:`Module ${n+1} name`,class:b({"border-destructive":e(l).errors[`modules.${n}.name`]})},null,8,["id","modelValue","onUpdate:modelValue","placeholder","class"]),e(l).errors[`modules.${n}.name`]?(c(),m("div",lt,p(e(l).errors[`modules.${n}.name`]),1)):_("",!0)]),o("div",it,[s(e(g),{for:`module-duration-${n}`},{default:r(()=>t[27]||(t[27]=[a("Duration (minutes)")])),_:2},1032,["for"]),s(e(w),{id:`module-duration-${n}`,modelValue:d.estimated_duration,"onUpdate:modelValue":i=>d.estimated_duration=i,modelModifiers:{number:!0},type:"number",min:"1",placeholder:"e.g. 30",class:b({"border-destructive":e(l).errors[`modules.${n}.estimated_duration`]})},null,8,["id","modelValue","onUpdate:modelValue","class"]),e(l).errors[`modules.${n}.estimated_duration`]?(c(),m("div",rt,p(e(l).errors[`modules.${n}.estimated_duration`]),1)):_("",!0)])]),o("div",dt,[s(e(g),{for:`module-description-${n}`},{default:r(()=>t[28]||(t[28]=[a("Module Description")])),_:2},1032,["for"]),s(e(W),{id:`module-description-${n}`,modelValue:d.description,"onUpdate:modelValue":i=>d.description=i,rows:3,placeholder:`Describe what students will learn in module ${n+1}`,class:b({"border-destructive":e(l).errors[`modules.${n}.description`]})},null,8,["id","modelValue","onUpdate:modelValue","placeholder","class"]),e(l).errors[`modules.${n}.description`]?(c(),m("div",at,p(e(l).errors[`modules.${n}.description`]),1)):_("",!0)]),o("div",nt,[o("div",ut,[s(e(A),{checked:d.is_required,"onUpdate:checked":i=>d.is_required=i},null,8,["checked","onUpdate:checked"]),s(e(g),{class:"text-sm"},{default:r(()=>t[29]||(t[29]=[a("Required module")])),_:1})]),o("div",ct,[s(e(A),{checked:d.is_active,"onUpdate:checked":i=>d.is_active=i},null,8,["checked","onUpdate:checked"]),s(e(g),{class:"text-sm"},{default:r(()=>t[30]||(t[30]=[a("Active module")])),_:1})])])]),o("div",mt,[o("div",pt,[o("div",ft,[s(e(Z),{class:"h-5 w-5 text-primary"}),t[31]||(t[31]=o("h4",{class:"font-medium"},"Module Content",-1)),s(e(j),{variant:"outline"},{default:r(()=>{var i;return[a(p(((i=d.content)==null?void 0:i.length)||0)+" items ",1)]}),_:2},1024)]),s(e(y),{type:"button",variant:"outline",size:"sm",onClick:i=>J(n)},{default:r(()=>[s(e(E),{class:"h-4 w-4 mr-2"}),t[32]||(t[32]=a(" Add Content "))]),_:2},1032,["onClick"])]),!d.content||d.content.length===0?(c(),m("div",_t,[s(e(P),{class:"h-12 w-12 mx-auto text-muted-foreground mb-3"}),t[34]||(t[34]=o("p",{class:"text-muted-foreground text-sm mb-4"},"No content added yet",-1)),s(e(y),{type:"button",variant:"outline",size:"sm",onClick:i=>J(n)},{default:r(()=>t[33]||(t[33]=[a(" Add first content item ")])),_:2},1032,["onClick"])])):(c(),m("div",vt,[(c(!0),m(q,null,z(d.content,(i,v)=>(c(),h(e($),{key:`content-${n}-${v}`,class:"border"},{default:r(()=>[s(e(D),{class:"pb-3"},{default:r(()=>[o("div",gt,[o("div",yt,[o("div",bt,p(v+1),1),s(e(M),{class:"text-base"},{default:r(()=>[a("Content Item "+p(v+1),1)]),_:2},1024),i.content_type?(c(),h(e(j),{key:0,class:b(i.content_type==="video"?"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-300":"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-300")},{default:r(()=>[(c(),h(fe(i.content_type==="video"?e(Z):e(P)),{class:"h-3 w-3 mr-1"})),a(" "+p(i.content_type),1)]),_:2},1032,["class"])):_("",!0)]),s(e(y),{type:"button",variant:"ghost",size:"sm",onClick:C=>re(n,v),class:"text-destructive hover:text-destructive"},{default:r(()=>[s(e(Y),{class:"h-4 w-4"})]),_:2},1032,["onClick"])])]),_:2},1024),s(e(U),{class:"space-y-4"},{default:r(()=>{var C;return[o("div",ht,[o("div",xt,[s(e(g),null,{default:r(()=>t[35]||(t[35]=[a("Content Type *")])),_:1}),V(o("select",{"onUpdate:modelValue":f=>i.content_type=f,required:"",class:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",onChange:f=>de(n,v)},t[36]||(t[36]=[o("option",{value:""},"Select type",-1),o("option",{value:"video"},"Video",-1),o("option",{value:"pdf"},"PDF Document",-1)]),40,kt),[[B,i.content_type]])]),o("div",Ct,[s(e(g),null,{default:r(()=>t[37]||(t[37]=[a("Content Title *")])),_:1}),s(e(w),{modelValue:i.title,"onUpdate:modelValue":f=>i.title=f,type:"text",required:"",placeholder:"Enter content title"},null,8,["modelValue","onUpdate:modelValue"])])]),i.content_type==="video"?(c(),m("div",wt,[o("div",Vt,[s(e(g),null,{default:r(()=>t[38]||(t[38]=[a("Select Video *")])),_:1}),V(o("select",{"onUpdate:modelValue":f=>i.video_id=f,required:"",class:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"},[t[39]||(t[39]=o("option",{value:""},"Choose a video",-1)),(c(!0),m(q,null,z(u.availableVideos,f=>(c(),m("option",{key:f.id,value:f.id},p(f.name)+" ("+p(f.formatted_duration)+") ",9,Ut))),128))],8,$t),[[B,i.video_id]])]),i.video_id&&k(i.video_id)?(c(),m("div",Dt,[o("div",Mt,[(C=k(i.video_id))!=null&&C.thumbnail_url?(c(),m("img",{key:0,src:k(i.video_id).thumbnail_url,alt:k(i.video_id).name,class:"w-16 h-12 object-cover rounded"},null,8,At)):_("",!0),o("div",Ft,[o("p",qt,p(k(i.video_id).name),1),o("div",St,[s(e(Ce),{class:"h-3 w-3"}),a(" "+p(k(i.video_id).formatted_duration),1)])])])])):_("",!0)])):_("",!0),i.content_type==="pdf"?(c(),m("div",Pt,[o("div",Bt,[s(e(g),null,{default:r(()=>t[40]||(t[40]=[a("PDF Source *")])),_:1}),o("div",zt,[o("label",jt,[V(o("input",{"onUpdate:modelValue":f=>i.pdf_source_type=f,type:"radio",value:"upload",class:"text-primary"},null,8,Nt),[[Q,i.pdf_source_type]]),t[41]||(t[41]=o("span",{class:"text-sm"},"Upload File",-1))]),o("label",Tt,[V(o("input",{"onUpdate:modelValue":f=>i.pdf_source_type=f,type:"radio",value:"google_drive",class:"text-primary"},null,8,Et),[[Q,i.pdf_source_type]]),t[42]||(t[42]=o("span",{class:"text-sm"},"Google Drive URL",-1))])]),i.pdf_source_type==="upload"?(c(),m("div",Rt,[o("input",{type:"file",accept:".pdf",onChange:f=>ae(f,n,v),class:"block w-full text-sm text-muted-foreground file:mr-4 file:py-2 file:px-4 file:rounded-md file:border-0 file:text-sm file:font-medium file:bg-primary/10 file:text-primary hover:file:bg-primary/20"},null,40,Gt)])):_("",!0),i.pdf_source_type==="google_drive"?(c(),m("div",Lt,[s(e(w),{modelValue:i.google_drive_pdf_url,"onUpdate:modelValue":f=>i.google_drive_pdf_url=f,type:"url",placeholder:"https://drive.google.com/..."},null,8,["modelValue","onUpdate:modelValue"])])):_("",!0)]),i.pdf_file||i.google_drive_pdf_url?(c(),m("div",Ot,[o("div",Jt,[s(e(P),{class:"h-8 w-8 text-purple-600"}),o("div",Xt,[o("p",Ht,p(i.pdf_file?i.pdf_file.name:"Google Drive PDF"),1),t[43]||(t[43]=o("p",{class:"text-xs text-muted-foreground"},"PDF Document",-1))])])])):_("",!0)])):_("",!0),o("div",Kt,[o("div",Qt,[s(e(A),{checked:i.is_required,"onUpdate:checked":f=>i.is_required=f},null,8,["checked","onUpdate:checked"]),s(e(g),{class:"text-sm"},{default:r(()=>t[44]||(t[44]=[a("Required content")])),_:1})]),o("div",Wt,[s(e(A),{checked:i.is_active,"onUpdate:checked":f=>i.is_active=f},null,8,["checked","onUpdate:checked"]),s(e(g),{class:"text-sm"},{default:r(()=>t[45]||(t[45]=[a("Active content")])),_:1})])])]}),_:2},1024)]),_:2},1024))),128))]))])]),_:2},1024)]),_:2},1024))),128))]))]),_:1})]),_:1}),s(e(ye),null,{default:r(()=>[s(e(we),{class:"h-4 w-4"}),s(e(be),null,{default:r(()=>t[46]||(t[46]=[o("strong",null,"Important:",-1),a(" Make sure your videos are accessible and PDFs are properly formatted. Students will access content sequentially based on module order. ")])),_:1})]),_:1}),o("div",Yt,[s(e(y),{asChild:"",variant:"outline"},{default:r(()=>[s(e(K),{href:"/admin/course-online"},{default:r(()=>t[47]||(t[47]=[a(" Cancel ")])),_:1})]),_:1}),o("div",Zt,[e(l).modules.length>0?(c(),m("div",It,p(e(l).modules.length)+" modules â€¢ "+p(R.value)+" content items ",1)):_("",!0),s(e(y),{type:"submit",disabled:e(l).processing||!se.value,class:"min-w-48"},{default:r(()=>[s(e(Ve),{class:"h-4 w-4 mr-2"}),a(" "+p(e(l).processing?"Creating Course...":"Create Complete Course"),1)]),_:1},8,["disabled"])])])],32)])]),_:1})],64))}});export{Ps as default};
