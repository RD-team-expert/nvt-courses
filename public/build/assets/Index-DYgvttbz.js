import{d as K,z as Q,r as $,W as R,l as Y,g as i,o,w as t,e as n,b as a,u as e,a as _,h as p,f as u,F as C,i as V,t as d,k as z,P as j}from"./app-qyR_4PaG.js";import{l as Z}from"./lodash-DFQXnU9Q.js";import{_ as ee}from"./AdminLayout.vue_vue_type_script_setup_true_lang-BsuuGtwv.js";import{_ as g}from"./Button.vue_vue_type_script_setup_true_lang-WQG4_ODG.js";import{_ as E}from"./Card.vue_vue_type_script_setup_true_lang-DCW1kvPW.js";import{_ as N}from"./CardContent.vue_vue_type_script_setup_true_lang-Cy0buwPh.js";import{_ as te}from"./CardDescription.vue_vue_type_script_setup_true_lang-BDL0RiR7.js";import{_ as ae}from"./CardHeader.vue_vue_type_script_setup_true_lang-DTTBOQkp.js";import{_ as se}from"./CardTitle.vue_vue_type_script_setup_true_lang-DTeyXCHQ.js";import{_ as le,a as re,b as T,c as b,d as ue,e as k}from"./TableHeader.vue_vue_type_script_setup_true_lang-QvEIgjMd.js";import{_ as y}from"./index-DsHbXnWs.js";import{c as oe,e as ne}from"./AppLayout.vue_vue_type_script_setup_true_lang-BjapVI3_.js";import{_ as de}from"./Input.vue_vue_type_script_setup_true_lang-CA-A0nlz.js";import{_ as A,a as D,b as U,c as B,d as h}from"./SelectValue.vue_vue_type_script_setup_true_lang-CrU8Ar02.js";import{S as ie}from"./search-D7Xp8_j4.js";import{X as P}from"./_plugin-vue_export-helper-DOuQ-aXb.js";import{M as w,W as fe}from"./wrench-CpZtQIDT.js";import{E as I}from"./eye-BlUZLmie.js";import{C as L}from"./clock-CUFXXBSH.js";import{C as me}from"./circle-x-b5szZwmO.js";import{C as ce}from"./circle-check-big-CZ_yvrhd.js";import{S as ve}from"./star-BtHbZpLN.js";import{L as pe}from"./lightbulb-D6xfG1ej.js";import"./index-B9A5LML7.js";import"./index-CNZhogEv.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-DwBPz4TN.js";import"./useForwardPropsEmits-JKGsgjKA.js";import"./Presence-BA6CjNEL.js";import"./ConfigProvider-DJUeWZMX.js";import"./useForwardExpose-4F12XXK-.js";import"./Teleport-fbcDf1I0.js";import"./handleAndDispatchCustomEvent-ChOKVcqp.js";import"./chevron-up-QHkvK2HP.js";import"./Collection-BXB5souu.js";import"./usePrimitiveElement-C0A689me.js";import"./check-CR6fk6hi.js";import"./useSize-dZVS2aw9.js";import"./ohash.D__AXeF1-DHF4M4F_.js";import"./nullish-CHIgUVhi.js";import"./VisuallyHidden-B4OiXPfV.js";const xe={class:"px-4 sm:px-0 space-y-6"},_e={class:"grid grid-cols-1 md:grid-cols-4 gap-4"},ge={class:"relative md:col-span-2"},be={key:0,class:"flex items-center gap-2 mt-4"},ke={class:"overflow-x-auto"},ye={class:"flex items-center space-x-3"},he={class:"font-medium text-foreground"},we={class:"text-xs text-muted-foreground"},Se={class:"font-medium text-foreground mb-1"},$e={class:"text-xs text-muted-foreground line-clamp-2"},Ce={class:"text-sm text-muted-foreground"},Ve={class:"flex justify-end space-x-2"},je={key:0,class:"text-center py-12"},Oe={class:"text-lg font-medium text-foreground mb-2"},Fe={class:"text-sm text-muted-foreground mb-6"},ze={key:0,class:"flex justify-between items-center pt-4 border-t"},Ee={class:"text-sm text-muted-foreground hidden sm:block"},Ne={key:0},Te={key:0},yt=K({__name:"Index",props:{feedback:Object,search:String,status:String,type:String,statusOptions:Object,typeOptions:Object},setup(r){const S=r;Q();const f=$(S.search||""),m=$(S.status||"all"),c=$(S.type||"all"),W=[{name:"Dashboard",href:route("dashboard")},{name:"Employee Feedback",href:route("admin.feedback.index")}],M=Z.debounce(()=>{R.get(route("admin.feedback.index"),{search:f.value||void 0,status:m.value!=="all"?m.value:void 0,type:c.value!=="all"?c.value:void 0},{preserveState:!0,preserveScroll:!0,replace:!0})},500);Y([f,m,c],()=>{M()});const O=()=>{f.value="",m.value="all",c.value="all"};function q(v){switch(v){case"pending":return L;case"under_review":return I;case"approved":return ce;case"rejected":return me;default:return L}}function X(v){switch(v){case"pending":return"secondary";case"under_review":return"default";case"approved":return"default";case"rejected":return"destructive";default:return"secondary"}}function G(v){switch(v){case"suggestion":return pe;case"improvement":return fe;case"feature_request":return ve;case"general":return w;default:return w}}const H=v=>v.split(" ").map(s=>s.charAt(0).toUpperCase()).join("").slice(0,2),J=v=>new Date(v).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return(v,s)=>(o(),i(ee,{breadcrumbs:W},{default:t(()=>[n("div",xe,[s[20]||(s[20]=n("div",{class:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4"},[n("div",null,[n("h1",{class:"text-xl sm:text-2xl font-bold text-foreground"},"Employee Feedback"),n("p",{class:"text-sm text-muted-foreground mt-1"},"Manage feedback and suggestions from employees")])],-1)),a(e(E),null,{default:t(()=>[a(e(N),{class:"pt-6"},{default:t(()=>[n("div",_e,[n("div",ge,[a(e(ie),{class:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),a(e(de),{modelValue:f.value,"onUpdate:modelValue":s[0]||(s[0]=l=>f.value=l),type:"text",placeholder:"Search feedback by title, description, or user...",class:"pl-10 pr-10"},null,8,["modelValue"]),f.value?(o(),i(e(g),{key:0,onClick:s[1]||(s[1]=l=>f.value=""),variant:"ghost",size:"sm",class:"absolute right-1 top-1/2 transform -translate-y-1/2 h-8 w-8 p-0"},{default:t(()=>[a(e(P),{class:"h-4 w-4"})]),_:1})):p("",!0)]),n("div",null,[a(e(A),{modelValue:m.value,"onUpdate:modelValue":s[2]||(s[2]=l=>m.value=l)},{default:t(()=>[a(e(D),null,{default:t(()=>[a(e(U),{placeholder:"All Status"})]),_:1}),a(e(B),null,{default:t(()=>[a(e(h),{value:"all"},{default:t(()=>s[4]||(s[4]=[u("All Status")])),_:1}),(o(!0),_(C,null,V(r.statusOptions,(l,x)=>(o(),i(e(h),{key:x,value:x},{default:t(()=>[u(d(l),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue"])]),n("div",null,[a(e(A),{modelValue:c.value,"onUpdate:modelValue":s[3]||(s[3]=l=>c.value=l)},{default:t(()=>[a(e(D),null,{default:t(()=>[a(e(U),{placeholder:"All Types"})]),_:1}),a(e(B),null,{default:t(()=>[a(e(h),{value:"all"},{default:t(()=>s[5]||(s[5]=[u("All Types")])),_:1}),(o(!0),_(C,null,V(r.typeOptions,(l,x)=>(o(),i(e(h),{key:x,value:x},{default:t(()=>[u(d(l),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue"])])]),f.value||m.value!=="all"||c.value!=="all"?(o(),_("div",be,[s[7]||(s[7]=n("span",{class:"text-sm text-muted-foreground"},"Active filters:",-1)),f.value?(o(),i(e(y),{key:0,variant:"secondary",class:"text-xs"},{default:t(()=>[u(' Search: "'+d(f.value)+'" ',1)]),_:1})):p("",!0),m.value!=="all"?(o(),i(e(y),{key:1,variant:"secondary",class:"text-xs"},{default:t(()=>[u(" Status: "+d(r.statusOptions[m.value]),1)]),_:1})):p("",!0),c.value!=="all"?(o(),i(e(y),{key:2,variant:"secondary",class:"text-xs"},{default:t(()=>[u(" Type: "+d(r.typeOptions[c.value]),1)]),_:1})):p("",!0),a(e(g),{onClick:O,variant:"ghost",size:"sm",class:"text-xs"},{default:t(()=>[a(e(P),{class:"h-3 w-3 mr-1"}),s[6]||(s[6]=u(" Clear all "))]),_:1})])):p("",!0)]),_:1})]),_:1}),a(e(E),null,{default:t(()=>[a(e(ae),null,{default:t(()=>[a(e(se),{class:"flex items-center"},{default:t(()=>[a(e(w),{class:"mr-2 h-5 w-5"}),s[8]||(s[8]=u(" Feedback Submissions "))]),_:1}),a(e(te),null,{default:t(()=>{var l,x,F;return[u(" Showing "+d(((x=(l=r.feedback)==null?void 0:l.data)==null?void 0:x.length)||0)+" feedback items "+d((F=r.feedback)!=null&&F.total?`of ${r.feedback.total} total`:""),1)]}),_:1})]),_:1}),a(e(N),null,{default:t(()=>[n("div",ke,[a(e(le),null,{default:t(()=>[a(e(re),null,{default:t(()=>[a(e(T),null,{default:t(()=>[a(e(b),null,{default:t(()=>s[9]||(s[9]=[u("Employee")])),_:1}),a(e(b),null,{default:t(()=>s[10]||(s[10]=[u("Feedback")])),_:1}),a(e(b),null,{default:t(()=>s[11]||(s[11]=[u("Type")])),_:1}),a(e(b),null,{default:t(()=>s[12]||(s[12]=[u("Status")])),_:1}),a(e(b),null,{default:t(()=>s[13]||(s[13]=[u("Date")])),_:1}),a(e(b),{class:"text-right"},{default:t(()=>s[14]||(s[14]=[u("Actions")])),_:1})]),_:1})]),_:1}),a(e(ue),null,{default:t(()=>[(o(!0),_(C,null,V(r.feedback.data,l=>(o(),i(e(T),{key:l.id,class:"hover:bg-muted/50"},{default:t(()=>[a(e(k),null,{default:t(()=>[n("div",ye,[a(e(oe),{class:"h-8 w-8"},{default:t(()=>[a(e(ne),{class:"bg-muted text-muted-foreground text-sm"},{default:t(()=>[u(d(H(l.user.name)),1)]),_:2},1024)]),_:2},1024),n("div",null,[n("div",he,d(l.user.name),1),n("div",we,d(l.user.email),1)])])]),_:2},1024),a(e(k),{class:"max-w-xs"},{default:t(()=>[n("div",Se,d(l.title),1),n("div",$e,d(l.description.substring(0,100))+d(l.description.length>100?"...":""),1)]),_:2},1024),a(e(k),null,{default:t(()=>[a(e(y),{variant:"outline",class:"flex items-center w-fit"},{default:t(()=>[(o(),i(z(G(l.type)),{class:"mr-1 h-3 w-3"})),u(" "+d(r.typeOptions[l.type]),1)]),_:2},1024)]),_:2},1024),a(e(k),null,{default:t(()=>[a(e(y),{variant:X(l.status),class:"flex items-center w-fit"},{default:t(()=>[(o(),i(z(q(l.status)),{class:"mr-1 h-3 w-3"})),u(" "+d(r.statusOptions[l.status]),1)]),_:2},1032,["variant"])]),_:2},1024),a(e(k),null,{default:t(()=>[n("div",Ce,d(J(l.created_at)),1)]),_:2},1024),a(e(k),{class:"text-right"},{default:t(()=>[n("div",Ve,[a(e(g),{as:e(j),href:`/admin/feedback/${l.id}`,variant:"ghost",size:"sm"},{default:t(()=>[a(e(I),{class:"h-4 w-4"})]),_:2},1032,["as","href"])])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1}),!r.feedback.data||r.feedback.data.length===0?(o(),_("div",je,[a(e(w),{class:"mx-auto h-12 w-12 text-muted-foreground mb-4"}),n("h3",Oe,d(f.value||m.value!=="all"||c.value!=="all"?"No feedback matches your filters":"No feedback yet"),1),n("p",Fe,d(f.value||m.value!=="all"||c.value!=="all"?"Try adjusting your search criteria":"Employee feedback will appear here once submitted"),1),f.value||m.value!=="all"||c.value!=="all"?(o(),i(e(g),{key:0,onClick:O,variant:"outline"},{default:t(()=>s[15]||(s[15]=[u(" Clear Filters ")])),_:1})):p("",!0)])):p("",!0)]),r.feedback.data&&r.feedback.data.length>0?(o(),_("div",ze,[r.feedback.prev_page_url?(o(),i(e(g),{key:0,as:e(j),href:r.feedback.prev_page_url,variant:"outline",size:"sm","preserve-scroll":""},{default:t(()=>s[16]||(s[16]=[u(" Previous ")])),_:1},8,["as","href"])):(o(),i(e(g),{key:1,variant:"outline",size:"sm",disabled:""},{default:t(()=>s[17]||(s[17]=[u(" Previous ")])),_:1})),n("div",Ee,[r.feedback.from&&r.feedback.to&&r.feedback.total?(o(),_("span",Ne,[u(" Showing "+d(r.feedback.from)+" to "+d(r.feedback.to)+" of "+d(r.feedback.total)+" items ",1),f.value||m.value!=="all"||c.value!=="all"?(o(),_("span",Te,"(filtered)")):p("",!0)])):p("",!0)]),r.feedback.next_page_url?(o(),i(e(g),{key:2,as:e(j),href:r.feedback.next_page_url,variant:"outline",size:"sm","preserve-scroll":""},{default:t(()=>s[18]||(s[18]=[u(" Next ")])),_:1},8,["as","href"])):(o(),i(e(g),{key:3,variant:"outline",size:"sm",disabled:""},{default:t(()=>s[19]||(s[19]=[u(" Next ")])),_:1}))])):p("",!0)]),_:1})]),_:1})])]),_:1}))}});export{yt as default};
