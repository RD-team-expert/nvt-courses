import{d as z,r as C,g as v,o as d,w as n,e as a,b as t,u as e,P as f,f as l,t as o,a as u,h,F as b,i as T,W as B}from"./app-CV2cPHwK.js";import{_ as D}from"./AdminLayout.vue_vue_type_script_setup_true_lang-BWp_mKAe.js";import{_}from"./Button.vue_vue_type_script_setup_true_lang-C5sOPNae.js";import{_ as p}from"./Card.vue_vue_type_script_setup_true_lang--D3KWfGq.js";import{_ as y}from"./CardContent.vue_vue_type_script_setup_true_lang-RDGa4TMZ.js";import{_ as $}from"./index-CjSyc0sf.js";import{U as P,c as E,e as L,q as U}from"./AppLayout.vue_vue_type_script_setup_true_lang-BSvNWHlH.js";import{_ as H,a as G,b as j,c,d as O,e as g}from"./TableHeader.vue_vue_type_script_setup_true_lang-BFB0bwl-.js";import{_ as q,a as F,b as W,c as I,d as Y,e as J,f as K,g as Q}from"./AlertDialogTitle.vue_vue_type_script_setup_true_lang-CSCF3343.js";import{P as M}from"./plus-Dt9LuUnN.js";import{G as X}from"./grid-3x3-Bp00X7UR.js";import{U as R}from"./_plugin-vue_export-helper-BqS9F3Z2.js";import{C as Z}from"./circle-check-big-ClKQO3IC.js";import{B as ee}from"./building-C52qJVWF.js";import{C as te}from"./crown-C4-_yDK8.js";import{E as se}from"./eye-CfdVgX_S.js";import{S as ae}from"./square-pen-bb2BkDNw.js";import{C as ne}from"./chevron-left-CnB4IqWJ.js";import"./index-3f0HzYe1.js";import"./index-DhfkKPqp.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-CWDFjwen.js";import"./clock-BeTrlB51.js";import"./useForwardPropsEmits-BDdvJDZW.js";import"./useForwardExpose-CFKb2kDd.js";import"./Presence-CDD0pFUW.js";import"./ConfigProvider-B93GNSGp.js";import"./Teleport-C72WAmXs.js";import"./handleAndDispatchCustomEvent-ChOKVcqp.js";const re={class:"px-4 sm:px-0 space-y-6"},le={class:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4"},oe={class:"flex flex-col sm:flex-row gap-2 w-full sm:w-auto"},ie={class:"grid grid-cols-1 md:grid-cols-4 gap-4"},de={class:"flex items-center"},me={class:"shrink-0"},ue={class:"w-8 h-8 bg-primary rounded-md flex items-center justify-center"},fe={class:"ml-5 w-0 flex-1"},_e={class:"text-lg font-medium text-foreground"},ce={class:"flex items-center"},ge={class:"shrink-0"},xe={class:"w-8 h-8 bg-green-500 rounded-md flex items-center justify-center"},ve={class:"ml-5 w-0 flex-1"},he={class:"text-lg font-medium text-foreground"},pe={class:"flex items-center"},we={class:"shrink-0"},ye={class:"w-8 h-8 bg-purple-500 rounded-md flex items-center justify-center"},be={class:"ml-5 w-0 flex-1"},$e={class:"text-lg font-medium text-foreground"},ke={class:"flex items-center"},Ce={class:"shrink-0"},Te={class:"w-8 h-8 bg-red-500 rounded-md flex items-center justify-center"},je={class:"ml-5 w-0 flex-1"},Me={class:"text-lg font-medium text-foreground"},Re={class:"overflow-x-auto"},Se={class:"flex items-center"},Ae={class:"ml-4"},Ne={class:"font-medium text-foreground"},Ve={class:"text-sm text-muted-foreground"},ze={class:"text-xs text-muted-foreground"},Be={key:0,class:"mt-1"},De={class:"text-sm text-foreground"},Pe={class:"text-sm text-muted-foreground"},Ee={key:0,class:"text-sm"},Le={class:"font-medium text-foreground"},Ue={class:"text-muted-foreground"},He={key:1,class:"text-sm text-muted-foreground"},Ge={class:"text-xs text-muted-foreground mt-1"},Oe={class:"flex items-center justify-end space-x-2"},qe={key:0,class:"border-t p-4"},Fe={class:"flex items-center justify-between"},We={class:"flex-1 flex justify-between sm:hidden"},Ie={class:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between"},Ye={class:"text-sm text-muted-foreground"},Je={class:"flex items-center space-x-2"},Ke=["innerHTML"],Qe={key:1,class:"text-center py-12"},Xe={class:"mt-6"},Ze={class:"font-semibold"},Mt=z({__name:"Index",props:{roles:Object,stats:Object},setup(i){const w=C(!1),x=C(null),S=()=>{x.value&&B.delete(route("admin.manager-roles.destroy",x.value.id),{preserveState:!0,onSuccess:()=>{w.value=!1,x.value=null},onError:m=>{console.error("Terminate failed:",m),w.value=!1,x.value=null}})},A=m=>({direct_manager:"default",project_manager:"secondary",department_head:"outline",senior_manager:"destructive",team_lead:"secondary"})[m]||"outline",N=m=>m?"default":"destructive",V=[{name:"Dashboard",href:route("dashboard")},{name:"Organizational Management",href:route("admin.manager-roles.index")},{name:"Manager Roles",href:route("admin.manager-roles.index")}];return(m,s)=>(d(),v(D,{breadcrumbs:V},{default:n(()=>[a("div",re,[a("div",le,[s[3]||(s[3]=a("div",null,[a("h1",{class:"text-xl sm:text-2xl font-bold text-foreground"},"Manager Role Assignments"),a("p",{class:"text-sm text-muted-foreground mt-1"},"Manage and overview all manager role assignments within the organization")],-1)),a("div",oe,[t(e(_),{as:e(f),href:m.route("admin.manager-roles.create"),class:"w-full sm:w-auto"},{default:n(()=>[t(e(M),{class:"mr-2 h-4 w-4"}),s[1]||(s[1]=l(" Assign New Role "))]),_:1},8,["as","href"]),t(e(_),{as:e(f),href:m.route("admin.manager-roles.matrix"),variant:"secondary",class:"w-full sm:w-auto"},{default:n(()=>[t(e(X),{class:"mr-2 h-4 w-4"}),s[2]||(s[2]=l(" Matrix View "))]),_:1},8,["as","href"])])]),a("div",ie,[t(e(p),null,{default:n(()=>[t(e(y),{class:"p-6"},{default:n(()=>[a("div",de,[a("div",me,[a("div",ue,[t(e(R),{class:"h-5 w-5 text-primary-foreground"})])]),a("div",fe,[s[4]||(s[4]=a("div",{class:"text-sm font-medium text-muted-foreground"},"Total Roles",-1)),a("div",_e,o(i.stats.total_roles||0),1)])])]),_:1})]),_:1}),t(e(p),null,{default:n(()=>[t(e(y),{class:"p-6"},{default:n(()=>[a("div",ce,[a("div",ge,[a("div",xe,[t(e(Z),{class:"h-5 w-5 text-white"})])]),a("div",ve,[s[5]||(s[5]=a("div",{class:"text-sm font-medium text-muted-foreground"},"Active Roles",-1)),a("div",he,o(i.stats.active_roles||0),1)])])]),_:1})]),_:1}),t(e(p),null,{default:n(()=>[t(e(y),{class:"p-6"},{default:n(()=>[a("div",pe,[a("div",we,[a("div",ye,[t(e(P),{class:"h-5 w-5 text-white"})])]),a("div",be,[s[6]||(s[6]=a("div",{class:"text-sm font-medium text-muted-foreground"},"Direct Managers",-1)),a("div",$e,o(i.stats.direct_managers||0),1)])])]),_:1})]),_:1}),t(e(p),null,{default:n(()=>[t(e(y),{class:"p-6"},{default:n(()=>[a("div",ke,[a("div",Ce,[a("div",Te,[t(e(ee),{class:"h-5 w-5 text-white"})])]),a("div",je,[s[7]||(s[7]=a("div",{class:"text-sm font-medium text-muted-foreground"},"Department Heads",-1)),a("div",Me,o(i.stats.department_heads||0),1)])])]),_:1})]),_:1})]),t(e(p),null,{default:n(()=>[a("div",Re,[t(e(H),null,{default:n(()=>[t(e(G),null,{default:n(()=>[t(e(j),null,{default:n(()=>[t(e(c),null,{default:n(()=>s[8]||(s[8]=[l("Manager")])),_:1}),t(e(c),null,{default:n(()=>s[9]||(s[9]=[l("Role Type")])),_:1}),t(e(c),null,{default:n(()=>s[10]||(s[10]=[l("Department")])),_:1}),t(e(c),null,{default:n(()=>s[11]||(s[11]=[l("Manages")])),_:1}),t(e(c),null,{default:n(()=>s[12]||(s[12]=[l("Status")])),_:1}),t(e(c),{class:"text-right"},{default:n(()=>s[13]||(s[13]=[l("Actions")])),_:1})]),_:1})]),_:1}),t(e(O),null,{default:n(()=>[(d(!0),u(b,null,T(i.roles.data,r=>(d(),v(e(j),{key:r.id},{default:n(()=>[t(e(g),null,{default:n(()=>[a("div",Se,[t(e(E),{class:"h-10 w-10"},{default:n(()=>[t(e(L),{class:"bg-muted"},{default:n(()=>[l(o(r.manager.name.charAt(0).toUpperCase()),1)]),_:2},1024)]),_:2},1024),a("div",Ae,[a("div",Ne,o(r.manager.name),1),a("div",Ve,o(r.manager.email),1),a("div",ze,o(r.manager.level),1)])])]),_:2},1024),t(e(g),null,{default:n(()=>[t(e($),{variant:A(r.role_type)},{default:n(()=>[l(o(r.role_display),1)]),_:2},1032,["variant"]),r.is_primary?(d(),u("div",Be,[t(e($),{variant:"secondary",class:"text-xs"},{default:n(()=>[t(e(te),{class:"mr-1 h-3 w-3"}),s[14]||(s[14]=l(" Primary "))]),_:1})])):h("",!0)]),_:2},1024),t(e(g),null,{default:n(()=>[a("div",De,o(r.department.name),1),a("div",Pe,o(r.department.code),1)]),_:2},1024),t(e(g),null,{default:n(()=>[r.managed_user?(d(),u("div",Ee,[a("div",Le,o(r.managed_user.name),1),a("div",Ue,o(r.managed_user.email),1)])):(d(),u("div",He," Department-wide role "))]),_:2},1024),t(e(g),null,{default:n(()=>[t(e($),{variant:N(r.is_active)},{default:n(()=>[l(o(r.is_active?"Active":"Expired"),1)]),_:2},1032,["variant"]),a("div",Ge," Started: "+o(r.start_date),1)]),_:2},1024),t(e(g),{class:"text-right"},{default:n(()=>[a("div",Oe,[t(e(_),{as:e(f),href:m.route("admin.manager-roles.show",r.id),variant:"ghost",size:"sm"},{default:n(()=>[t(e(se),{class:"h-4 w-4 mr-1"}),s[15]||(s[15]=l(" View "))]),_:2},1032,["as","href"]),t(e(_),{as:e(f),href:m.route("admin.manager-roles.edit",r.id),variant:"ghost",size:"sm"},{default:n(()=>[t(e(ae),{class:"h-4 w-4 mr-1"}),s[16]||(s[16]=l(" Edit "))]),_:2},1032,["as","href"])])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})]),i.roles.links&&i.roles.links.length>3?(d(),u("div",qe,[a("div",Fe,[a("div",We,[i.roles.prev_page_url?(d(),v(e(_),{key:0,as:e(f),href:i.roles.prev_page_url,variant:"outline",size:"sm"},{default:n(()=>[t(e(ne),{class:"h-4 w-4 mr-1"}),s[17]||(s[17]=l(" Previous "))]),_:1},8,["as","href"])):h("",!0),i.roles.next_page_url?(d(),v(e(_),{key:1,as:e(f),href:i.roles.next_page_url,variant:"outline",size:"sm"},{default:n(()=>[s[18]||(s[18]=l(" Next ")),t(e(U),{class:"h-4 w-4 ml-1"})]),_:1},8,["as","href"])):h("",!0)]),a("div",Ie,[a("div",null,[a("p",Ye," Showing "+o(i.roles.from)+" to "+o(i.roles.to)+" of "+o(i.roles.total)+" results ",1)]),a("div",Je,[(d(!0),u(b,null,T(i.roles.links,r=>(d(),u(b,{key:r.label},[r.url?(d(),v(e(_),{key:0,as:e(f),href:r.url,variant:r.active?"default":"outline",size:"sm",class:"min-w-[2.5rem]",innerHTML:r.label},null,8,["as","href","variant","innerHTML"])):(d(),u("span",{key:1,class:"px-3 py-2 text-sm text-muted-foreground",innerHTML:r.label},null,8,Ke))],64))),128))])])])])):h("",!0),!i.roles.data||i.roles.data.length===0?(d(),u("div",Qe,[t(e(R),{class:"mx-auto h-12 w-12 text-muted-foreground"}),s[20]||(s[20]=a("h3",{class:"mt-2 text-sm font-medium text-foreground"},"No manager roles found",-1)),s[21]||(s[21]=a("p",{class:"mt-1 text-sm text-muted-foreground"},"Get started by assigning manager roles to users.",-1)),a("div",Xe,[t(e(_),{as:e(f),href:m.route("admin.manager-roles.create")},{default:n(()=>[t(e(M),{class:"mr-2 h-4 w-4"}),s[19]||(s[19]=l(" Assign New Role "))]),_:1},8,["as","href"])])])):h("",!0)]),_:1})]),t(e(q),{open:w.value,"onUpdate:open":s[0]||(s[0]=r=>w.value=r)},{default:n(()=>[t(e(F),null,{default:n(()=>[t(e(W),null,{default:n(()=>[t(e(I),null,{default:n(()=>s[22]||(s[22]=[l("Terminate Manager Role")])),_:1}),t(e(Y),null,{default:n(()=>{var r,k;return[s[23]||(s[23]=l(" Are you sure you want to terminate the manager role for ")),a("span",Ze,o((k=(r=x.value)==null?void 0:r.manager)==null?void 0:k.name),1),s[24]||(s[24]=l("? This action cannot be undone and will permanently remove their management responsibilities. "))]}),_:1})]),_:1}),t(e(J),null,{default:n(()=>[t(e(K),null,{default:n(()=>s[25]||(s[25]=[l("Cancel")])),_:1}),t(e(Q),{onClick:S,class:"bg-destructive text-destructive-foreground hover:bg-destructive/90"},{default:n(()=>s[26]||(s[26]=[l(" Yes, Terminate Role ")])),_:1})]),_:1})]),_:1})]),_:1},8,["open"])]),_:1}))}});export{Mt as default};
