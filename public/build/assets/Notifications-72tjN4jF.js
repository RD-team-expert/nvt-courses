import{d as je,r as j,C as B,c as k,p as Fe,g as h,o as u,w as o,e as s,b as l,h as S,u as t,n as se,f as i,t as r,a as p,F,i as N,P as Ne,j as Le,W as D}from"./app-BZwAv8dq.js";import{_ as Ve}from"./AdminLayout.vue_vue_type_script_setup_true_lang-CIPSDiT2.js";import{_ as w}from"./Button.vue_vue_type_script_setup_true_lang-4lZsQt59.js";import{_ as M}from"./Input.vue_vue_type_script_setup_true_lang-CJqAZfWw.js";import{_ as Ue}from"./Textarea.vue_vue_type_script_setup_true_lang-CfZYghAK.js";import{_ as g}from"./Label.vue_vue_type_script_setup_true_lang-CNakpKD7.js";import{_ as L}from"./Card.vue_vue_type_script_setup_true_lang-BJm6kBy6.js";import{_ as U}from"./CardContent.vue_vue_type_script_setup_true_lang-BXRzdPtq.js";import{_ as I}from"./CardHeader.vue_vue_type_script_setup_true_lang-Ct0wYraa.js";import{_ as O}from"./CardTitle.vue_vue_type_script_setup_true_lang-CO_-dAUi.js";import{_ as le,a as oe,b as ae,c as ne,d as R}from"./SelectValue.vue_vue_type_script_setup_true_lang-CCKCgIxu.js";import{_ as P}from"./Checkbox.vue_vue_type_script_setup_true_lang-CEqXgJAC.js";import{_ as q}from"./index-DTMJWPeP.js";import{_ as ie,a as re,b as de,c as ue}from"./DialogTitle.vue_vue_type_script_setup_true_lang-C82ryZTu.js";import{_ as me}from"./DialogDescription.vue_vue_type_script_setup_true_lang-Bljb1kJE.js";import{_ as fe}from"./DialogFooter.vue_vue_type_script_setup_true_lang-DrrqPzuT.js";import{_ as Pe,b as Ae}from"./AppLayout.vue_vue_type_script_setup_true_lang-D01E0yaI.js";import{_ as De,a as Me}from"./index-Bxju8Pi5.js";import{F as Re}from"./filter-_AlNjVS6.js";import{E as qe}from"./eye-BVQEPTEp.js";import{U as Te}from"./_plugin-vue_export-helper-UZz0T33w.js";import{M as ze}from"./mail-kMvg0G4z.js";import{S as Be}from"./send-CGuIROO2.js";import"./index-sueaCbYz.js";import"./index-CGOr_o6A.js";import"./useForwardPropsEmits-Cc5ARJG3.js";import"./Presence-KheNhFRk.js";import"./ConfigProvider-B5IQFxSX.js";import"./useForwardExpose-BdPZxDO_.js";import"./Teleport-CYVcTiu8.js";import"./handleAndDispatchCustomEvent-ChOKVcqp.js";import"./chevron-up-BAKKKvXB.js";import"./Collection-BAD8QVcp.js";import"./usePrimitiveElement-2VB3_hwL.js";import"./check-BUtWZy8S.js";import"./useSize-x2EYAV0x.js";import"./ohash.D__AXeF1-DHF4M4F_.js";import"./nullish-CHIgUVhi.js";import"./VisuallyHidden-CYo-gsOw.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-DTTiC0zJ.js";import"./clock-DidiESwg.js";const Ie={class:"mx-auto max-w-7xl py-8 px-4 sm:px-6 lg:px-8 space-y-8"},Oe={class:"flex items-center justify-between"},We={class:"flex space-x-3"},Ge={class:"flex items-center justify-between"},He={class:"flex space-x-2"},Je={class:"grid grid-cols-1 md:grid-cols-5 gap-4"},Ke={class:"space-y-2"},Qe={class:"space-y-2"},Xe={class:"space-y-2"},Ye={class:"space-y-2"},Ze={class:"space-y-2"},et={class:"mt-4 flex justify-end"},tt={key:0},st={key:1},lt={class:"flex items-center justify-between"},ot={class:"flex items-center space-x-4"},at={class:"text-sm text-muted-foreground"},nt={class:"flex items-center space-x-2"},it={class:"flex space-x-4"},rt={class:"flex items-center space-x-2"},dt={class:"flex items-center space-x-2"},ut={class:"flex items-center space-x-2"},mt={class:"flex space-x-3"},ft={class:"flex items-center justify-between"},ct={class:"text-sm text-muted-foreground"},vt={class:"mt-2 text-sm text-muted-foreground"},pt={key:0,class:"mt-4"},_t={key:1},gt={class:"px-6 py-3 bg-muted border-b"},xt={class:"flex items-center space-x-3"},yt={class:"divide-y"},ht={class:"flex items-start space-x-4"},bt={class:"flex-1"},wt={class:"flex items-center justify-between"},kt={class:"text-lg font-semibold text-foreground"},St={class:"text-sm text-muted-foreground"},$t={class:"mt-3 grid grid-cols-1 sm:grid-cols-3 gap-4 text-sm"},Ct={class:"text-muted-foreground ml-1"},Et={class:"text-muted-foreground ml-1"},jt={key:0},Ft={class:"text-muted-foreground ml-1"},Nt={class:"flex items-center justify-between"},Lt={class:"text-sm font-medium text-foreground"},Vt={class:"flex items-center space-x-3"},Ut={class:"text-right"},Pt={class:"text-lg font-bold text-foreground"},At={class:"text-right"},Dt={class:"text-lg font-bold text-green-600"},Mt={class:"flex items-center justify-between"},Rt={class:"divide-y"},qt={class:"flex items-center justify-between"},Tt={class:"text-sm font-medium text-foreground"},zt={class:"text-sm text-muted-foreground"},Bt={class:"text-xs text-muted-foreground"},It={class:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm"},Ot={class:"ml-1"},Wt={class:"ml-1"},Gt={class:"ml-1"},Ht={class:"ml-1"},Jt={class:"space-y-4 max-h-96 overflow-y-auto"},Kt={key:0},Qt={class:"font-medium text-foreground mb-2"},Xt={class:"grid grid-cols-1 md:grid-cols-2 gap-3"},Yt={class:"font-medium text-foreground"},Zt={class:"text-sm text-muted-foreground"},es={class:"text-xs text-muted-foreground"},ts={class:"space-y-4 py-4"},ss={class:"space-y-2"},ls={class:"space-y-2"},Ws=je({__name:"Notifications",props:{employees:{},departments:{},courses:{},filters:{},recentNotifications:{},preview:{},showPreview:{type:Boolean}},setup(ce){var Q,X,Y,Z,ee;const f=ce,m=j([]),A=j(!1),$=j(!1),C=j(!1),_=j(["L2"]),b=j(!0),d=B({department_id:((Q=f.filters)==null?void 0:Q.department_id)||null,course_id:((X=f.filters)==null?void 0:X.course_id)||null,start_date:((Y=f.filters)==null?void 0:Y.start_date)||"",end_date:((Z=f.filters)==null?void 0:Z.end_date)||"",search:((ee=f.filters)==null?void 0:ee.search)||"",performance_level:""}),E=B({employee_ids:[],target_manager_levels:[],email_subject:""}),x=B({employee_ids:[],target_manager_levels:[],email_subject:"",custom_message:""}),y=k(()=>f.employees||[]),ve=k(()=>f.departments||[]),pe=k(()=>f.courses||[]),W=k(()=>f.recentNotifications||[]),V=k(()=>d.department_id||d.course_id||d.start_date||d.end_date||d.search),G=k(()=>y.value.length>0&&m.value.length===y.value.length),_e=k(()=>m.value.length>0&&m.value.length<y.value.length),H=k(()=>m.value.length>0&&_.value.length>0),ge=k(()=>[d.department_id,d.course_id,d.start_date,d.end_date,d.search].filter(Boolean).length);f.showPreview&&f.preview&&($.value=!0);function xe(){G.value?m.value=[]:m.value=y.value.map(n=>n.id)}function ye(){if(!b.value)return;console.log("Starting filter application..."),console.log("Current filter form data:",d.data);const n={department_id:d.department_id||null,course_id:d.course_id||null,start_date:d.start_date||"",end_date:d.end_date||"",search:d.search||"",performance_level:d.performance_level||""},e={};for(const[a,v]of Object.entries(n))v!==null&&v!==""&&v!==void 0&&(e[a]=v);console.log("Cleaned filter data:",e),D.get(route("admin.evaluations.notifications"),e,{preserveState:!0,preserveScroll:!0,onStart:()=>{console.log("Filter request started")},onSuccess:()=>{console.log("Filter request successful")},onError:a=>{console.error("Filter errors:",a)},onFinish:()=>{console.log("Filter request finished")}})}function J(){b.value&&(d.reset(),D.get(route("admin.evaluations.notifications")))}function he(){if(!H.value||!b.value){console.log("Cannot preview - missing requirements"),console.log("Selected employees:",m.value),console.log("Target levels:",_.value);return}console.log("Starting preview notification..."),console.log("Selected employees:",m.value),console.log("Target levels:",_.value),E.employee_ids=m.value,E.target_manager_levels=_.value,E.email_subject=T(),console.log("Form data:",E.data),console.log("Route URL:",route("admin.evaluations.notifications.preview")),E.post(route("admin.evaluations.notifications.preview"),{preserveState:!0,onStart:()=>{console.log("Request started")},onSuccess:n=>{console.log("Request successful"),console.log("Page props:",n.props),console.log("Preview prop:",n.props.preview),console.log("ShowPreview prop:",n.props.showPreview),n.props.preview&&($.value=!0,console.log("Modal should be visible now"))},onError:n=>{console.error("Preview errors:",n)},onFinish:()=>{console.log("Request finished")}})}function be(){!f.preview||!b.value||(x.employee_ids=m.value,x.target_manager_levels=_.value,x.email_subject=x.email_subject||T(),x.post(route("admin.evaluations.notifications.send"),{preserveState:!1,onSuccess:()=>{console.log("✅ Notifications sent successfully"),C.value=!1,$.value=!1,m.value=[],_.value=["L2"],D.get(route("admin.evaluations.notifications"),{},{preserveState:!1,preserveScroll:!1,replace:!0,onSuccess:()=>{console.log("✅ Successfully redirected to notifications page")},onError:n=>{console.error("❌ Error redirecting:",n)}})},onError:n=>{console.error("❌ Error sending notifications:",n)}}))}function T(){if(m.value.length===0)return"Evaluation Report";const n=y.value.filter(v=>m.value.includes(v.id)),e=[...new Set(n.map(v=>v.department))];return`Evaluation Report - ${e.length===1?e[0]:`${e.length} Departments`} (${m.value.length} Employees)`}function K(n){return n>=20?{label:"Exceptional",variant:"default"}:n>=15?{label:"Excellent",variant:"secondary"}:n>=10?{label:"Good",variant:"outline"}:n>=5?{label:"Average",variant:"secondary"}:{label:"Needs Improvement",variant:"destructive"}}function we(n){const e=parseFloat((n==null?void 0:n.toString())||"0");return isNaN(e)?"$0.00":`$${e.toFixed(2)}`}function ke(){b.value&&(console.log("Closing preview modal..."),$.value=!1,C.value=!1,D.get(route("admin.evaluations.notifications"),{},{preserveState:!1,preserveScroll:!0,replace:!0,onSuccess:()=>{console.log("Successfully navigated back to notifications page")},onError:n=>{console.error("Error navigating back:",n)}}))}const Se=n=>{b.value&&(d.department_id=n==="none"?null:parseInt(n))},$e=n=>{b.value&&(d.course_id=n==="none"?null:parseInt(n))},z=(n,e)=>{b.value&&(e?_.value.includes(n)||_.value.push(n):_.value=_.value.filter(a=>a!==n))},Ce=(n,e)=>{b.value&&(e?m.value.includes(n)||m.value.push(n):m.value=m.value.filter(a=>a!==n))},Ee=[{name:"Dashboard",href:route("dashboard")},{name:"Evaluations",href:route("admin.evaluations.index")},{name:"Notifications",href:null}];return Fe(()=>{b.value=!1}),(n,e)=>(u(),h(Ve,{breadcrumbs:Ee},{default:o(()=>[s("div",Ie,[s("div",null,[s("div",Oe,[e[15]||(e[15]=s("div",null,[s("h1",{class:"text-3xl font-bold text-foreground"},"Evaluation Notifications"),s("p",{class:"mt-2 text-sm text-muted-foreground"}," Send evaluation reports to department managers ")],-1)),s("div",We,[l(t(w),{onClick:e[0]||(e[0]=a=>A.value=!A.value),variant:"outline",class:se(["relative",V.value?"border-primary text-primary":""])},{default:o(()=>[l(t(Re),{class:"mr-2 h-4 w-4"}),e[14]||(e[14]=i(" Filters ")),V.value?(u(),h(t(q),{key:0,variant:"secondary",class:"ml-2"},{default:o(()=>[i(r(ge.value),1)]),_:1})):S("",!0)]),_:1},8,["class"])])])]),l(t(Pe),{open:A.value,"onUpdate:open":e[4]||(e[4]=a=>A.value=a)},{default:o(()=>[l(t(Ae),null,{default:o(()=>[l(t(L),null,{default:o(()=>[l(t(I),null,{default:o(()=>[s("div",Ge,[l(t(O),null,{default:o(()=>e[16]||(e[16]=[i("Filter L1 Employees")])),_:1}),s("div",He,[V.value?(u(),h(t(w),{key:0,onClick:J,variant:"outline",size:"sm"},{default:o(()=>e[17]||(e[17]=[i(" Clear All ")])),_:1})):S("",!0)])])]),_:1}),l(t(U),null,{default:o(()=>{var a,v;return[s("div",Je,[s("div",Ke,[l(t(g),null,{default:o(()=>e[18]||(e[18]=[i("Department")])),_:1}),l(t(le),{"model-value":((a=t(d).department_id)==null?void 0:a.toString())||"none","onUpdate:modelValue":Se},{default:o(()=>[l(t(oe),null,{default:o(()=>[l(t(ae),{placeholder:"All Departments"})]),_:1}),l(t(ne),null,{default:o(()=>[l(t(R),{value:"none"},{default:o(()=>e[19]||(e[19]=[i("All Departments")])),_:1}),(u(!0),p(F,null,N(ve.value,c=>(u(),h(t(R),{key:c.id,value:c.id.toString()},{default:o(()=>[i(r(c.name),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["model-value"])]),s("div",Qe,[l(t(g),null,{default:o(()=>e[20]||(e[20]=[i("Course")])),_:1}),l(t(le),{"model-value":((v=t(d).course_id)==null?void 0:v.toString())||"none","onUpdate:modelValue":$e},{default:o(()=>[l(t(oe),null,{default:o(()=>[l(t(ae),{placeholder:"All Courses"})]),_:1}),l(t(ne),null,{default:o(()=>[l(t(R),{value:"none"},{default:o(()=>e[21]||(e[21]=[i("All Courses")])),_:1}),(u(!0),p(F,null,N(pe.value,c=>(u(),h(t(R),{key:c.id,value:c.id.toString()},{default:o(()=>[i(r(c.name),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["model-value"])]),s("div",Xe,[l(t(g),null,{default:o(()=>e[22]||(e[22]=[i("Start Date")])),_:1}),l(t(M),{type:"date",modelValue:t(d).start_date,"onUpdate:modelValue":e[1]||(e[1]=c=>t(d).start_date=c)},null,8,["modelValue"])]),s("div",Ye,[l(t(g),null,{default:o(()=>e[23]||(e[23]=[i("End Date")])),_:1}),l(t(M),{type:"date",modelValue:t(d).end_date,"onUpdate:modelValue":e[2]||(e[2]=c=>t(d).end_date=c)},null,8,["modelValue"])]),s("div",Ze,[l(t(g),null,{default:o(()=>e[24]||(e[24]=[i("Search Employee")])),_:1}),l(t(M),{type:"text",modelValue:t(d).search,"onUpdate:modelValue":e[3]||(e[3]=c=>t(d).search=c),placeholder:"Search by name or email"},null,8,["modelValue"])])]),s("div",et,[l(t(w),{onClick:ye,disabled:t(d).processing},{default:o(()=>[t(d).processing?(u(),p("span",tt,"Applying...")):(u(),p("span",st,"Apply Filters"))]),_:1},8,["disabled"])])]}),_:1})]),_:1})]),_:1})]),_:1},8,["open"]),y.value.length>0?(u(),h(t(L),{key:0},{default:o(()=>[l(t(U),{class:"p-6"},{default:o(()=>[s("div",lt,[s("div",ot,[s("div",null,[s("p",at,r(m.value.length)+" of "+r(y.value.length)+" employees selected ",1)]),s("div",nt,[l(t(g),{class:"text-sm font-medium"},{default:o(()=>e[25]||(e[25]=[i("Send to:")])),_:1}),s("div",it,[s("div",rt,[l(t(P),{id:"l2",checked:_.value.includes("L2"),"onUpdate:checked":e[5]||(e[5]=a=>z("L2",a))},null,8,["checked"]),l(t(g),{for:"l2",class:"text-sm"},{default:o(()=>e[26]||(e[26]=[i("L2 Managers")])),_:1})]),s("div",dt,[l(t(P),{id:"l3",checked:_.value.includes("L3"),"onUpdate:checked":e[6]||(e[6]=a=>z("L3",a))},null,8,["checked"]),l(t(g),{for:"l3",class:"text-sm"},{default:o(()=>e[27]||(e[27]=[i("L3 Managers")])),_:1})]),s("div",ut,[l(t(P),{id:"l4",checked:_.value.includes("L4"),"onUpdate:checked":e[7]||(e[7]=a=>z("L4",a))},null,8,["checked"]),l(t(g),{for:"l4",class:"text-sm"},{default:o(()=>e[28]||(e[28]=[i("L4 Managers")])),_:1})])])])]),s("div",mt,[l(t(w),{onClick:he,disabled:!H.value||t(E).processing,variant:"outline"},{default:o(()=>[l(t(qe),{class:"mr-2 h-4 w-4"}),e[29]||(e[29]=i(" Preview Notification "))]),_:1},8,["disabled"])])])]),_:1})]),_:1})):S("",!0),l(t(L),null,{default:o(()=>[l(t(I),null,{default:o(()=>[s("div",ft,[l(t(O),null,{default:o(()=>e[30]||(e[30]=[i("L1 Employees with Evaluations")])),_:1}),s("div",ct,r(y.value.length)+" employees found ",1)])]),_:1}),y.value.length===0?(u(),h(t(U),{key:0,class:"p-8 text-center"},{default:o(()=>[l(t(Te),{class:"mx-auto h-12 w-12 text-muted-foreground"}),e[32]||(e[32]=s("h3",{class:"mt-4 text-lg font-medium text-foreground"},"No L1 Employees Found",-1)),s("p",vt,r(V.value?"No employees match your filter criteria.":"There are no L1 employees with evaluations."),1),V.value?(u(),p("div",pt,[l(t(w),{onClick:J},{default:o(()=>e[31]||(e[31]=[i(" Clear Filters ")])),_:1})])):S("",!0)]),_:1})):(u(),p("div",_t,[s("div",gt,[s("div",xt,[l(t(P),{id:"select-all",checked:G.value,indeterminate:_e.value,"onUpdate:checked":xe},null,8,["checked","indeterminate"]),l(t(g),{for:"select-all",class:"text-sm font-medium"},{default:o(()=>[i(" Select All ("+r(y.value.length)+") ",1)]),_:1})])]),s("div",yt,[(u(!0),p(F,null,N(y.value,a=>(u(),p("div",{key:a.id,class:se(["p-6 hover:bg-muted/50 transition-colors duration-200",{"bg-primary/5":m.value.includes(a.id)}])},[s("div",ht,[l(t(P),{id:`emp-${a.id}`,checked:m.value.includes(a.id),"onUpdate:checked":v=>Ce(a.id,v),class:"mt-1"},null,8,["id","checked","onUpdate:checked"]),s("div",bt,[s("div",wt,[s("div",null,[s("h4",kt,r(a.name),1),s("p",St,r(a.email),1)]),s("div",null,[l(t(q),{variant:"outline"},{default:o(()=>[i(r(a.level),1)]),_:2},1024)])]),s("div",$t,[s("div",null,[e[33]||(e[33]=s("span",{class:"font-medium text-foreground"},"Department:",-1)),s("span",Ct,r(a.department),1)]),s("div",null,[e[34]||(e[34]=s("span",{class:"font-medium text-foreground"},"Evaluations:",-1)),s("span",Et,r(a.evaluation_count),1)]),a.latest_evaluation?(u(),p("div",jt,[e[35]||(e[35]=s("span",{class:"font-medium text-foreground"},"Latest:",-1)),s("span",Ft,r(a.latest_evaluation.created_at),1)])):S("",!0)]),a.latest_evaluation?(u(),h(t(L),{key:0,class:"mt-3"},{default:o(()=>[l(t(U),{class:"p-3"},{default:o(()=>[s("div",Nt,[s("div",null,[s("p",Lt,r(a.latest_evaluation.course_name),1),e[36]||(e[36]=s("p",{class:"text-xs text-muted-foreground"},"Latest evaluation",-1))]),s("div",Vt,[s("div",Ut,[s("div",Pt,r(a.latest_evaluation.total_score),1),e[37]||(e[37]=s("div",{class:"text-xs text-muted-foreground"},"Score",-1))]),s("div",At,[s("div",Dt,r(we(a.latest_evaluation.incentive_amount)),1),e[38]||(e[38]=s("div",{class:"text-xs text-muted-foreground"},"Incentive",-1))]),l(t(q),{variant:K(a.latest_evaluation.total_score).variant},{default:o(()=>[i(r(K(a.latest_evaluation.total_score).label),1)]),_:2},1032,["variant"])])])]),_:2},1024)]),_:2},1024)):S("",!0)])])],2))),128))])]))]),_:1}),W.value.length>0?(u(),h(t(L),{key:1},{default:o(()=>[l(t(I),null,{default:o(()=>[s("div",Mt,[l(t(O),null,{default:o(()=>e[39]||(e[39]=[i("Recent Notifications")])),_:1}),l(t(w),{as:t(Ne),href:n.route("admin.evaluations.notifications.history"),variant:"link",size:"sm"},{default:o(()=>e[40]||(e[40]=[i(" View All → ")])),_:1},8,["as","href"])])]),_:1}),l(t(U),null,{default:o(()=>[s("div",Rt,[(u(!0),p(F,null,N(W.value,a=>(u(),p("div",{key:a.id,class:"py-4 first:pt-0 last:pb-0 hover:bg-muted/50 -mx-6 px-6 rounded-lg transition-colors duration-200"},[s("div",qt,[s("div",null,[s("p",Tt,r(a.name),1),s("p",zt,r(a.department_name)+" • "+r(a.employee_count)+" employees • "+r(a.managers_notified)+" managers ("+r(a.target_manager_level)+") ",1),s("p",Bt," Sent by "+r(a.sent_by)+" on "+r(a.sent_at),1)]),l(t(q),{variant:a.status==="sent"?"default":"secondary"},{default:o(()=>[i(r(a.status_label),1)]),_:2},1032,["variant"])])]))),128))])]),_:1})]),_:1})):S("",!0)]),l(t(ie),{open:$.value,"onUpdate:open":e[9]||(e[9]=a=>$.value=a)},{default:o(()=>[f.preview?(u(),h(t(re),{key:0,class:"sm:max-w-4xl z-[100]"},{default:o(()=>[l(t(de),null,{default:o(()=>[l(t(ue),null,{default:o(()=>e[41]||(e[41]=[i("Preview Notification")])),_:1}),l(t(me),null,{default:o(()=>e[42]||(e[42]=[i(" Review the notification details before sending ")])),_:1})]),_:1}),l(t(De),null,{default:o(()=>[l(t(ze),{class:"h-4 w-4"}),l(t(Me),null,{default:o(()=>[s("div",It,[s("div",null,[e[43]||(e[43]=s("span",{class:"font-medium"},"Employees:",-1)),s("span",Ot,r(f.preview.summary.total_employees),1)]),s("div",null,[e[44]||(e[44]=s("span",{class:"font-medium"},"Managers:",-1)),s("span",Wt,r(f.preview.summary.total_managers),1)]),s("div",null,[e[45]||(e[45]=s("span",{class:"font-medium"},"Departments:",-1)),s("span",Gt,r(f.preview.summary.departments.join(", ")),1)]),s("div",null,[e[46]||(e[46]=s("span",{class:"font-medium"},"Levels:",-1)),s("span",Ht,r(f.preview.summary.target_levels.join(", ")),1)])])]),_:1})]),_:1}),s("div",Jt,[(u(!0),p(F,null,N(f.preview.managers,(a,v)=>(u(),p("div",{key:v},[a.length>0?(u(),p("div",Kt,[s("h4",Qt,r(v)+" Managers ("+r(a.length)+")",1),s("div",Xt,[(u(!0),p(F,null,N(a,c=>(u(),h(t(L),{key:c.id,class:"p-3"},{default:o(()=>{var te;return[s("div",null,[s("p",Yt,r(c.name),1),s("p",Zt,r(c.email),1),s("p",es,r((te=c.departments)==null?void 0:te.join(", ")),1)])]}),_:2},1024))),128))])])):S("",!0)]))),128))]),l(t(fe),null,{default:o(()=>[l(t(w),{onClick:ke,variant:"outline"},{default:o(()=>e[47]||(e[47]=[i(" Cancel ")])),_:1}),l(t(w),{onClick:e[8]||(e[8]=a=>C.value=!0)},{default:o(()=>[l(t(Be),{class:"mr-2 h-4 w-4"}),e[48]||(e[48]=i(" Send Notifications "))]),_:1})]),_:1})]),_:1})):S("",!0)]),_:1},8,["open"]),l(t(ie),{open:C.value,"onUpdate:open":e[13]||(e[13]=a=>C.value=a)},{default:o(()=>[l(t(re),{class:"sm:max-w-lg z-[110]"},{default:o(()=>[s("form",{onSubmit:Le(be,["prevent"])},[l(t(de),null,{default:o(()=>[l(t(ue),null,{default:o(()=>e[49]||(e[49]=[i("Send Notifications")])),_:1}),l(t(me),null,{default:o(()=>e[50]||(e[50]=[i(" Customize the notification before sending ")])),_:1})]),_:1}),s("div",ts,[s("div",ss,[l(t(g),{for:"email-subject"},{default:o(()=>e[51]||(e[51]=[i("Email Subject")])),_:1}),l(t(M),{id:"email-subject",modelValue:t(x).email_subject,"onUpdate:modelValue":e[10]||(e[10]=a=>t(x).email_subject=a),placeholder:T(),required:""},null,8,["modelValue","placeholder"])]),s("div",ls,[l(t(g),{for:"custom-message"},{default:o(()=>e[52]||(e[52]=[i("Custom Message (Optional)")])),_:1}),l(t(Ue),{id:"custom-message",modelValue:t(x).custom_message,"onUpdate:modelValue":e[11]||(e[11]=a=>t(x).custom_message=a),rows:"3",placeholder:"Add any additional message for the managers..."},null,8,["modelValue"])])]),l(t(fe),null,{default:o(()=>[l(t(w),{onClick:e[12]||(e[12]=a=>C.value=!1),type:"button",variant:"outline"},{default:o(()=>e[53]||(e[53]=[i(" Cancel ")])),_:1}),l(t(w),{type:"submit",disabled:t(x).processing,class:"bg-destructive text-destructive-foreground hover:bg-destructive/90"},{default:o(()=>[i(r(t(x).processing?"Sending...":"Send Now"),1)]),_:1},8,["disabled"])]),_:1})],32)]),_:1})]),_:1},8,["open"])]),_:1}))}});export{Ws as default};
