import{d as q,C as B,r as F,g as p,o as d,w as a,e as o,j as A,b as t,h as u,u as e,f as n,a as m,F as L,i as w,n as k,t as c,P as O}from"./app-qyR_4PaG.js";import{_ as Q}from"./AdminLayout.vue_vue_type_script_setup_true_lang-BsuuGtwv.js";import{_ as C}from"./Button.vue_vue_type_script_setup_true_lang-WQG4_ODG.js";import{_ as P}from"./Input.vue_vue_type_script_setup_true_lang-CA-A0nlz.js";import{_}from"./Label.vue_vue_type_script_setup_true_lang-BasK-Gp2.js";import{_ as X}from"./Textarea.vue_vue_type_script_setup_true_lang-C8f3Ii0b.js";import{_ as f}from"./Card.vue_vue_type_script_setup_true_lang-DCW1kvPW.js";import{_ as x}from"./CardContent.vue_vue_type_script_setup_true_lang-Cy0buwPh.js";import{_ as h}from"./CardDescription.vue_vue_type_script_setup_true_lang-BDL0RiR7.js";import{_ as b}from"./CardHeader.vue_vue_type_script_setup_true_lang-DTTBOQkp.js";import{_ as y}from"./CardTitle.vue_vue_type_script_setup_true_lang-DTeyXCHQ.js";import{_ as G,a as I,b as J,c as K,d as g}from"./SelectValue.vue_vue_type_script_setup_true_lang-CrU8Ar02.js";import{_ as R}from"./Checkbox.vue_vue_type_script_setup_true_lang-9BBd9aNs.js";import{_ as S}from"./index-DsHbXnWs.js";import{L as W}from"./lightbulb-D6xfG1ej.js";import{S as Y}from"./AppLayout.vue_vue_type_script_setup_true_lang-BjapVI3_.js";import{U as Z,X as ee}from"./_plugin-vue_export-helper-DOuQ-aXb.js";import{E as se}from"./eye-BlUZLmie.js";import{L as re}from"./loader-circle-i4SPMKip.js";import{S as te}from"./save-cRg9g5jY.js";import"./index-B9A5LML7.js";import"./index-CNZhogEv.js";import"./useForwardPropsEmits-JKGsgjKA.js";import"./Presence-BA6CjNEL.js";import"./ConfigProvider-DJUeWZMX.js";import"./useForwardExpose-4F12XXK-.js";import"./Teleport-fbcDf1I0.js";import"./handleAndDispatchCustomEvent-ChOKVcqp.js";import"./chevron-up-QHkvK2HP.js";import"./Collection-BXB5souu.js";import"./usePrimitiveElement-C0A689me.js";import"./check-CR6fk6hi.js";import"./useSize-dZVS2aw9.js";import"./ohash.D__AXeF1-DHF4M4F_.js";import"./nullish-CHIgUVhi.js";import"./VisuallyHidden-B4OiXPfV.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-DwBPz4TN.js";import"./clock-CUFXXBSH.js";const ae={class:"px-4 sm:px-0 space-y-6"},oe={class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4"},le={class:"flex items-center space-x-3"},ie={class:"flex-1"},ne={class:"font-medium text-sm"},de={class:"text-xs text-muted-foreground"},ce={class:"text-xs text-muted-foreground mt-1"},me={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},ue={class:"space-y-2"},pe={key:0,class:"text-sm text-destructive"},ge={class:"space-y-2"},ve={key:0,class:"text-sm text-destructive"},_e={class:"space-y-2 md:col-span-2"},fe={key:0,class:"text-sm text-destructive"},xe={class:"space-y-2 md:col-span-2"},he={key:0,class:"text-sm text-destructive"},be={key:0,class:"block text-orange-600 font-medium mt-1"},ye={class:"space-y-4"},Le={key:0,class:"p-4 bg-orange-50 border border-orange-200 rounded-lg"},we={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"},ke={class:"font-medium"},Me={class:"text-xs text-muted-foreground"},$e={key:1,class:"text-sm text-destructive"},Ce={class:"flex items-center space-x-4"},Pe={class:"text-sm font-bold"},Se={class:"flex-1"},De={class:"text-lg font-semibold text-foreground"},Ve={class:"text-sm text-muted-foreground"},je={key:0,class:"text-sm text-muted-foreground mt-1"},Ee={key:1,class:"flex flex-wrap gap-1 mt-2"},Ne={key:2,class:"mt-2"},Ue={class:"flex flex-col sm:flex-row gap-3"},He={key:2},ze={key:3},Ls=q({__name:"Create",props:{existingLevels:Array},setup(D){const V=D,s=B({code:"",name:"",hierarchy_level:"",description:"",can_manage_levels:[]}),M=F(V.existingLevels||[]);function j(){s.post("/admin/user-levels",{onSuccess:()=>{},onError:i=>{console.error("Validation errors:",i)}})}const E=()=>{const i=s.hierarchy_level;i==="0"?(s.code="L2PM",s.name="Project Manager",s.description="Project coordinators with no direct management authority",s.can_manage_levels=[]):i==="1"?(s.code="L1",s.name="Employee",s.description="Front-line employees with no direct reports",s.can_manage_levels=[]):i==="2"?(s.code="L2",s.name="Direct Manager",s.description="Team managers with direct reports",s.can_manage_levels=["L1"]):i==="3"?(s.code="L3",s.name="Senior Manager",s.description="Department heads and senior managers",s.can_manage_levels=["L1","L2"]):i==="4"?(s.code="L4",s.name="Director",s.description="Executive level with multiple department oversight",s.can_manage_levels=["L1","L2","L3"]):i==="5"&&(s.code="L5",s.name="Executive",s.description="C-level executives and senior leadership",s.can_manage_levels=["L1","L2","L3","L4"])},N=i=>{s.hierarchy_level=i,E()},U=i=>{s.hierarchy_level=i.level,s.code=i.code,s.name=i.name,s.description=i.description,s.can_manage_levels=i.can_manage_levels||[]},H=i=>{const r=s.can_manage_levels.indexOf(i);r>-1?s.can_manage_levels.splice(r,1):s.can_manage_levels.push(i)},v=i=>{switch(i==null?void 0:i.toString()){case"0":return{bg:"bg-purple-100",text:"text-purple-600",border:"border-purple-200"};case"1":return{bg:"bg-blue-100",text:"text-blue-600",border:"border-blue-200"};case"2":return{bg:"bg-green-100",text:"text-green-600",border:"border-green-200"};case"3":return{bg:"bg-orange-100",text:"text-orange-600",border:"border-orange-200"};case"4":return{bg:"bg-red-100",text:"text-red-600",border:"border-red-200"};case"5":return{bg:"bg-indigo-100",text:"text-indigo-600",border:"border-indigo-200"};default:return{bg:"bg-gray-100",text:"text-gray-600",border:"border-gray-200"}}},z=[{level:"0",code:"L2PM",name:"Project Manager",description:"Project coordinators with no direct management authority",can_manage_levels:[]},{level:"1",code:"L1",name:"Employee",description:"Front-line employees with no direct reports",can_manage_levels:[]},{level:"2",code:"L2",name:"Direct Manager",description:"Team managers with direct reports",can_manage_levels:["L1"]},{level:"3",code:"L3",name:"Senior Manager",description:"Department heads and senior managers",can_manage_levels:["L1","L2"]},{level:"4",code:"L4",name:"Director",description:"Executive level with multiple department oversight",can_manage_levels:["L1","L2","L3"]},{level:"5",code:"L5",name:"Executive",description:"C-level executives and senior leadership",can_manage_levels:["L1","L2","L3","L4"]}],T=[{name:"Dashboard",href:route("dashboard")},{name:"User Levels",href:route("admin.user-levels.index")},{name:"Create Level",href:route("admin.user-levels.create")}];return(i,r)=>(d(),p(Q,{breadcrumbs:T},{default:a(()=>[o("div",ae,[r[27]||(r[27]=o("div",null,[o("h1",{class:"text-xl sm:text-2xl font-bold text-foreground"},"Create New User Level"),o("p",{class:"text-sm text-muted-foreground mt-1"},"Define a new organizational hierarchy level with management permissions and responsibilities")],-1)),o("form",{onSubmit:A(j,["prevent"]),class:"max-w-4xl space-y-6"},[t(e(f),null,{default:a(()=>[t(e(b),null,{default:a(()=>[t(e(y),{class:"flex items-center"},{default:a(()=>[t(e(W),{class:"mr-2 h-5 w-5"}),r[3]||(r[3]=n(" Quick Setup Templates "))]),_:1}),t(e(h),null,{default:a(()=>r[4]||(r[4]=[n("Click on a template to quickly configure common organizational levels")])),_:1})]),_:1}),t(e(x),null,{default:a(()=>[o("div",oe,[(d(),m(L,null,w(z,l=>t(e(f),{key:`${l.level}-${l.code}`,class:k(["cursor-pointer transition-all duration-200 hover:shadow-md hover:scale-105 border-2 hover:border-primary/50",{"border-primary bg-primary/5":e(s).code===l.code}]),onClick:$=>U(l)},{default:a(()=>[t(e(x),{class:"p-4"},{default:a(()=>[o("div",le,[o("div",{class:k(["h-12 w-12 rounded-full flex items-center justify-center text-xs font-bold",[v(l.level).bg,v(l.level).text]])},c(l.code),3),o("div",ie,[o("div",ne,c(l.name),1),o("div",de,c(l.level==="0"?"No Management Level":`Level ${l.level}`),1),o("div",ce,c(l.description),1)])])]),_:2},1024)]),_:2},1032,["class","onClick"])),64))])]),_:1})]),_:1}),t(e(f),null,{default:a(()=>[t(e(b),null,{default:a(()=>[t(e(y),{class:"flex items-center"},{default:a(()=>[t(e(Y),{class:"mr-2 h-5 w-5"}),r[5]||(r[5]=n(" Level Configuration "))]),_:1}),t(e(h),null,{default:a(()=>r[6]||(r[6]=[n("Define the basic properties and hierarchy position of this user level")])),_:1})]),_:1}),t(e(x),null,{default:a(()=>[o("div",me,[o("div",ue,[t(e(_),{for:"hierarchy_level"},{default:a(()=>r[7]||(r[7]=[n("Hierarchy Level")])),_:1}),t(e(G),{"model-value":e(s).hierarchy_level,"onUpdate:modelValue":N},{default:a(()=>[t(e(I),{id:"hierarchy_level",disabled:e(s).processing},{default:a(()=>[t(e(J),{placeholder:"Select Level"})]),_:1},8,["disabled"]),t(e(K),null,{default:a(()=>[t(e(g),{value:"0"},{default:a(()=>r[8]||(r[8]=[n("Level 0 (Project Manager - No Management Authority)")])),_:1}),t(e(g),{value:"1"},{default:a(()=>r[9]||(r[9]=[n("Level 1 (Employees)")])),_:1}),t(e(g),{value:"2"},{default:a(()=>r[10]||(r[10]=[n("Level 2 (Direct Managers)")])),_:1}),t(e(g),{value:"3"},{default:a(()=>r[11]||(r[11]=[n("Level 3 (Senior Managers)")])),_:1}),t(e(g),{value:"4"},{default:a(()=>r[12]||(r[12]=[n("Level 4 (Directors)")])),_:1}),t(e(g),{value:"5"},{default:a(()=>r[13]||(r[13]=[n("Level 5 (Executives)")])),_:1})]),_:1})]),_:1},8,["model-value"]),r[14]||(r[14]=o("p",{class:"text-xs text-muted-foreground"},[n(" Level 0 = No management authority (Project Managers)"),o("br"),n(" Higher numbers = Higher authority levels ")],-1)),e(s).errors.hierarchy_level?(d(),m("div",pe,c(e(s).errors.hierarchy_level),1)):u("",!0)]),o("div",ge,[t(e(_),{for:"code"},{default:a(()=>r[15]||(r[15]=[n("Level Code")])),_:1}),t(e(P),{id:"code",modelValue:e(s).code,"onUpdate:modelValue":r[0]||(r[0]=l=>e(s).code=l),disabled:e(s).processing,maxlength:"10",placeholder:"e.g., L1, L2, L2PM",required:""},null,8,["modelValue","disabled"]),r[16]||(r[16]=o("p",{class:"text-xs text-muted-foreground"}," Short identifier (e.g., L2PM for Project Manager, L2 for Direct Manager) ",-1)),e(s).errors.code?(d(),m("div",ve,c(e(s).errors.code),1)):u("",!0)]),o("div",_e,[t(e(_),{for:"name"},{default:a(()=>r[17]||(r[17]=[n("Level Name")])),_:1}),t(e(P),{id:"name",modelValue:e(s).name,"onUpdate:modelValue":r[1]||(r[1]=l=>e(s).name=l),disabled:e(s).processing,placeholder:"e.g., Employee, Direct Manager, Project Manager",required:""},null,8,["modelValue","disabled"]),e(s).errors.name?(d(),m("div",fe,c(e(s).errors.name),1)):u("",!0)]),o("div",xe,[t(e(_),{for:"description"},{default:a(()=>r[18]||(r[18]=[n("Description")])),_:1}),t(e(X),{id:"description",modelValue:e(s).description,"onUpdate:modelValue":r[2]||(r[2]=l=>e(s).description=l),disabled:e(s).processing,placeholder:"Describe the responsibilities and scope of this level",rows:"3"},null,8,["modelValue","disabled"]),e(s).errors.description?(d(),m("div",he,c(e(s).errors.description),1)):u("",!0)])])]),_:1})]),_:1}),M.value.length>0?(d(),p(e(f),{key:0},{default:a(()=>[t(e(b),null,{default:a(()=>[t(e(y),{class:"flex items-center"},{default:a(()=>[t(e(Z),{class:"mr-2 h-5 w-5"}),r[19]||(r[19]=n(" Management Permissions "))]),_:1}),t(e(h),null,{default:a(()=>[r[20]||(r[20]=n(" Select which levels this level can manage and oversee ")),e(s).hierarchy_level==="0"?(d(),m("span",be," ⚠️ Level 0 typically has no management authority ")):u("",!0)]),_:1})]),_:1}),t(e(x),null,{default:a(()=>[o("div",ye,[e(s).hierarchy_level==="0"?(d(),m("div",Le,r[21]||(r[21]=[o("div",{class:"flex items-start space-x-3"},[o("div",{class:"text-orange-500 mt-0.5"},[o("svg",{class:"h-5 w-5",fill:"currentColor",viewBox:"0 0 20 20"},[o("path",{"fill-rule":"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z","clip-rule":"evenodd"})])]),o("div",null,[o("h4",{class:"text-orange-800 font-semibold"},"Project Manager Level"),o("p",{class:"text-orange-700 text-sm mt-1"}," Level 0 is typically used for Project Managers who coordinate projects but don't have direct management authority over people. Leave management permissions empty unless this role requires specific oversight. ")])],-1)]))):u("",!0),o("div",we,[(d(!0),m(L,null,w(M.value,l=>(d(),m("div",{key:l.code,class:"flex items-center space-x-3 p-3 border rounded-lg hover:bg-muted/50 transition-colors"},[t(e(R),{id:`manage_${l.code}`,checked:e(s).can_manage_levels.includes(l.code),"onUpdate:checked":$=>$?e(s).can_manage_levels.push(l.code):H(l.code),disabled:e(s).processing},null,8,["id","checked","onUpdate:checked","disabled"]),t(e(_),{for:`manage_${l.code}`,class:"flex-1 cursor-pointer"},{default:a(()=>[o("div",ke,c(l.code)+" - "+c(l.name),1),o("div",Me,"Level "+c(l.hierarchy_level),1)]),_:2},1032,["for"])]))),128))]),r[22]||(r[22]=o("p",{class:"text-xs text-muted-foreground"},"Leave empty if this level cannot manage other users",-1)),e(s).errors.can_manage_levels?(d(),m("div",$e,c(e(s).errors.can_manage_levels),1)):u("",!0)])]),_:1})]),_:1})):u("",!0),e(s).code?(d(),p(e(f),{key:1,class:"border-primary/20 bg-primary/5"},{default:a(()=>[t(e(b),null,{default:a(()=>[t(e(y),{class:"flex items-center"},{default:a(()=>[t(e(se),{class:"mr-2 h-5 w-5"}),r[23]||(r[23]=n(" Preview "))]),_:1}),t(e(h),null,{default:a(()=>r[24]||(r[24]=[n("How this level will appear in the system")])),_:1})]),_:1}),t(e(x),null,{default:a(()=>[o("div",Ce,[o("div",{class:k(["shrink-0 h-16 w-16 rounded-full flex items-center justify-center border-2",[v(e(s).hierarchy_level).bg,v(e(s).hierarchy_level).text,v(e(s).hierarchy_level).border]])},[o("span",Pe,c(e(s).code),1)],2),o("div",Se,[o("div",De,c(e(s).name||"Level Name"),1),o("div",Ve,c(e(s).hierarchy_level==="0"?"No Management Level":`Hierarchy Level ${e(s).hierarchy_level||"?"}`),1),e(s).description?(d(),m("div",je,c(e(s).description),1)):u("",!0),e(s).can_manage_levels.length>0?(d(),m("div",Ee,[(d(!0),m(L,null,w(e(s).can_manage_levels,l=>(d(),p(e(S),{key:l,variant:"secondary",class:"text-xs"},{default:a(()=>[n(" Can manage: "+c(l),1)]),_:2},1024))),128))])):e(s).hierarchy_level==="0"?(d(),m("div",Ne,[t(e(S),{variant:"outline",class:"text-xs text-orange-600 border-orange-300"},{default:a(()=>r[25]||(r[25]=[n(" No Management Authority ")])),_:1})])):u("",!0)])])]),_:1})]),_:1})):u("",!0),o("div",Ue,[t(e(C),{type:"submit",disabled:e(s).processing,class:"w-full sm:w-auto"},{default:a(()=>[e(s).processing?(d(),p(e(re),{key:0,class:"mr-2 h-4 w-4 animate-spin"})):(d(),p(e(te),{key:1,class:"mr-2 h-4 w-4"})),e(s).processing?(d(),m("span",He,"Creating Level...")):(d(),m("span",ze,"Create User Level"))]),_:1},8,["disabled"]),t(e(C),{as:e(O),href:i.route("admin.user-levels.index"),variant:"outline",disabled:e(s).processing,class:"w-full sm:w-auto"},{default:a(()=>[t(e(ee),{class:"mr-2 h-4 w-4"}),r[26]||(r[26]=n(" Cancel "))]),_:1},8,["as","href","disabled"])])],32)])]),_:1}))}});export{Ls as default};
