import{d as Se,c as C,r as A,a as u,o,b as t,u as e,m as Te,w as a,e as n,h as m,f as r,n as T,P as g,t as i,g as c,F,i as z,W as j}from"./app-C__QVaju.js";import{U as Ve,c as Y,d as J,e as K,g as X,h as Z,i as ee,k as p,m as B,l as te,f as Me}from"./AppLayout.vue_vue_type_script_setup_true_lang-B2Dge6gk.js";import{_ as v}from"./Button.vue_vue_type_script_setup_true_lang-3wUGolNO.js";import{_ as N}from"./Card.vue_vue_type_script_setup_true_lang-C6NTCksb.js";import{_ as se}from"./CardContent.vue_vue_type_script_setup_true_lang-CVVI4jBC.js";import{_ as Fe}from"./CardDescription.vue_vue_type_script_setup_true_lang-uH9K1n7e.js";import{_ as le}from"./CardHeader.vue_vue_type_script_setup_true_lang-EmAvtNmd.js";import{_ as ae}from"./CardTitle.vue_vue_type_script_setup_true_lang-D-QOz8Vl.js";import{_ as S}from"./index-C7BOh4kc.js";import{_ as je}from"./Input.vue_vue_type_script_setup_true_lang-aF8VS1eW.js";import{_ as ne,a as de,b as re,c as oe,d as $}from"./SelectValue.vue_vue_type_script_setup_true_lang-CwE9uTNb.js";import{_ as Ee,a as Le,b as ie,c as x,d as ze,e as b}from"./TableHeader.vue_vue_type_script_setup_true_lang-B2DjVf0H.js";import{_ as ue}from"./Progress.vue_vue_type_script_setup_true_lang-CwXvIQJJ.js";import{_ as Be,a as Ne,b as me,c as fe}from"./TabsTrigger.vue_vue_type_script_setup_true_lang-Bh-GuKeX.js";import{_ as Oe,a as Pe,b as Ue,c as Ie,d as Re,e as qe,f as We,g as Ge}from"./AlertDialogTitle.vue_vue_type_script_setup_true_lang-CIijhgGk.js";import{R as _e}from"./refresh-cw-CDPCyfYX.js";import{P as ge}from"./plus-xX-cp11Z.js";import{A as O}from"./alarm-clock-yyUeRQNI.js";import{C as P}from"./calendar-days-B1yYVGao.js";import{F as He}from"./filter-nNpkY0n7.js";import{S as Qe}from"./search-BrCDs1yw.js";import{B as U}from"./book-open-CY1Y2rYO.js";import{E as ce}from"./ellipsis-CGfbCrxx.js";import{E as I}from"./eye-CSRW_tpw.js";import{S as ve}from"./square-pen-C5MDid9K.js";import{T as R}from"./trash-2-Cox1oXJh.js";import{C as q}from"./calendar-CGmzp4gQ.js";import{T as pe}from"./timer-8ctsUCwb.js";import{C as xe}from"./circle-check-big-Bfe2MAlp.js";import{C as Ye}from"./clock-8P7QZ8ho.js";import{T as Je}from"./triangle-alert-C11pQW2R.js";import"./index-Eaggz7Xa.js";import"./index-DU9IJCLr.js";import"./_plugin-vue_export-helper-DTeMU56P.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-B2uDP-vU.js";import"./useForwardPropsEmits-BEVKN6n0.js";import"./Presence-BKN0Rp2q.js";import"./ConfigProvider-CTQWQfDl.js";import"./useForwardExpose-BLcFDH4t.js";import"./Teleport-C5XQXQh9.js";import"./handleAndDispatchCustomEvent-ChOKVcqp.js";import"./chevron-up-jLbl18n9.js";import"./Collection-t8rO_nU0.js";import"./usePrimitiveElement-kCWVBnpO.js";import"./check-CTP6ugNR.js";import"./useSize-B7neWAfJ.js";import"./ohash.D__AXeF1-DHF4M4F_.js";import"./nullish-CHIgUVhi.js";import"./VisuallyHidden-cBIp1Q_A.js";import"./RovingFocusItem-DCmYZ5aO.js";const Ke={class:"flex h-full flex-1 flex-col gap-4 overflow-x-auto rounded-xl p-4"},Xe={class:"flex items-center justify-between"},Ze={class:"flex items-center gap-2"},et={key:0,class:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4 mb-4"},tt={class:"flex items-center justify-between"},st={class:"flex items-center"},lt={class:"text-sm text-red-600 dark:text-red-300"},at={class:"flex items-center gap-4"},nt={class:"flex-1 relative"},dt={class:"w-40"},rt={class:"w-40"},ot={class:"flex items-center justify-between"},it={key:0,class:"flex flex-col items-center justify-center p-12 border-2 border-dashed border-input rounded-lg"},ut={class:"text-muted-foreground mb-4"},mt={key:1,class:"grid gap-6 md:grid-cols-2 lg:grid-cols-3"},ft={class:"flex items-start justify-between"},_t={class:"flex items-center gap-3"},gt={class:"flex-1"},ct={class:"flex items-center gap-2 flex-wrap"},vt={class:"grid grid-cols-3 gap-4 text-center"},pt={class:"text-lg font-bold"},xt={class:"text-lg font-bold"},bt={class:"text-lg font-bold"},kt={class:"flex items-center justify-between text-sm mb-2"},ht={class:"flex items-center gap-2"},yt={key:0,class:"text-sm mb-2 text-muted-foreground"},wt={key:1,class:"space-y-1"},Ct={key:0,class:"flex items-center gap-2 p-2 rounded-md bg-red-100/70 border border-red-200 dark:bg-red-900/30 dark:border-red-700"},$t={class:"text-xs text-red-700 dark:text-red-300 font-medium"},Dt={key:1,class:"flex items-center gap-2 p-2 rounded-md bg-orange-100/70 border border-orange-200 dark:bg-orange-900/30 dark:border-orange-700"},At={class:"text-xs text-orange-700 dark:text-orange-300 font-medium"},St={key:2,class:"flex items-center gap-2 p-2 rounded-md bg-green-100/70 border border-green-200 dark:bg-green-900/30 dark:border-green-700"},Tt={key:2,class:"text-xs text-muted-foreground p-2 rounded-md bg-muted/30 border border-muted-foreground/20"},Vt={key:1,class:"mt-4 p-3 rounded-lg bg-gray-50 border border-gray-200 dark:bg-muted/20 dark:border-muted-foreground/20"},Mt={class:"flex items-center gap-2 text-sm text-gray-600 dark:text-muted-foreground"},Ft={class:"space-y-2"},jt={class:"flex justify-between text-sm"},Et={class:"flex items-center justify-between text-sm text-muted-foreground"},Lt={class:"flex items-center gap-1"},zt={class:"flex gap-2 pt-2"},Bt={class:"flex items-center gap-3"},Nt={class:"font-medium"},Ot={class:"text-sm text-muted-foreground"},Pt={class:"flex items-center gap-2"},Ut={class:"text-sm"},It={class:"space-y-1"},Rt={key:0},qt={class:"flex items-center gap-1 text-xs"},Wt={class:"text-blue-700 dark:text-blue-300 font-medium"},Gt={class:"text-xs px-1.5 py-0.5 rounded-full text-muted-foreground bg-muted/40 border border-muted-foreground/20"},Ht={key:0,class:"space-y-1"},Qt={key:0,class:"flex items-center gap-1"},Yt={class:"text-xs text-red-700 dark:text-red-300 font-medium"},Jt={key:1,class:"flex items-center gap-1"},Kt={class:"text-xs text-orange-700 dark:text-orange-300 font-medium"},Xt={key:2,class:"flex items-center gap-1"},Zt={key:1,class:"flex items-center gap-1"},es={key:1,class:"flex items-center justify-center space-x-2"},ts={key:0},ss={key:0,class:"mt-4 p-3 bg-red-50 rounded-lg border border-red-200"},ls={class:"text-sm text-red-700 space-y-1"},as={key:1,class:"mt-4 p-3 bg-orange-50 rounded-lg border border-orange-200"},tl=Se({__name:"Index",props:{courses:{}},setup(be){const k=be,ke=[{title:"Online Courses",href:"#"}];C(()=>k.courses.data.reduce((d,s)=>d+(s.upcoming_deadlines_count||0),0));const E=C(()=>k.courses.data.reduce((d,s)=>d+(s.overdue_assignments_count||0),0));C(()=>k.courses.data.filter(d=>d.has_active_deadlines).length);const h=A(""),y=A("all"),w=A("all"),V=A(!1),D=A(!1),f=A(null);C(()=>k.courses.data.filter(d=>d.is_active).length),C(()=>k.courses.data.reduce((d,s)=>d+(s.assignments_count||0),0)),C(()=>{const d=k.courses.data.map(l=>l.completion_rate||0),s=d.reduce((l,_)=>l+_,0);return d.length?Math.round(s/d.length):0});const L=C(()=>{let d=k.courses.data;if(h.value){const s=h.value.toLowerCase();d=d.filter(l=>{var _;return l.name.toLowerCase().includes(s)||((_=l.description)==null?void 0:_.toLowerCase().includes(s))})}if(y.value!=="all"){const s=y.value==="active";d=d.filter(l=>l.is_active===s)}return w.value!=="all"&&(d=d.filter(s=>s.difficulty_level===w.value)),d}),W=(d,s)=>d?d.length>s?d.substring(0,s)+"...":d:"",G=d=>{try{return new Date(d).toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}catch{return"Invalid date"}},he=()=>{j.get("/admin/course-assignments/deadlines")},H=d=>{switch(d){case"beginner":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300";case"intermediate":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-300";case"advanced":return"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-300"}},ye=d=>new Date(d).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),we=d=>{if(d<60)return`${d}m`;const s=Math.floor(d/60),l=d%60;return l>0?`${s}h ${l}m`:`${s}h`},Ce=async()=>{V.value=!0;try{j.reload()}finally{setTimeout(()=>{V.value=!1},1e3)}},Q=d=>{f.value=d},$e=async()=>{if(f.value){D.value=!0;try{j.delete(route("admin.course-online.destroy",f.value.id),{onSuccess:()=>{f.value=null},onError:d=>{console.error("Delete failed:",d)},onFinish:()=>{D.value=!1}})}catch(d){console.error("Delete error:",d),D.value=!1}}},M=d=>d.assignments_count===0,De=d=>d.assignments_count>0?`This course has ${d.assignments_count} enrolled students. You cannot delete it while students are enrolled.`:`Are you sure you want to delete "${d.name}"? This action cannot be undone and will permanently remove all course content, modules, and related data.`,Ae=()=>{h.value="",y.value="all",w.value="all"};return(d,s)=>(o(),u(F,null,[t(e(Te),{title:"Online Courses Management"}),t(Me,{breadcrumbs:ke},{default:a(()=>[n("div",Ke,[n("div",Xe,[s[7]||(s[7]=n("div",null,[n("h1",{class:"text-3xl font-bold tracking-tight"},"Online Courses"),n("p",{class:"text-muted-foreground"},"Manage your online courses and track student progress")],-1)),n("div",Ze,[t(e(v),{variant:"outline",size:"sm",onClick:Ce,disabled:V.value},{default:a(()=>[t(e(_e),{class:T(["mr-2 h-4 w-4",{"animate-spin":V.value}])},null,8,["class"]),s[4]||(s[4]=r(" Refresh "))]),_:1},8,["disabled"]),t(e(v),{asChild:"",variant:"outline"},{default:a(()=>[t(e(g),{href:"/admin/course-assignments"},{default:a(()=>[t(e(Ve),{class:"mr-3 h-4 w-4"}),s[5]||(s[5]=r(" Course Assignments "))]),_:1})]),_:1}),t(e(v),{asChild:""},{default:a(()=>[t(e(g),{href:d.route("admin.course-online.create")},{default:a(()=>[t(e(ge),{class:"mr-2 h-4 w-4"}),s[6]||(s[6]=r(" Create Course "))]),_:1},8,["href"])]),_:1})])]),E.value>0?(o(),u("div",et,[n("div",tt,[n("div",st,[t(e(O),{class:"h-5 w-5 text-red-500 mr-3"}),n("div",null,[s[8]||(s[8]=n("h3",{class:"text-sm font-medium text-red-800 dark:text-red-200"}," Overdue Assignments Alert ",-1)),n("p",lt,i(E.value)+" assignment"+i(E.value===1?"":"s")+" are past deadline ",1)])]),t(e(v),{onClick:he,variant:"outline",size:"sm",class:"border-red-200 text-red-700 hover:bg-red-100"},{default:a(()=>[t(e(P),{class:"h-4 w-4 mr-2"}),s[9]||(s[9]=r(" Manage Deadlines "))]),_:1})])])):m("",!0),t(e(N),null,{default:a(()=>[t(e(le),null,{default:a(()=>[t(e(ae),{class:"flex items-center gap-2"},{default:a(()=>[t(e(He),{class:"h-5 w-5"}),s[10]||(s[10]=r(" Filters "))]),_:1})]),_:1}),t(e(se),null,{default:a(()=>[n("div",at,[n("div",nt,[t(e(Qe),{class:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),t(e(je),{modelValue:h.value,"onUpdate:modelValue":s[0]||(s[0]=l=>h.value=l),placeholder:"Search courses...",class:"pl-10"},null,8,["modelValue"])]),n("div",dt,[t(e(ne),{modelValue:y.value,"onUpdate:modelValue":s[1]||(s[1]=l=>y.value=l)},{default:a(()=>[t(e(de),null,{default:a(()=>[t(e(re),{placeholder:"Status"})]),_:1}),t(e(oe),null,{default:a(()=>[t(e($),{value:"all"},{default:a(()=>s[11]||(s[11]=[r("All Status")])),_:1}),t(e($),{value:"active"},{default:a(()=>s[12]||(s[12]=[r("Active")])),_:1}),t(e($),{value:"inactive"},{default:a(()=>s[13]||(s[13]=[r("Inactive")])),_:1})]),_:1})]),_:1},8,["modelValue"])]),n("div",rt,[t(e(ne),{modelValue:w.value,"onUpdate:modelValue":s[2]||(s[2]=l=>w.value=l)},{default:a(()=>[t(e(de),null,{default:a(()=>[t(e(re),{placeholder:"Level"})]),_:1}),t(e(oe),null,{default:a(()=>[t(e($),{value:"all"},{default:a(()=>s[14]||(s[14]=[r("All Levels")])),_:1}),t(e($),{value:"beginner"},{default:a(()=>s[15]||(s[15]=[r("Beginner")])),_:1}),t(e($),{value:"intermediate"},{default:a(()=>s[16]||(s[16]=[r("Intermediate")])),_:1}),t(e($),{value:"advanced"},{default:a(()=>s[17]||(s[17]=[r("Advanced")])),_:1})]),_:1})]),_:1},8,["modelValue"])]),t(e(v),{variant:"outline",onClick:Ae},{default:a(()=>s[18]||(s[18]=[r(" Clear ")])),_:1})])]),_:1})]),_:1}),t(e(Be),{"default-value":"grid",class:"space-y-4"},{default:a(()=>[n("div",ot,[t(e(Ne),null,{default:a(()=>[t(e(me),{value:"grid"},{default:a(()=>s[19]||(s[19]=[r("Grid View")])),_:1}),t(e(me),{value:"table"},{default:a(()=>s[20]||(s[20]=[r("Table View")])),_:1})]),_:1})]),t(e(fe),{value:"grid",class:"space-y-4"},{default:a(()=>[L.value.length===0?(o(),u("div",it,[t(e(U),{class:"h-16 w-16 text-muted-foreground mb-4"}),s[22]||(s[22]=n("h3",{class:"text-lg font-medium mb-2"},"No courses found",-1)),n("p",ut,i(h.value||y.value!=="all"||w.value!=="all"?"Try adjusting your filters":"Get started by creating your first online course"),1),!h.value&&y.value==="all"&&w.value==="all"?(o(),c(e(v),{key:0,"as-child":""},{default:a(()=>[t(e(g),{href:d.route("admin.course-online.create")},{default:a(()=>[t(e(ge),{class:"mr-2 h-4 w-4"}),s[21]||(s[21]=r(" Create Course "))]),_:1},8,["href"])]),_:1})):m("",!0)])):(o(),u("div",mt,[(o(!0),u(F,null,z(L.value,l=>(o(),c(e(N),{key:l.id,class:"group hover:shadow-lg transition-shadow duration-200"},{default:a(()=>[t(e(le),{class:"pb-4"},{default:a(()=>[n("div",ft,[n("div",_t,[t(e(Y),{class:"h-12 w-12"},{default:a(()=>{var _;return[l.image_path?(o(),c(e(J),{key:0,src:((_=l.thumbnails)==null?void 0:_.small)||l.image_path,alt:l.name},null,8,["src","alt"])):m("",!0),t(e(K),null,{default:a(()=>[t(e(U),{class:"h-6 w-6"})]),_:1})]}),_:2},1024),n("div",gt,[t(e(ae),{class:"text-lg line-clamp-1"},{default:a(()=>[r(i(l.name),1)]),_:2},1024),t(e(Fe),{class:"line-clamp-2"},{default:a(()=>[r(i(W(l.description,80)),1)]),_:2},1024)])]),t(e(X),null,{default:a(()=>[t(e(Z),{"as-child":""},{default:a(()=>[t(e(v),{variant:"ghost",size:"sm"},{default:a(()=>[t(e(ce),{class:"h-4 w-4"})]),_:1})]),_:1}),t(e(ee),{align:"end"},{default:a(()=>[t(e(p),{"as-child":""},{default:a(()=>[t(e(g),{href:d.route("admin.course-online.show",l.id)},{default:a(()=>[t(e(I),{class:"mr-2 h-4 w-4"}),s[23]||(s[23]=r(" View Details "))]),_:2},1032,["href"])]),_:2},1024),t(e(p),{"as-child":""},{default:a(()=>[t(e(g),{href:d.route("admin.course-modules.index",l.id)},{default:a(()=>[t(e(B),{class:"mr-2 h-4 w-4"}),s[24]||(s[24]=r(" Manage Modules "))]),_:2},1032,["href"])]),_:2},1024),t(e(p),{"as-child":""},{default:a(()=>[t(e(g),{href:d.route("admin.course-online.edit",l.id)},{default:a(()=>[t(e(ve),{class:"mr-2 h-4 w-4"}),s[25]||(s[25]=r(" Edit Course "))]),_:2},1032,["href"])]),_:2},1024),t(e(te)),t(e(p),{onClick:_=>Q(l),disabled:!M(l),class:"text-red-600 focus:text-red-600 focus:bg-red-50 dark:text-red-400 dark:focus:text-red-300 dark:focus:bg-red-950/20"},{default:a(()=>[t(e(R),{class:"mr-2 h-4 w-4"}),s[26]||(s[26]=r(" Delete Course "))]),_:2},1032,["onClick","disabled"])]),_:2},1024)]),_:2},1024)])]),_:2},1024),t(e(se),{class:"space-y-4"},{default:a(()=>[n("div",ct,[t(e(S),{class:T(H(l.difficulty_level))},{default:a(()=>[r(i(l.difficulty_level),1)]),_:2},1032,["class"]),t(e(S),{variant:l.is_active?"default":"secondary"},{default:a(()=>[r(i(l.is_active?"Active":"Inactive"),1)]),_:2},1032,["variant"]),l.assignments_count>0?(o(),c(e(S),{key:0,variant:"outline",class:"text-orange-600 border-orange-600/50 dark:text-orange-400 dark:border-orange-400/50"},{default:a(()=>[r(i(l.assignments_count)+" enrolled ",1)]),_:2},1024)):m("",!0),l.has_deadline?(o(),c(e(S),{key:1,variant:"outline",class:"text-blue-600 border-blue-600/50 dark:text-blue-400 dark:border-blue-400/50 bg-blue-50/50 dark:bg-blue-950/20"},{default:a(()=>[t(e(q),{class:"mr-1 h-3 w-3"}),s[27]||(s[27]=r(" Deadline Set "))]),_:1})):m("",!0)]),n("div",vt,[n("div",null,[n("div",pt,i(l.modules_count),1),s[28]||(s[28]=n("div",{class:"text-xs text-muted-foreground"},"Modules",-1))]),n("div",null,[n("div",xt,i(l.assignments_count),1),s[29]||(s[29]=n("div",{class:"text-xs text-muted-foreground"},"Enrolled",-1))]),n("div",null,[n("div",bt,i(Math.round(l.completion_rate))+"%",1),s[30]||(s[30]=n("div",{class:"text-xs text-muted-foreground"},"Completion",-1))])]),l.has_deadline?(o(),u("div",{key:0,class:T(["mt-4 p-3 rounded-lg border",{"bg-red-50 border-red-200 dark:bg-red-950/30 dark:border-red-800":l.overdue_assignments_count>0,"bg-orange-50 border-orange-200 dark:bg-orange-950/30 dark:border-orange-800":l.upcoming_deadlines_count>0&&!l.overdue_assignments_count,"bg-blue-50 border-blue-200 dark:bg-blue-950/30 dark:border-blue-800":!l.overdue_assignments_count&&!l.upcoming_deadlines_count}])},[n("div",kt,[n("div",ht,[t(e(q),{class:"h-4 w-4 text-blue-600 dark:text-blue-400"}),s[31]||(s[31]=n("span",{class:"font-medium text-foreground"},"Course Deadline:",-1))]),n("span",{class:T(["text-xs px-2 py-1 rounded-full border font-medium",{"text-red-700 bg-red-100 border-red-300 dark:text-red-300 dark:bg-red-900/50 dark:border-red-700":l.overdue_assignments_count>0,"text-orange-700 bg-orange-100 border-orange-300 dark:text-orange-300 dark:bg-orange-900/50 dark:border-orange-700":l.upcoming_deadlines_count>0&&!l.overdue_assignments_count,"text-blue-700 bg-blue-100 border-blue-300 dark:text-blue-300 dark:bg-blue-900/50 dark:border-blue-700":!l.overdue_assignments_count&&!l.upcoming_deadlines_count}])},i(l.deadline_type==="strict"?"Strict":"Flexible"),3)]),l.deadline?(o(),u("div",yt," 📅 "+i(G(l.deadline)),1)):m("",!0),l.assignments_count>0?(o(),u("div",wt,[l.overdue_assignments_count>0?(o(),u("div",Ct,[t(e(O),{class:"h-3 w-3 text-red-600 dark:text-red-400"}),n("span",$t,i(l.overdue_assignments_count)+" overdue assignment"+i(l.overdue_assignments_count!==1?"s":""),1)])):m("",!0),l.upcoming_deadlines_count>0?(o(),u("div",Dt,[t(e(pe),{class:"h-3 w-3 text-orange-600 dark:text-orange-400"}),n("span",At,i(l.upcoming_deadlines_count)+" due soon ",1)])):m("",!0),!l.overdue_assignments_count&&!l.upcoming_deadlines_count?(o(),u("div",St,[t(e(xe),{class:"h-3 w-3 text-green-600 dark:text-green-400"}),s[32]||(s[32]=n("span",{class:"text-xs text-green-700 dark:text-green-300"},"✅ All assignments on track",-1))])):m("",!0)])):(o(),u("div",Tt," No active assignments "))],2)):(o(),u("div",Vt,[n("div",Mt,[t(e(P),{class:"h-4 w-4"}),s[33]||(s[33]=n("span",null,"No deadline set for this course",-1))])])),n("div",Ft,[n("div",jt,[s[34]||(s[34]=n("span",null,"Completion Rate",-1)),n("span",null,i(Math.round(l.completion_rate))+"%",1)]),t(e(ue),{value:l.completion_rate},null,8,["value"])]),n("div",Et,[n("div",Lt,[t(e(Ye),{class:"h-3 w-3"}),r(" "+i(we(l.estimated_duration)),1)]),n("div",null,"Created "+i(ye(l.created_at)),1)]),n("div",zt,[t(e(v),{"as-child":"",size:"sm",class:"flex-1"},{default:a(()=>[t(e(g),{href:d.route("admin.course-online.show",l.id)},{default:a(()=>[t(e(I),{class:"mr-2 h-4 w-4"}),s[35]||(s[35]=r(" View "))]),_:2},1032,["href"])]),_:2},1024),t(e(v),{"as-child":"",variant:"outline",size:"sm",class:"flex-1"},{default:a(()=>[t(e(g),{href:d.route("admin.course-modules.index",l.id)},{default:a(()=>[t(e(B),{class:"mr-2 h-4 w-4"}),s[36]||(s[36]=r(" Modules "))]),_:2},1032,["href"])]),_:2},1024)])]),_:2},1024)]),_:2},1024))),128))]))]),_:1}),t(e(fe),{value:"table"},{default:a(()=>[t(e(N),null,{default:a(()=>[t(e(Ee),null,{default:a(()=>[t(e(Le),null,{default:a(()=>[t(e(ie),null,{default:a(()=>[t(e(x),null,{default:a(()=>s[37]||(s[37]=[r("Course")])),_:1}),t(e(x),null,{default:a(()=>s[38]||(s[38]=[r("Level")])),_:1}),t(e(x),null,{default:a(()=>s[39]||(s[39]=[r("Modules")])),_:1}),t(e(x),null,{default:a(()=>s[40]||(s[40]=[r("Enrolled")])),_:1}),t(e(x),null,{default:a(()=>s[41]||(s[41]=[r("Completion")])),_:1}),t(e(x),null,{default:a(()=>s[42]||(s[42]=[r("Deadline Status")])),_:1}),t(e(x),null,{default:a(()=>s[43]||(s[43]=[r("Status")])),_:1}),t(e(x),null,{default:a(()=>s[44]||(s[44]=[r("Actions")])),_:1})]),_:1})]),_:1}),t(e(ze),null,{default:a(()=>[(o(!0),u(F,null,z(L.value,l=>(o(),c(e(ie),{key:l.id},{default:a(()=>[t(e(b),null,{default:a(()=>[n("div",Bt,[t(e(Y),{class:"h-8 w-8"},{default:a(()=>{var _;return[l.image_path?(o(),c(e(J),{key:0,src:((_=l.thumbnails)==null?void 0:_.small)||l.image_path,alt:l.name},null,8,["src","alt"])):m("",!0),t(e(K),null,{default:a(()=>[t(e(U),{class:"h-4 w-4"})]),_:1})]}),_:2},1024),n("div",null,[n("div",Nt,i(l.name),1),n("div",Ot,i(W(l.description,50)),1)])])]),_:2},1024),t(e(b),null,{default:a(()=>[t(e(S),{class:T(H(l.difficulty_level))},{default:a(()=>[r(i(l.difficulty_level),1)]),_:2},1032,["class"])]),_:2},1024),t(e(b),null,{default:a(()=>[r(i(l.modules_count),1)]),_:2},1024),t(e(b),null,{default:a(()=>[r(i(l.assignments_count),1)]),_:2},1024),t(e(b),null,{default:a(()=>[n("div",Pt,[t(e(ue),{value:l.completion_rate,class:"w-16"},null,8,["value"]),n("span",Ut,i(Math.round(l.completion_rate))+"%",1)])]),_:2},1024),t(e(b),null,{default:a(()=>[n("div",It,[l.has_deadline?(o(),u("div",Rt,[n("div",qt,[t(e(q),{class:"h-3 w-3 text-blue-600 dark:text-blue-400"}),n("span",Wt,i(l.deadline?G(l.deadline):"Set"),1),n("span",Gt,i(l.deadline_type==="strict"?"Strict":"Flexible"),1)]),l.assignments_count>0?(o(),u("div",Ht,[l.overdue_assignments_count>0?(o(),u("div",Qt,[t(e(O),{class:"h-3 w-3 text-red-600 dark:text-red-400"}),n("span",Yt,i(l.overdue_assignments_count)+" overdue ",1)])):m("",!0),l.upcoming_deadlines_count>0?(o(),u("div",Jt,[t(e(pe),{class:"h-3 w-3 text-orange-600 dark:text-orange-400"}),n("span",Kt,i(l.upcoming_deadlines_count)+" due soon ",1)])):m("",!0),!l.overdue_assignments_count&&!l.upcoming_deadlines_count?(o(),u("div",Xt,[t(e(xe),{class:"h-3 w-3 text-green-600 dark:text-green-400"}),s[45]||(s[45]=n("span",{class:"text-xs text-green-700 dark:text-green-300"},"On track",-1))])):m("",!0)])):m("",!0)])):(o(),u("div",Zt,[t(e(P),{class:"h-3 w-3 text-gray-500 dark:text-muted-foreground"}),s[46]||(s[46]=n("span",{class:"text-xs text-gray-600 dark:text-muted-foreground"},"No deadline",-1))]))])]),_:2},1024),t(e(b),null,{default:a(()=>[t(e(S),{variant:l.is_active?"default":"secondary"},{default:a(()=>[r(i(l.is_active?"Active":"Inactive"),1)]),_:2},1032,["variant"])]),_:2},1024),t(e(b),null,{default:a(()=>[t(e(X),null,{default:a(()=>[t(e(Z),{"as-child":""},{default:a(()=>[t(e(v),{variant:"ghost",size:"sm"},{default:a(()=>[t(e(ce),{class:"h-4 w-4"})]),_:1})]),_:1}),t(e(ee),{align:"end"},{default:a(()=>[t(e(p),{"as-child":""},{default:a(()=>[t(e(g),{href:d.route("admin.course-online.show",l.id)},{default:a(()=>[t(e(I),{class:"mr-2 h-4 w-4"}),s[47]||(s[47]=r(" View Details "))]),_:2},1032,["href"])]),_:2},1024),t(e(p),{"as-child":""},{default:a(()=>[t(e(g),{href:d.route("admin.course-modules.index",l.id)},{default:a(()=>[t(e(B),{class:"mr-2 h-4 w-4"}),s[48]||(s[48]=r(" Manage Modules "))]),_:2},1032,["href"])]),_:2},1024),t(e(p),{"as-child":""},{default:a(()=>[t(e(g),{href:d.route("admin.course-online.edit",l.id)},{default:a(()=>[t(e(ve),{class:"mr-2 h-4 w-4"}),s[49]||(s[49]=r(" Edit Course "))]),_:2},1032,["href"])]),_:2},1024),t(e(te)),t(e(p),{onClick:_=>Q(l),disabled:!M(l),class:"text-red-600 focus:text-red-600 focus:bg-red-50 dark:text-red-400 dark:focus:text-red-300 dark:focus:bg-red-950/20"},{default:a(()=>[t(e(R),{class:"mr-2 h-4 w-4"}),s[50]||(s[50]=r(" Delete Course "))]),_:2},1032,["onClick","disabled"])]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),d.courses.meta&&d.courses.meta.last_page>1?(o(),u("div",es,[(o(!0),u(F,null,z(d.courses.links,l=>(o(),c(e(v),{key:l.label,variant:l.active?"default":"outline",disabled:!l.url,size:"sm",onClick:_=>l.url&&e(j).get(l.url),innerHTML:l.label},null,8,["variant","disabled","onClick","innerHTML"]))),128))])):m("",!0)]),t(e(Oe),{open:!!f.value},{default:a(()=>[t(e(Pe),null,{default:a(()=>[t(e(Ue),null,{default:a(()=>[t(e(Ie),{class:"flex items-center gap-2"},{default:a(()=>[t(e(Je),{class:"h-5 w-5 text-red-600"}),s[51]||(s[51]=r(" Delete Course "))]),_:1}),t(e(Re),null,{default:a(()=>[f.value?(o(),u("div",ts,[r(i(De(f.value))+" ",1),M(f.value)?(o(),u("div",ss,[s[54]||(s[54]=n("h4",{class:"font-medium text-red-800 mb-2"},"This will permanently delete:",-1)),n("ul",ls,[n("li",null,"• Course: "+i(f.value.name),1),n("li",null,"• "+i(f.value.modules_count)+" modules and all their content",1),s[52]||(s[52]=n("li",null,"• All associated PDFs, videos, and learning materials",-1)),s[53]||(s[53]=n("li",null,"• All progress tracking data",-1))])])):(o(),u("div",as,s[55]||(s[55]=[n("h4",{class:"font-medium text-orange-800 mb-2"},"Cannot Delete",-1),n("p",{class:"text-sm text-orange-700"}," This course has active student enrollments. Please remove all student assignments before deleting the course. ",-1)])))])):m("",!0)]),_:1})]),_:1}),t(e(qe),null,{default:a(()=>[t(e(We),{onClick:s[3]||(s[3]=l=>f.value=null)},{default:a(()=>s[56]||(s[56]=[r(" Cancel ")])),_:1}),f.value&&M(f.value)?(o(),c(e(Ge),{key:0,onClick:$e,disabled:D.value,class:"bg-red-600 hover:bg-red-700 focus:ring-red-600"},{default:a(()=>[D.value?(o(),c(e(_e),{key:1,class:"mr-2 h-4 w-4 animate-spin"})):(o(),c(e(R),{key:0,class:"mr-2 h-4 w-4"})),r(" "+i(D.value?"Deleting...":"Delete Course"),1)]),_:1},8,["disabled"])):m("",!0)]),_:1})]),_:1})]),_:1},8,["open"])]),_:1})],64))}});export{tl as default};
