import{d as q,C as B,r as A,g as p,o as d,w as a,e as o,j as F,b as r,h as u,u as e,f as n,a as m,F as L,i as w,n as k,t as c,P as I}from"./app-CwrLmt4H.js";import{_ as O}from"./AdminLayout.vue_vue_type_script_setup_true_lang-DVdVdrtJ.js";import{c as Q,_ as C}from"./Button.vue_vue_type_script_setup_true_lang-DNqWTjl2.js";import{_ as P}from"./Input.vue_vue_type_script_setup_true_lang-rmXnsLaI.js";import{_}from"./Label.vue_vue_type_script_setup_true_lang-CU7Va5Ql.js";import{_ as X}from"./Textarea.vue_vue_type_script_setup_true_lang-ChuE_6eQ.js";import{_ as f}from"./Card.vue_vue_type_script_setup_true_lang-A8WG6GOp.js";import{_ as h}from"./CardContent.vue_vue_type_script_setup_true_lang-C0P-sboE.js";import{_ as x}from"./CardDescription.vue_vue_type_script_setup_true_lang-Bu6T4zC6.js";import{_ as b}from"./CardHeader.vue_vue_type_script_setup_true_lang-B1JXwWzJ.js";import{_ as y}from"./CardTitle.vue_vue_type_script_setup_true_lang-CfsAIejd.js";import{_ as G,a as J,b as K,c as R,d as g}from"./SelectValue.vue_vue_type_script_setup_true_lang-FEW3_Jd3.js";import{_ as W}from"./Checkbox.vue_vue_type_script_setup_true_lang-BDiYDM-D.js";import{_ as S}from"./index-M46Jp1H4.js";import{S as Y}from"./AppLayout.vue_vue_type_script_setup_true_lang-KHSjz1qE.js";import{U as Z,X as ee}from"./_plugin-vue_export-helper-C_B9qUyA.js";import{E as se}from"./eye-DVdFhXjT.js";import{L as te}from"./loader-circle-Cclobs7m.js";import{S as re}from"./save-D3MMEjI3.js";import"./index-DJ8elu12.js";import"./index-Bl0m2vYu.js";import"./useForwardPropsEmits-Bv9ZfZA8.js";import"./Presence-D5fWEiXU.js";import"./ConfigProvider-DYoe7gBq.js";import"./useForwardExpose-aFpDTqrD.js";import"./Teleport-jnYm4bVA.js";import"./handleAndDispatchCustomEvent-ChOKVcqp.js";import"./chevron-up-BFDwzHBd.js";import"./Collection-B9kSM2sl.js";import"./usePrimitiveElement-D1W1Ae6N.js";import"./check-D3O_WcEY.js";import"./useSize-d0DSIEo7.js";import"./ohash.D__AXeF1-DHF4M4F_.js";import"./nullish-CHIgUVhi.js";import"./VisuallyHidden-xEP9wB1T.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-wO9CZrtp.js";import"./clock-B3hXeEnL.js";/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ae=Q("LightbulbIcon",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]),oe={class:"px-4 sm:px-0 space-y-6"},le={class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4"},ie={class:"flex items-center space-x-3"},ne={class:"flex-1"},de={class:"font-medium text-sm"},ce={class:"text-xs text-muted-foreground"},me={class:"text-xs text-muted-foreground mt-1"},ue={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},pe={class:"space-y-2"},ge={key:0,class:"text-sm text-destructive"},ve={class:"space-y-2"},_e={key:0,class:"text-sm text-destructive"},fe={class:"space-y-2 md:col-span-2"},he={key:0,class:"text-sm text-destructive"},xe={class:"space-y-2 md:col-span-2"},be={key:0,class:"text-sm text-destructive"},ye={key:0,class:"block text-orange-600 font-medium mt-1"},Le={class:"space-y-4"},we={key:0,class:"p-4 bg-orange-50 border border-orange-200 rounded-lg"},ke={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"},Me={class:"font-medium"},$e={class:"text-xs text-muted-foreground"},Ce={key:1,class:"text-sm text-destructive"},Pe={class:"flex items-center space-x-4"},Se={class:"text-sm font-bold"},De={class:"flex-1"},Ve={class:"text-lg font-semibold text-foreground"},je={class:"text-sm text-muted-foreground"},Ee={key:0,class:"text-sm text-muted-foreground mt-1"},Ne={key:1,class:"flex flex-wrap gap-1 mt-2"},Ue={key:2,class:"mt-2"},ze={class:"flex flex-col sm:flex-row gap-3"},He={key:2},Te={key:3},Ls=q({__name:"Create",props:{existingLevels:Array},setup(D){const V=D,s=B({code:"",name:"",hierarchy_level:"",description:"",can_manage_levels:[]}),M=A(V.existingLevels||[]);function j(){s.post("/admin/user-levels",{onSuccess:()=>{},onError:i=>{console.error("Validation errors:",i)}})}const E=()=>{const i=s.hierarchy_level;i==="0"?(s.code="L2PM",s.name="Project Manager",s.description="Project coordinators with no direct management authority",s.can_manage_levels=[]):i==="1"?(s.code="L1",s.name="Employee",s.description="Front-line employees with no direct reports",s.can_manage_levels=[]):i==="2"?(s.code="L2",s.name="Direct Manager",s.description="Team managers with direct reports",s.can_manage_levels=["L1"]):i==="3"?(s.code="L3",s.name="Senior Manager",s.description="Department heads and senior managers",s.can_manage_levels=["L1","L2"]):i==="4"?(s.code="L4",s.name="Director",s.description="Executive level with multiple department oversight",s.can_manage_levels=["L1","L2","L3"]):i==="5"&&(s.code="L5",s.name="Executive",s.description="C-level executives and senior leadership",s.can_manage_levels=["L1","L2","L3","L4"])},N=i=>{s.hierarchy_level=i,E()},U=i=>{s.hierarchy_level=i.level,s.code=i.code,s.name=i.name,s.description=i.description,s.can_manage_levels=i.can_manage_levels||[]},z=i=>{const t=s.can_manage_levels.indexOf(i);t>-1?s.can_manage_levels.splice(t,1):s.can_manage_levels.push(i)},v=i=>{switch(i==null?void 0:i.toString()){case"0":return{bg:"bg-purple-100",text:"text-purple-600",border:"border-purple-200"};case"1":return{bg:"bg-blue-100",text:"text-blue-600",border:"border-blue-200"};case"2":return{bg:"bg-green-100",text:"text-green-600",border:"border-green-200"};case"3":return{bg:"bg-orange-100",text:"text-orange-600",border:"border-orange-200"};case"4":return{bg:"bg-red-100",text:"text-red-600",border:"border-red-200"};case"5":return{bg:"bg-indigo-100",text:"text-indigo-600",border:"border-indigo-200"};default:return{bg:"bg-gray-100",text:"text-gray-600",border:"border-gray-200"}}},H=[{level:"0",code:"L2PM",name:"Project Manager",description:"Project coordinators with no direct management authority",can_manage_levels:[]},{level:"1",code:"L1",name:"Employee",description:"Front-line employees with no direct reports",can_manage_levels:[]},{level:"2",code:"L2",name:"Direct Manager",description:"Team managers with direct reports",can_manage_levels:["L1"]},{level:"3",code:"L3",name:"Senior Manager",description:"Department heads and senior managers",can_manage_levels:["L1","L2"]},{level:"4",code:"L4",name:"Director",description:"Executive level with multiple department oversight",can_manage_levels:["L1","L2","L3"]},{level:"5",code:"L5",name:"Executive",description:"C-level executives and senior leadership",can_manage_levels:["L1","L2","L3","L4"]}],T=[{name:"Dashboard",href:route("dashboard")},{name:"User Levels",href:route("admin.user-levels.index")},{name:"Create Level",href:route("admin.user-levels.create")}];return(i,t)=>(d(),p(O,{breadcrumbs:T},{default:a(()=>[o("div",oe,[t[27]||(t[27]=o("div",null,[o("h1",{class:"text-xl sm:text-2xl font-bold text-foreground"},"Create New User Level"),o("p",{class:"text-sm text-muted-foreground mt-1"},"Define a new organizational hierarchy level with management permissions and responsibilities")],-1)),o("form",{onSubmit:F(j,["prevent"]),class:"max-w-4xl space-y-6"},[r(e(f),null,{default:a(()=>[r(e(b),null,{default:a(()=>[r(e(y),{class:"flex items-center"},{default:a(()=>[r(e(ae),{class:"mr-2 h-5 w-5"}),t[3]||(t[3]=n(" Quick Setup Templates "))]),_:1}),r(e(x),null,{default:a(()=>t[4]||(t[4]=[n("Click on a template to quickly configure common organizational levels")])),_:1})]),_:1}),r(e(h),null,{default:a(()=>[o("div",le,[(d(),m(L,null,w(H,l=>r(e(f),{key:`${l.level}-${l.code}`,class:k(["cursor-pointer transition-all duration-200 hover:shadow-md hover:scale-105 border-2 hover:border-primary/50",{"border-primary bg-primary/5":e(s).code===l.code}]),onClick:$=>U(l)},{default:a(()=>[r(e(h),{class:"p-4"},{default:a(()=>[o("div",ie,[o("div",{class:k(["h-12 w-12 rounded-full flex items-center justify-center text-xs font-bold",[v(l.level).bg,v(l.level).text]])},c(l.code),3),o("div",ne,[o("div",de,c(l.name),1),o("div",ce,c(l.level==="0"?"No Management Level":`Level ${l.level}`),1),o("div",me,c(l.description),1)])])]),_:2},1024)]),_:2},1032,["class","onClick"])),64))])]),_:1})]),_:1}),r(e(f),null,{default:a(()=>[r(e(b),null,{default:a(()=>[r(e(y),{class:"flex items-center"},{default:a(()=>[r(e(Y),{class:"mr-2 h-5 w-5"}),t[5]||(t[5]=n(" Level Configuration "))]),_:1}),r(e(x),null,{default:a(()=>t[6]||(t[6]=[n("Define the basic properties and hierarchy position of this user level")])),_:1})]),_:1}),r(e(h),null,{default:a(()=>[o("div",ue,[o("div",pe,[r(e(_),{for:"hierarchy_level"},{default:a(()=>t[7]||(t[7]=[n("Hierarchy Level")])),_:1}),r(e(G),{"model-value":e(s).hierarchy_level,"onUpdate:modelValue":N},{default:a(()=>[r(e(J),{id:"hierarchy_level",disabled:e(s).processing},{default:a(()=>[r(e(K),{placeholder:"Select Level"})]),_:1},8,["disabled"]),r(e(R),null,{default:a(()=>[r(e(g),{value:"0"},{default:a(()=>t[8]||(t[8]=[n("Level 0 (Project Manager - No Management Authority)")])),_:1}),r(e(g),{value:"1"},{default:a(()=>t[9]||(t[9]=[n("Level 1 (Employees)")])),_:1}),r(e(g),{value:"2"},{default:a(()=>t[10]||(t[10]=[n("Level 2 (Direct Managers)")])),_:1}),r(e(g),{value:"3"},{default:a(()=>t[11]||(t[11]=[n("Level 3 (Senior Managers)")])),_:1}),r(e(g),{value:"4"},{default:a(()=>t[12]||(t[12]=[n("Level 4 (Directors)")])),_:1}),r(e(g),{value:"5"},{default:a(()=>t[13]||(t[13]=[n("Level 5 (Executives)")])),_:1})]),_:1})]),_:1},8,["model-value"]),t[14]||(t[14]=o("p",{class:"text-xs text-muted-foreground"},[n(" Level 0 = No management authority (Project Managers)"),o("br"),n(" Higher numbers = Higher authority levels ")],-1)),e(s).errors.hierarchy_level?(d(),m("div",ge,c(e(s).errors.hierarchy_level),1)):u("",!0)]),o("div",ve,[r(e(_),{for:"code"},{default:a(()=>t[15]||(t[15]=[n("Level Code")])),_:1}),r(e(P),{id:"code",modelValue:e(s).code,"onUpdate:modelValue":t[0]||(t[0]=l=>e(s).code=l),disabled:e(s).processing,maxlength:"10",placeholder:"e.g., L1, L2, L2PM",required:""},null,8,["modelValue","disabled"]),t[16]||(t[16]=o("p",{class:"text-xs text-muted-foreground"}," Short identifier (e.g., L2PM for Project Manager, L2 for Direct Manager) ",-1)),e(s).errors.code?(d(),m("div",_e,c(e(s).errors.code),1)):u("",!0)]),o("div",fe,[r(e(_),{for:"name"},{default:a(()=>t[17]||(t[17]=[n("Level Name")])),_:1}),r(e(P),{id:"name",modelValue:e(s).name,"onUpdate:modelValue":t[1]||(t[1]=l=>e(s).name=l),disabled:e(s).processing,placeholder:"e.g., Employee, Direct Manager, Project Manager",required:""},null,8,["modelValue","disabled"]),e(s).errors.name?(d(),m("div",he,c(e(s).errors.name),1)):u("",!0)]),o("div",xe,[r(e(_),{for:"description"},{default:a(()=>t[18]||(t[18]=[n("Description")])),_:1}),r(e(X),{id:"description",modelValue:e(s).description,"onUpdate:modelValue":t[2]||(t[2]=l=>e(s).description=l),disabled:e(s).processing,placeholder:"Describe the responsibilities and scope of this level",rows:"3"},null,8,["modelValue","disabled"]),e(s).errors.description?(d(),m("div",be,c(e(s).errors.description),1)):u("",!0)])])]),_:1})]),_:1}),M.value.length>0?(d(),p(e(f),{key:0},{default:a(()=>[r(e(b),null,{default:a(()=>[r(e(y),{class:"flex items-center"},{default:a(()=>[r(e(Z),{class:"mr-2 h-5 w-5"}),t[19]||(t[19]=n(" Management Permissions "))]),_:1}),r(e(x),null,{default:a(()=>[t[20]||(t[20]=n(" Select which levels this level can manage and oversee ")),e(s).hierarchy_level==="0"?(d(),m("span",ye," ⚠️ Level 0 typically has no management authority ")):u("",!0)]),_:1})]),_:1}),r(e(h),null,{default:a(()=>[o("div",Le,[e(s).hierarchy_level==="0"?(d(),m("div",we,t[21]||(t[21]=[o("div",{class:"flex items-start space-x-3"},[o("div",{class:"text-orange-500 mt-0.5"},[o("svg",{class:"h-5 w-5",fill:"currentColor",viewBox:"0 0 20 20"},[o("path",{"fill-rule":"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z","clip-rule":"evenodd"})])]),o("div",null,[o("h4",{class:"text-orange-800 font-semibold"},"Project Manager Level"),o("p",{class:"text-orange-700 text-sm mt-1"}," Level 0 is typically used for Project Managers who coordinate projects but don't have direct management authority over people. Leave management permissions empty unless this role requires specific oversight. ")])],-1)]))):u("",!0),o("div",ke,[(d(!0),m(L,null,w(M.value,l=>(d(),m("div",{key:l.code,class:"flex items-center space-x-3 p-3 border rounded-lg hover:bg-muted/50 transition-colors"},[r(e(W),{id:`manage_${l.code}`,checked:e(s).can_manage_levels.includes(l.code),"onUpdate:checked":$=>$?e(s).can_manage_levels.push(l.code):z(l.code),disabled:e(s).processing},null,8,["id","checked","onUpdate:checked","disabled"]),r(e(_),{for:`manage_${l.code}`,class:"flex-1 cursor-pointer"},{default:a(()=>[o("div",Me,c(l.code)+" - "+c(l.name),1),o("div",$e,"Level "+c(l.hierarchy_level),1)]),_:2},1032,["for"])]))),128))]),t[22]||(t[22]=o("p",{class:"text-xs text-muted-foreground"},"Leave empty if this level cannot manage other users",-1)),e(s).errors.can_manage_levels?(d(),m("div",Ce,c(e(s).errors.can_manage_levels),1)):u("",!0)])]),_:1})]),_:1})):u("",!0),e(s).code?(d(),p(e(f),{key:1,class:"border-primary/20 bg-primary/5"},{default:a(()=>[r(e(b),null,{default:a(()=>[r(e(y),{class:"flex items-center"},{default:a(()=>[r(e(se),{class:"mr-2 h-5 w-5"}),t[23]||(t[23]=n(" Preview "))]),_:1}),r(e(x),null,{default:a(()=>t[24]||(t[24]=[n("How this level will appear in the system")])),_:1})]),_:1}),r(e(h),null,{default:a(()=>[o("div",Pe,[o("div",{class:k(["shrink-0 h-16 w-16 rounded-full flex items-center justify-center border-2",[v(e(s).hierarchy_level).bg,v(e(s).hierarchy_level).text,v(e(s).hierarchy_level).border]])},[o("span",Se,c(e(s).code),1)],2),o("div",De,[o("div",Ve,c(e(s).name||"Level Name"),1),o("div",je,c(e(s).hierarchy_level==="0"?"No Management Level":`Hierarchy Level ${e(s).hierarchy_level||"?"}`),1),e(s).description?(d(),m("div",Ee,c(e(s).description),1)):u("",!0),e(s).can_manage_levels.length>0?(d(),m("div",Ne,[(d(!0),m(L,null,w(e(s).can_manage_levels,l=>(d(),p(e(S),{key:l,variant:"secondary",class:"text-xs"},{default:a(()=>[n(" Can manage: "+c(l),1)]),_:2},1024))),128))])):e(s).hierarchy_level==="0"?(d(),m("div",Ue,[r(e(S),{variant:"outline",class:"text-xs text-orange-600 border-orange-300"},{default:a(()=>t[25]||(t[25]=[n(" No Management Authority ")])),_:1})])):u("",!0)])])]),_:1})]),_:1})):u("",!0),o("div",ze,[r(e(C),{type:"submit",disabled:e(s).processing,class:"w-full sm:w-auto"},{default:a(()=>[e(s).processing?(d(),p(e(te),{key:0,class:"mr-2 h-4 w-4 animate-spin"})):(d(),p(e(re),{key:1,class:"mr-2 h-4 w-4"})),e(s).processing?(d(),m("span",He,"Creating Level...")):(d(),m("span",Te,"Create User Level"))]),_:1},8,["disabled"]),r(e(C),{as:e(I),href:i.route("admin.user-levels.index"),variant:"outline",disabled:e(s).processing,class:"w-full sm:w-auto"},{default:a(()=>[r(e(ee),{class:"mr-2 h-4 w-4"}),t[26]||(t[26]=n(" Cancel "))]),_:1},8,["as","href","disabled"])])],32)])]),_:1}))}});export{Ls as default};
