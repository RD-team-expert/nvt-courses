import{d as A,z as L,r as M,W as y,l as R,g as c,o as u,w as a,e as n,b as t,u as e,P as b,f as r,a as _,h as v,t as i,F,i as I}from"./app-BMyidKIh.js";import{l as W}from"./lodash-CJ4daae0.js";import{_ as G}from"./AdminLayout.vue_vue_type_script_setup_true_lang-CwtOIFIS.js";import{_ as f}from"./Button.vue_vue_type_script_setup_true_lang-Fk6a1Vva.js";import{_ as C}from"./Card.vue_vue_type_script_setup_true_lang-CQovGjFq.js";import{_ as S}from"./CardContent.vue_vue_type_script_setup_true_lang-Dyzxu5FP.js";import{_ as O}from"./CardDescription.vue_vue_type_script_setup_true_lang-CvcJ_Am_.js";import{_ as X}from"./CardHeader.vue_vue_type_script_setup_true_lang-_dtBwzkO.js";import{_ as H}from"./CardTitle.vue_vue_type_script_setup_true_lang-zaBMsOvU.js";import{_ as J,a as K,b as U,c as h,d as Q,e as p}from"./TableHeader.vue_vue_type_script_setup_true_lang-Vc69-q_L.js";import{_ as Y}from"./index-C3o0bvIk.js";import{c as Z,e as ee,q as N}from"./AppLayout.vue_vue_type_script_setup_true_lang-CeyhSayX.js";import{_ as te}from"./Input.vue_vue_type_script_setup_true_lang-BnRJBFP3.js";import{_ as se,a as ae,b as re,c as le,d as oe,e as ne,f as ue,g as ie}from"./AlertDialogTitle.vue_vue_type_script_setup_true_lang-D_s7l6If.js";import{_ as de}from"./AlertDialogTrigger.vue_vue_type_script_setup_true_lang-CfyAHbFx.js";import{U as z}from"./user-plus-CbZ7u4pE.js";import{S as me}from"./search-D5MvWJsa.js";import{X as fe,U as V}from"./_plugin-vue_export-helper-Cg8ARLjz.js";import{S as ce}from"./square-pen-DgRNf_fG.js";import{T as _e}from"./trash-2-DdRoljCP.js";import{C as j}from"./chevron-left-C4j3pNl5.js";import"./index-B9hR5wOz.js";import"./index-C3Bn3h4x.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-CPGGLHXe.js";import"./clock-C9ZtgHl0.js";import"./useForwardPropsEmits-DPcO4mtR.js";import"./useForwardExpose-DMAVYlpA.js";import"./Presence-D_88WakH.js";import"./ConfigProvider-BNe-qVox.js";import"./Teleport-CcnEHzmd.js";import"./handleAndDispatchCustomEvent-ChOKVcqp.js";const ve={class:"px-4 sm:px-0 space-y-6"},ge={class:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4"},xe={class:"relative max-w-md"},he={key:0,class:"text-sm text-muted-foreground mt-2"},pe={key:0},ye={class:"overflow-x-auto"},be={class:"flex items-center space-x-3"},$e={class:"font-medium text-foreground"},we={class:"text-xs text-muted-foreground sm:hidden mt-1"},ke={class:"text-muted-foreground"},Ce={class:"flex justify-end space-x-2"},Se={key:0,class:"text-center py-12"},Ue={class:"text-lg font-medium text-foreground mb-2"},Ne={class:"text-sm text-muted-foreground mb-6"},ze={class:"space-x-2"},Ve={key:0,class:"flex justify-between items-center pt-4 border-t"},je={class:"text-sm text-muted-foreground hidden sm:block"},Pe={key:0},Te={key:0},De={key:1},ft=A({__name:"Index",props:{users:Object,search:String},setup(l){const x=l,P=L(),m=M(x.search||P.props.search||""),T=[{name:"Dashboard",href:route("dashboard")},{name:"User Management",href:route("admin.users.index")}],D=W.debounce(d=>{y.get(route("admin.users.index"),{search:d||void 0},{preserveState:!0,preserveScroll:!0,replace:!0})},500);R(m,d=>{D(d)});const $=()=>{m.value=""},B=d=>{y.delete(`/admin/users/${d}`,{preserveState:!0,onSuccess:()=>{},onError:s=>{console.error("Delete failed:",s)}})},w=d=>{y.get(route("admin.users.index"),{page:d,search:m.value||void 0},{preserveState:!0,replace:!0,preserveScroll:!0})},E=d=>{switch(d==null?void 0:d.toLowerCase()){case"admin":return"default";case"user":return"secondary";case"manager":return"outline";default:return"secondary"}},q=d=>d.split(" ").map(s=>s.charAt(0).toUpperCase()).join("").slice(0,2);return(d,s)=>(u(),c(G,{breadcrumbs:T},{default:a(()=>[n("div",ve,[n("div",ge,[s[4]||(s[4]=n("div",null,[n("h1",{class:"text-xl sm:text-2xl font-bold text-foreground"},"User Management"),n("p",{class:"text-sm text-muted-foreground mt-1"},"Manage system users, roles, and permissions")],-1)),t(e(f),{as:e(b),href:"/admin/users/create"},{default:a(()=>[t(e(z),{class:"mr-2 h-4 w-4"}),s[3]||(s[3]=r(" Create New User "))]),_:1},8,["as"])]),t(e(C),null,{default:a(()=>[t(e(S),{class:"pt-6"},{default:a(()=>{var o;return[n("div",xe,[t(e(me),{class:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),t(e(te),{modelValue:m.value,"onUpdate:modelValue":s[0]||(s[0]=g=>m.value=g),type:"text",placeholder:"Search users by name, email, or role...",class:"pl-10 pr-10"},null,8,["modelValue"]),m.value?(u(),c(e(f),{key:0,onClick:$,variant:"ghost",size:"sm",class:"absolute right-1 top-1/2 transform -translate-y-1/2 h-8 w-8 p-0 hover:bg-muted"},{default:a(()=>[t(e(fe),{class:"h-4 w-4"})]),_:1})):v("",!0)]),m.value?(u(),_("div",he,[r(' Searching for: "'+i(m.value)+'" ',1),((o=l.users)==null?void 0:o.total)!==void 0?(u(),_("span",pe," - "+i(l.users.total)+" result(s) found",1)):v("",!0)])):v("",!0)]}),_:1})]),_:1}),t(e(C),null,{default:a(()=>[t(e(X),null,{default:a(()=>[t(e(H),{class:"flex items-center"},{default:a(()=>[t(e(V),{class:"mr-2 h-5 w-5"}),s[5]||(s[5]=r(" System Users "))]),_:1}),t(e(O),null,{default:a(()=>{var o,g,k;return[r(" Showing "+i(((g=(o=x.users)==null?void 0:o.data)==null?void 0:g.length)||0)+" users "+i((k=x.users)!=null&&k.total?`of ${x.users.total} total`:""),1)]}),_:1})]),_:1}),t(e(S),null,{default:a(()=>[n("div",ye,[t(e(J),null,{default:a(()=>[t(e(K),null,{default:a(()=>[t(e(U),null,{default:a(()=>[t(e(h),null,{default:a(()=>s[6]||(s[6]=[r("User")])),_:1}),t(e(h),{class:"hidden sm:table-cell"},{default:a(()=>s[7]||(s[7]=[r("Email")])),_:1}),t(e(h),null,{default:a(()=>s[8]||(s[8]=[r("Role")])),_:1}),t(e(h),{class:"text-right"},{default:a(()=>s[9]||(s[9]=[r("Actions")])),_:1})]),_:1})]),_:1}),t(e(Q),null,{default:a(()=>[(u(!0),_(F,null,I(l.users.data,o=>(u(),c(e(U),{key:o.id,class:"hover:bg-muted/50"},{default:a(()=>[t(e(p),null,{default:a(()=>[n("div",be,[t(e(Z),{class:"h-8 w-8"},{default:a(()=>[t(e(ee),{class:"bg-muted text-muted-foreground text-sm"},{default:a(()=>[r(i(q(o.name)),1)]),_:2},1024)]),_:2},1024),n("div",null,[n("div",$e,i(o.name),1),n("div",we,i(o.email),1)])])]),_:2},1024),t(e(p),{class:"hidden sm:table-cell"},{default:a(()=>[n("div",ke,i(o.email),1)]),_:2},1024),t(e(p),null,{default:a(()=>[t(e(Y),{variant:E(o.role)},{default:a(()=>[r(i(o.role),1)]),_:2},1032,["variant"])]),_:2},1024),t(e(p),{class:"text-right"},{default:a(()=>[n("div",Ce,[t(e(f),{as:e(b),href:`/admin/users/${o.id}/edit`,variant:"ghost",size:"sm"},{default:a(()=>[t(e(ce),{class:"h-4 w-4"})]),_:2},1032,["as","href"]),t(e(se),null,{default:a(()=>[t(e(de),{asChild:""},{default:a(()=>[t(e(f),{variant:"ghost",size:"sm",class:"text-destructive hover:text-destructive hover:bg-destructive/10"},{default:a(()=>[t(e(_e),{class:"h-4 w-4"})]),_:1})]),_:1}),t(e(ae),null,{default:a(()=>[t(e(re),null,{default:a(()=>[t(e(le),null,{default:a(()=>s[10]||(s[10]=[r("Delete User")])),_:1}),t(e(oe),null,{default:a(()=>[s[11]||(s[11]=r(" Are you sure you want to delete ")),n("strong",null,i(o.name),1),s[12]||(s[12]=r("? This action cannot be undone and will permanently remove the user from the system. "))]),_:2},1024)]),_:2},1024),t(e(ne),null,{default:a(()=>[t(e(ue),null,{default:a(()=>s[13]||(s[13]=[r("Cancel")])),_:1}),t(e(ie),{onClick:g=>B(o.id),class:"bg-destructive text-destructive-foreground hover:bg-destructive/90"},{default:a(()=>s[14]||(s[14]=[r(" Delete User ")])),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1024)])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1}),!l.users.data||l.users.data.length===0?(u(),_("div",Se,[t(e(V),{class:"mx-auto h-12 w-12 text-muted-foreground mb-4"}),n("h3",Ue,i(m.value?"No users found matching your search":"No users found"),1),n("p",Ne,i(m.value?"Try adjusting your search terms":"Get started by creating your first user"),1),n("div",ze,[m.value?(u(),c(e(f),{key:0,onClick:$,variant:"outline"},{default:a(()=>s[15]||(s[15]=[r(" Clear Search ")])),_:1})):v("",!0),t(e(f),{as:e(b),href:"/admin/users/create"},{default:a(()=>[t(e(z),{class:"mr-2 h-4 w-4"}),s[16]||(s[16]=r(" Create New User "))]),_:1},8,["as"])])])):v("",!0)]),l.users.data&&l.users.data.length>0?(u(),_("div",Ve,[l.users.prev_page_url?(u(),c(e(f),{key:0,onClick:s[1]||(s[1]=o=>w(l.users.current_page-1)),variant:"outline",size:"sm"},{default:a(()=>[t(e(j),{class:"mr-2 h-4 w-4"}),s[17]||(s[17]=r(" Previous "))]),_:1})):(u(),c(e(f),{key:1,variant:"outline",size:"sm",disabled:""},{default:a(()=>[t(e(j),{class:"mr-2 h-4 w-4"}),s[18]||(s[18]=r(" Previous "))]),_:1})),n("div",je,[l.users.from&&l.users.to&&l.users.total?(u(),_("span",Pe,[r(" Showing "+i(l.users.from)+" to "+i(l.users.to)+" of "+i(l.users.total)+" users ",1),m.value?(u(),_("span",Te,"(filtered)")):v("",!0)])):l.users.data?(u(),_("span",De,i(l.users.data.length)+" users ",1)):v("",!0)]),l.users.next_page_url?(u(),c(e(f),{key:2,onClick:s[2]||(s[2]=o=>w(l.users.current_page+1)),variant:"outline",size:"sm"},{default:a(()=>[s[19]||(s[19]=r(" Next ")),t(e(N),{class:"ml-2 h-4 w-4"})]),_:1})):(u(),c(e(f),{key:3,variant:"outline",size:"sm",disabled:""},{default:a(()=>[s[20]||(s[20]=r(" Next ")),t(e(N),{class:"ml-2 h-4 w-4"})]),_:1}))])):v("",!0)]),_:1})]),_:1})])]),_:1}))}});export{ft as default};
