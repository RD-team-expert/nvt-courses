import{d as Y,r as Z,W as tt,l as et,g as f,o as d,w as a,e as o,b as e,u as t,f as i,a as c,F as w,i as y,t as u,k as st,n as at}from"./app-D1iuQuAS.js";import{_ as rt}from"./AdminLayout.vue_vue_type_script_setup_true_lang-DSrzk_a5.js";import{l as ot}from"./lodash-C5JpJmLk.js";import{_ as R}from"./Button.vue_vue_type_script_setup_true_lang-B6guOrk9.js";import{_ as A}from"./Input.vue_vue_type_script_setup_true_lang-Q_wP61AQ.js";import{_ as x}from"./Label.vue_vue_type_script_setup_true_lang-B02gSzTF.js";import{_ as U}from"./Card.vue_vue_type_script_setup_true_lang-C8owrlZX.js";import{_ as lt}from"./CardContent.vue_vue_type_script_setup_true_lang-Dv9L4bYL.js";import{_ as it}from"./CardDescription.vue_vue_type_script_setup_true_lang-Cr3sIgbe.js";import{_ as nt}from"./CardHeader.vue_vue_type_script_setup_true_lang-BYd_UuNO.js";import{_ as dt}from"./CardTitle.vue_vue_type_script_setup_true_lang-DYKMAbSa.js";import{_ as D,a as F,b as B,c as P,d as _}from"./SelectValue.vue_vue_type_script_setup_true_lang-BXNzbp9Y.js";import{_ as ut,a as mt,b as C,c as p,d as ft,e as m}from"./TableHeader.vue_vue_type_script_setup_true_lang-BLVMulAi.js";import{_ as j}from"./index-C6bUSNpo.js";import{D as _t}from"./download-Bhq8JzZr.js";import{F as pt}from"./filter-C0vhG9cf.js";import{R as ct}from"./rotate-ccw-D-8sWC8M.js";import{U as gt}from"./user-7CP4ORxK.js";import{G as N}from"./graduation-cap-BgGYoJ_j.js";import{C as vt}from"./calendar-CVCx91yE.js";import{C as E}from"./circle-check-big-Cah-hv3l.js";import{S as L}from"./star-BCcuY6O7.js";import{C as T}from"./circle-alert-DgQFzqVO.js";import{C as xt}from"./clock-DuWYNqKe.js";import"./AppLayout.vue_vue_type_script_setup_true_lang-BJ4v1iK_.js";import"./index-C-eXEaxx.js";import"./index-cxKlnwRr.js";import"./_plugin-vue_export-helper-CNTzoLEc.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-B8mjJVhD.js";import"./useForwardPropsEmits-CaMRiGXG.js";import"./Presence-BTuyg9bi.js";import"./ConfigProvider-CMIbd6EP.js";import"./useForwardExpose-DPaRiLSN.js";import"./Teleport-DEOg4npb.js";import"./handleAndDispatchCustomEvent-ChOKVcqp.js";import"./chevron-up-BYAl6iqh.js";import"./Collection-B6Fpp8V6.js";import"./usePrimitiveElement-Iyaaey7T.js";import"./check-B4VzfPtJ.js";import"./useSize-fO1tsWuM.js";import"./ohash.D__AXeF1-DHF4M4F_.js";import"./nullish-CHIgUVhi.js";import"./VisuallyHidden-BhWzHVw0.js";const wt={class:"px-4 sm:px-0 space-y-6"},yt={class:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4"},Ct={class:"flex items-center"},ht={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4"},$t={class:"space-y-2"},St={class:"space-y-2"},kt={class:"space-y-2"},bt={class:"space-y-2"},Vt={class:"flex justify-end mt-4"},Rt={class:"overflow-x-auto"},At={class:"flex items-center"},Ut={class:"flex items-center"},Dt={class:"flex items-center"},Ft={class:"flex items-center"},Bt={class:"flex items-center"},Pt={class:"flex flex-col items-center"},jt={class:"space-y-1"},Nt={class:"font-medium text-foreground"},Et={class:"text-sm text-muted-foreground"},Lt={class:"text-sm text-foreground"},Tt={class:"text-sm text-foreground"},Gt={key:0,class:"flex items-center space-x-2"},It={class:"text-sm font-medium"},Wt={class:"flex"},qt={key:1,class:"text-muted-foreground"},Be=Y({__name:"CourseRegistrations",props:{registrations:Array,courses:Array,filters:Object},setup(g){var S,k,b,V;const v=g,G=[{name:"Dashboard",href:route("dashboard")},{name:"Reports & Analytics",href:route("admin.reports.index")},{name:"Course Registrations",href:route("admin.reports.course-registrations")}],n=Z({course_id:((S=v.filters)==null?void 0:S.course_id)||"",status:((k=v.filters)==null?void 0:k.status)||"",date_from:((b=v.filters)==null?void 0:b.date_from)||"",date_to:((V=v.filters)==null?void 0:V.date_to)||""}),I=r=>{n.value.course_id=r==="all"?"":r},W=r=>{n.value.status=r==="all"?"":r},h=ot.debounce(()=>{const r={...n.value};r.date_from&&(r.date_from=r.date_from.trim()),r.date_to&&(r.date_to=r.date_to.trim()),tt.get(route("admin.reports.course-registrations"),r,{preserveState:!0,replace:!0})},500);et(n,()=>{h()},{deep:!0});const q=()=>{n.value={course_id:"",status:"",date_from:"",date_to:""},h()},z=()=>{const r=new URLSearchParams(n.value).toString();window.location.href=route("admin.reports.export.course-registrations")+"?"+r},$=r=>r?new Date(r).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"—",O=r=>{switch(r){case"pending":return"secondary";case"in_progress":return"default";case"completed":return"outline";default:return"secondary"}},H=r=>{switch(r){case"pending":return T;case"in_progress":return xt;case"completed":return E;default:return T}},J=r=>r.replace("_"," ").charAt(0).toUpperCase()+r.replace("_"," ").slice(1),K=r=>{const s=[];for(let l=1;l<=5;l++)s.push(l<=r?"filled":"empty");return s};return(r,s)=>(d(),f(rt,{breadcrumbs:G},{default:a(()=>[o("div",wt,[o("div",yt,[s[3]||(s[3]=o("div",null,[o("h1",{class:"text-xl sm:text-2xl font-bold text-foreground"},"Course Registrations Report"),o("p",{class:"text-sm text-muted-foreground mt-1"},"Comprehensive reporting interface for tracking course registration statistics and user enrollment data")],-1)),e(t(R),{onClick:z,class:"w-full sm:w-auto"},{default:a(()=>[e(t(_t),{class:"mr-2 h-4 w-4"}),s[2]||(s[2]=i(" Export to CSV "))]),_:1})]),e(t(U),null,{default:a(()=>[e(t(nt),null,{default:a(()=>[o("div",Ct,[e(t(pt),{class:"mr-2 h-5 w-5 text-primary"}),o("div",null,[e(t(dt),null,{default:a(()=>s[4]||(s[4]=[i("Filter Registrations")])),_:1}),e(t(it),null,{default:a(()=>s[5]||(s[5]=[i("Use the filters below to narrow down the registration records")])),_:1})])])]),_:1}),e(t(lt),null,{default:a(()=>[o("div",ht,[o("div",$t,[e(t(x),{for:"course_filter"},{default:a(()=>s[6]||(s[6]=[i("Course")])),_:1}),e(t(D),{"model-value":n.value.course_id||"all","onUpdate:modelValue":I},{default:a(()=>[e(t(F),{id:"course_filter"},{default:a(()=>[e(t(B),{placeholder:"All Courses"})]),_:1}),e(t(P),null,{default:a(()=>[e(t(_),{value:"all"},{default:a(()=>s[7]||(s[7]=[i("All Courses")])),_:1}),(d(!0),c(w,null,y(g.courses,l=>(d(),f(t(_),{key:l.id,value:l.id.toString()},{default:a(()=>[i(u(l.name),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["model-value"])]),o("div",St,[e(t(x),{for:"status_filter"},{default:a(()=>s[8]||(s[8]=[i("Status")])),_:1}),e(t(D),{"model-value":n.value.status||"all","onUpdate:modelValue":W},{default:a(()=>[e(t(F),{id:"status_filter"},{default:a(()=>[e(t(B),{placeholder:"All Statuses"})]),_:1}),e(t(P),null,{default:a(()=>[e(t(_),{value:"all"},{default:a(()=>s[9]||(s[9]=[i("All Statuses")])),_:1}),e(t(_),{value:"pending"},{default:a(()=>s[10]||(s[10]=[i("Pending")])),_:1}),e(t(_),{value:"in_progress"},{default:a(()=>s[11]||(s[11]=[i("In Progress")])),_:1}),e(t(_),{value:"completed"},{default:a(()=>s[12]||(s[12]=[i("Completed")])),_:1})]),_:1})]),_:1},8,["model-value"])]),o("div",kt,[e(t(x),{for:"date_from"},{default:a(()=>s[13]||(s[13]=[i("Date From")])),_:1}),e(t(A),{id:"date_from",type:"date",modelValue:n.value.date_from,"onUpdate:modelValue":s[0]||(s[0]=l=>n.value.date_from=l)},null,8,["modelValue"])]),o("div",bt,[e(t(x),{for:"date_to"},{default:a(()=>s[14]||(s[14]=[i("Date To")])),_:1}),e(t(A),{id:"date_to",type:"date",modelValue:n.value.date_to,"onUpdate:modelValue":s[1]||(s[1]=l=>n.value.date_to=l)},null,8,["modelValue"])])]),o("div",Vt,[e(t(R),{onClick:q,variant:"outline"},{default:a(()=>[e(t(ct),{class:"mr-2 h-4 w-4"}),s[15]||(s[15]=i(" Reset Filters "))]),_:1})])]),_:1})]),_:1}),e(t(U),null,{default:a(()=>[o("div",Rt,[e(t(ut),null,{default:a(()=>[e(t(mt),null,{default:a(()=>[e(t(C),null,{default:a(()=>[e(t(p),null,{default:a(()=>[o("div",At,[e(t(gt),{class:"mr-2 h-4 w-4"}),s[16]||(s[16]=i(" User "))])]),_:1}),e(t(p),null,{default:a(()=>[o("div",Ut,[e(t(N),{class:"mr-2 h-4 w-4"}),s[17]||(s[17]=i(" Course "))])]),_:1}),e(t(p),null,{default:a(()=>s[18]||(s[18]=[i("Status")])),_:1}),e(t(p),null,{default:a(()=>[o("div",Dt,[e(t(vt),{class:"mr-2 h-4 w-4"}),s[19]||(s[19]=i(" Registered At "))])]),_:1}),e(t(p),null,{default:a(()=>[o("div",Ft,[e(t(E),{class:"mr-2 h-4 w-4"}),s[20]||(s[20]=i(" Completed At "))])]),_:1}),e(t(p),null,{default:a(()=>[o("div",Bt,[e(t(L),{class:"mr-2 h-4 w-4"}),s[21]||(s[21]=i(" Rating "))])]),_:1})]),_:1})]),_:1}),e(t(ft),null,{default:a(()=>[g.registrations.length===0?(d(),f(t(C),{key:0},{default:a(()=>[e(t(m),{colspan:"6",class:"text-center text-muted-foreground py-8"},{default:a(()=>[o("div",Pt,[e(t(N),{class:"h-12 w-12 text-muted-foreground mb-2"}),s[22]||(s[22]=i(" No registration records found "))])]),_:1})]),_:1})):(d(!0),c(w,{key:1},y(g.registrations,(l,M)=>(d(),f(t(C),{key:M,class:"hover:bg-muted/50"},{default:a(()=>[e(t(m),null,{default:a(()=>[o("div",jt,[o("div",Nt,u(l.user_name),1),o("div",Et,u(l.user_email),1)])]),_:2},1024),e(t(m),null,{default:a(()=>[e(t(j),{variant:"outline"},{default:a(()=>[i(u(l.course_name),1)]),_:2},1024)]),_:2},1024),e(t(m),null,{default:a(()=>[e(t(j),{variant:O(l.status),class:"flex items-center w-fit"},{default:a(()=>[(d(),f(st(H(l.status)),{class:"mr-1 h-3 w-3"})),i(" "+u(J(l.status)),1)]),_:2},1032,["variant"])]),_:2},1024),e(t(m),null,{default:a(()=>[o("div",Lt,u($(l.registered_at)),1)]),_:2},1024),e(t(m),null,{default:a(()=>[o("div",Tt,u(l.completed_at?$(l.completed_at):"—"),1)]),_:2},1024),e(t(m),null,{default:a(()=>[l.rating?(d(),c("div",Gt,[o("span",It,u(l.rating)+"/5",1),o("div",Wt,[(d(!0),c(w,null,y(K(l.rating),(Q,X)=>(d(),f(t(L),{key:X,class:at(["h-4 w-4",Q==="filled"?"text-yellow-400 fill-yellow-400":"text-muted-foreground"])},null,8,["class"]))),128))])])):(d(),c("span",qt,"—"))]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})])]),_:1})])]),_:1}))}});export{Be as default};
