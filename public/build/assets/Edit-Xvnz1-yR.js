import{d as T,C as A,r as D,a as u,o as c,b as s,u as e,m as E,w as r,e as o,P as v,f as i,j as B,h as p,n as y,t as d,F,W as N}from"./app-BMyidKIh.js";import{m as L,f as P}from"./AppLayout.vue_vue_type_script_setup_true_lang-CeyhSayX.js";import{_}from"./Button.vue_vue_type_script_setup_true_lang-Fk6a1Vva.js";import{_ as x}from"./Card.vue_vue_type_script_setup_true_lang-CQovGjFq.js";import{_ as b}from"./CardContent.vue_vue_type_script_setup_true_lang-Dyzxu5FP.js";import{_ as w}from"./CardDescription.vue_vue_type_script_setup_true_lang-CvcJ_Am_.js";import{_ as C}from"./CardHeader.vue_vue_type_script_setup_true_lang-_dtBwzkO.js";import{_ as k}from"./CardTitle.vue_vue_type_script_setup_true_lang-zaBMsOvU.js";import{_ as h}from"./Input.vue_vue_type_script_setup_true_lang-BnRJBFP3.js";import{_ as f}from"./Label.vue_vue_type_script_setup_true_lang-Coq7pT1m.js";import{_ as j}from"./Textarea.vue_vue_type_script_setup_true_lang-7L_wYbMO.js";import{_ as M}from"./Switch.vue_vue_type_script_setup_true_lang-29U-kBq1.js";import{A as q}from"./arrow-left-WoxIE4Hy.js";import{F as z}from"./folder-open-DjWkNtHJ.js";import{C as O}from"./chart-column-COwNpHUF.js";import{S as W}from"./square-play-D3nHx9E6.js";import{C as I}from"./circle-check-big-Cmw2hoxS.js";import{T as R}from"./trash-2-DdRoljCP.js";import{S as G}from"./save-AWffgFEF.js";import{T as H}from"./triangle-alert-BGzxpn4P.js";import"./index-B9hR5wOz.js";import"./index-C3Bn3h4x.js";import"./_plugin-vue_export-helper-Cg8ARLjz.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-CPGGLHXe.js";import"./clock-C9ZtgHl0.js";import"./useForwardPropsEmits-DPcO4mtR.js";import"./useForwardExpose-DMAVYlpA.js";import"./VisuallyHidden-hOZS4qMA.js";import"./VisuallyHiddenInput-BJXawX5X.js";import"./usePrimitiveElement-s00YWk2f.js";const J={class:"max-w-2xl mx-auto space-y-6"},K={class:"flex items-center gap-4"},Q={class:"space-y-2"},X={key:0,class:"text-sm text-destructive"},Y={class:"space-y-2"},Z={key:0,class:"text-sm text-destructive"},ee={class:"space-y-2"},te={class:"flex items-center gap-2 px-3 py-2 bg-muted rounded-md"},se={class:"text-sm text-muted-foreground"},oe={class:"space-y-2"},re={key:0,class:"text-sm text-destructive"},ae={class:"flex items-center justify-between"},ie={class:"space-y-1"},de={class:"grid grid-cols-2 gap-4"},le={class:"text-center p-4 bg-blue-50 dark:bg-blue-950/50 rounded-lg border border-blue-200 dark:border-blue-800"},ne={class:"text-2xl font-bold text-blue-900 dark:text-blue-100"},me={class:"text-center p-4 bg-green-50 dark:bg-green-950/50 rounded-lg border border-green-200 dark:border-green-800"},ue={class:"text-2xl font-bold text-green-900 dark:text-green-100"},ce={class:"mt-4 text-sm text-muted-foreground text-center"},fe={class:"flex justify-between items-center"},ge={class:"flex gap-2"},pe={key:0,class:"p-4 bg-yellow-50 dark:bg-yellow-950/50 border border-yellow-200 dark:border-yellow-800 rounded-lg"},_e={class:"flex items-start gap-2"},ve={class:"text-sm"},ye={class:"text-yellow-700 dark:text-yellow-300"},Ke=T({__name:"Edit",props:{category:{}},setup(V){const l=V,$=[{title:"Video Categories",href:"/admin/video-categories"},{title:"Edit Category",href:""}],a=A({name:l.category.name,description:l.category.description||"",is_active:l.category.is_active,sort_order:l.category.sort_order}),g=D(!1),S=async()=>{g.value=!0,a.put(`/admin/video-categories/${l.category.id}`,{onFinish:()=>{g.value=!1}})},U=()=>{if(l.category.videos_count>0){alert("Cannot delete category with videos. Please remove all videos first.");return}confirm(`Are you sure you want to delete "${l.category.name}"? This action cannot be undone.`)&&N.delete(`/admin/video-categories/${l.category.id}`)};return(n,t)=>(c(),u(F,null,[s(e(E),{title:`Edit ${n.category.name}`},null,8,["title"]),s(P,{breadcrumbs:$},{default:r(()=>[o("div",J,[o("div",K,[s(e(_),{"as-child":"",variant:"ghost"},{default:r(()=>[s(e(v),{href:"/admin/video-categories"},{default:r(()=>[s(e(q),{class:"h-4 w-4 mr-2"}),t[4]||(t[4]=i(" Back to Categories "))]),_:1})]),_:1}),t[5]||(t[5]=o("div",null,[o("h1",{class:"text-2xl font-bold"},"Edit Video Category"),o("p",{class:"text-muted-foreground"},"Update category details and settings")],-1))]),o("form",{onSubmit:B(S,["prevent"]),class:"space-y-6"},[s(e(x),null,{default:r(()=>[s(e(C),null,{default:r(()=>[s(e(k),{class:"flex items-center gap-2"},{default:r(()=>[s(e(z),{class:"h-5 w-5"}),t[6]||(t[6]=i(" Category Information "))]),_:1}),s(e(w),null,{default:r(()=>t[7]||(t[7]=[i(" Update the details for your video category ")])),_:1})]),_:1}),s(e(b),{class:"space-y-4"},{default:r(()=>[o("div",Q,[s(e(f),{for:"name"},{default:r(()=>t[8]||(t[8]=[i("Category Name")])),_:1}),s(e(h),{id:"name",modelValue:e(a).name,"onUpdate:modelValue":t[0]||(t[0]=m=>e(a).name=m),type:"text",placeholder:"Enter category name...",class:y({"border-destructive":e(a).errors.name}),required:""},null,8,["modelValue","class"]),e(a).errors.name?(c(),u("div",X,d(e(a).errors.name),1)):p("",!0)]),o("div",Y,[s(e(f),{for:"description"},{default:r(()=>t[9]||(t[9]=[i("Description")])),_:1}),s(e(j),{id:"description",modelValue:e(a).description,"onUpdate:modelValue":t[1]||(t[1]=m=>e(a).description=m),placeholder:"Describe this video category...",rows:"4",class:y({"border-destructive":e(a).errors.description})},null,8,["modelValue","class"]),e(a).errors.description?(c(),u("div",Z,d(e(a).errors.description),1)):p("",!0)]),o("div",ee,[s(e(f),null,{default:r(()=>t[10]||(t[10]=[i("URL Slug")])),_:1}),o("div",te,[s(e(v),{class:"h-4 w-4 text-muted-foreground"}),o("span",se,d(n.category.slug),1)]),t[11]||(t[11]=o("div",{class:"text-sm text-muted-foreground"}," Auto-generated from category name ",-1))]),o("div",oe,[s(e(f),{for:"sort_order"},{default:r(()=>t[12]||(t[12]=[i("Sort Order")])),_:1}),s(e(h),{id:"sort_order",modelValue:e(a).sort_order,"onUpdate:modelValue":t[2]||(t[2]=m=>e(a).sort_order=m),type:"number",min:"0",max:"999",placeholder:"0",class:y({"border-destructive":e(a).errors.sort_order})},null,8,["modelValue","class"]),e(a).errors.sort_order?(c(),u("div",re,d(e(a).errors.sort_order),1)):p("",!0),t[13]||(t[13]=o("div",{class:"text-sm text-muted-foreground"}," Lower numbers appear first (0-999) ",-1))])]),_:1})]),_:1}),s(e(x),null,{default:r(()=>[s(e(C),null,{default:r(()=>[s(e(k),{class:"flex items-center gap-2"},{default:r(()=>[s(e(L),{class:"h-5 w-5"}),t[14]||(t[14]=i(" Category Settings "))]),_:1}),s(e(w),null,{default:r(()=>t[15]||(t[15]=[i(" Configure the category status and visibility ")])),_:1})]),_:1}),s(e(b),{class:"space-y-4"},{default:r(()=>[o("div",ae,[o("div",ie,[s(e(f),null,{default:r(()=>t[16]||(t[16]=[i("Active Status")])),_:1}),t[17]||(t[17]=o("div",{class:"text-sm text-muted-foreground"}," Make this category available for video organization ",-1))]),s(e(M),{checked:e(a).is_active,"onUpdate:checked":t[3]||(t[3]=m=>e(a).is_active=m)},null,8,["checked"])])]),_:1})]),_:1}),s(e(x),null,{default:r(()=>[s(e(C),null,{default:r(()=>[s(e(k),{class:"flex items-center gap-2"},{default:r(()=>[s(e(O),{class:"h-5 w-5"}),t[18]||(t[18]=i(" Category Statistics "))]),_:1}),s(e(w),null,{default:r(()=>t[19]||(t[19]=[i(" Current usage statistics for this category ")])),_:1})]),_:1}),s(e(b),null,{default:r(()=>[o("div",de,[o("div",le,[s(e(W),{class:"h-8 w-8 mx-auto mb-2 text-blue-600 dark:text-blue-400"}),o("div",ne,d(n.category.videos_count),1),t[20]||(t[20]=o("div",{class:"text-sm text-blue-700 dark:text-blue-300"},"Total Videos",-1))]),o("div",me,[s(e(I),{class:"h-8 w-8 mx-auto mb-2 text-green-600 dark:text-green-400"}),o("div",ue,d(n.category.active_videos_count),1),t[21]||(t[21]=o("div",{class:"text-sm text-green-700 dark:text-green-300"},"Active Videos",-1))])]),o("div",ce," Created "+d(new Date(n.category.created_at).toLocaleDateString()),1)]),_:1})]),_:1}),o("div",fe,[o("div",ge,[s(e(_),{"as-child":"",variant:"outline"},{default:r(()=>[s(e(v),{href:"/admin/video-categories"},{default:r(()=>t[22]||(t[22]=[i("Cancel")])),_:1})]),_:1}),s(e(_),{type:"button",variant:"destructive",onClick:U,disabled:n.category.videos_count>0},{default:r(()=>[s(e(R),{class:"h-4 w-4 mr-2"}),t[23]||(t[23]=i(" Delete Category "))]),_:1},8,["disabled"])]),s(e(_),{type:"submit",disabled:g.value||e(a).processing},{default:r(()=>[s(e(G),{class:"h-4 w-4 mr-2"}),i(" "+d(g.value?"Updating...":"Update Category"),1)]),_:1},8,["disabled"])]),n.category.videos_count>0?(c(),u("div",pe,[o("div",_e,[s(e(H),{class:"h-5 w-5 text-yellow-600 dark:text-yellow-400 mt-0.5"}),o("div",ve,[t[24]||(t[24]=o("div",{class:"font-medium text-yellow-800 dark:text-yellow-200"},"Cannot delete this category",-1)),o("div",ye," This category contains "+d(n.category.videos_count)+" video(s). Move or delete all videos before deleting this category. ",1)])])])):p("",!0)],32)])]),_:1})],64))}});export{Ke as default};
