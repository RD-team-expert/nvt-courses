import{c as I,_ as ee}from"./Button.vue_vue_type_script_setup_true_lang-DNqWTjl2.js";import{_ as te}from"./Card.vue_vue_type_script_setup_true_lang-A8WG6GOp.js";import{_ as ae}from"./CardContent.vue_vue_type_script_setup_true_lang-C0P-sboE.js";import{_ as ne}from"./CardDescription.vue_vue_type_script_setup_true_lang-Bu6T4zC6.js";import{_ as le}from"./CardHeader.vue_vue_type_script_setup_true_lang-B1JXwWzJ.js";import{_ as se}from"./CardTitle.vue_vue_type_script_setup_true_lang-CfsAIejd.js";import{b as oe,a as re,c as de,e as ie,d as ue,_ as ce}from"./TableHeader.vue_vue_type_script_setup_true_lang-DfWzzyAT.js";import{_ as me}from"./index-M46Jp1H4.js";import{c as fe,b as _e,a as ge,_ as xe}from"./DialogTitle.vue_vue_type_script_setup_true_lang-DnrTToTj.js";import{_ as pe,U as ve}from"./_plugin-vue_export-helper-C_B9qUyA.js";import{D as be}from"./download-CzdI61Su.js";import{C as ye}from"./circle-x-DXmVNGJU.js";import{C as Ce}from"./circle-check-big-DGC-KaVv.js";import{A as ke}from"./activity-CL7xWFwa.js";import{T as we}from"./trophy-3nBXSjVt.js";import{S as De}from"./star-CVZd43eI.js";import{T as he}from"./trending-up-DG6I3ud3.js";import{C as Te}from"./chart-column-BxaJVBBM.js";import{A as Se}from"./arrow-left-IwkGRVeb.js";import{bo as i,a as S,o as k,b as e,e as n,w as t,f as s,t as r,g as P,F as E,i as K,h as Pe,r as N,c as Ue,z as Be}from"./app-CwrLmt4H.js";import"./index-Bl0m2vYu.js";/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ae=I("CameraIcon",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Re=I("CopyIcon",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Me=I("MessageCircleIcon",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]),Ie={name:"MonthlyKpiScreenshot",components:{Button:ee,Card:te,CardContent:ae,CardDescription:ne,CardHeader:le,CardTitle:se,Table:ce,TableBody:ue,TableCell:ie,TableHead:de,TableHeader:re,TableRow:oe,Badge:me,Dialog:xe,DialogContent:ge,DialogHeader:_e,DialogTitle:fe,Camera:Ae,ArrowLeft:Se,BarChart3:Te,Users:ve,TrendingUp:he,Star:De,Trophy:we,Activity:ke,CheckCircle:Ce,XCircle:ye,MessageCircle:Me,Download:be,Copy:Re},props:{kpiData:{type:Object,required:!0},currentFilters:{type:Object,required:!0},departments:{type:Array,default:()=>[]},courses:{type:Array,default:()=>[]},lastUpdated:{type:String,required:!0}},setup(h){const a=N(!1),o=N(null),f=Ue(()=>`/admin/reports/monthly-kpi?${new URLSearchParams(h.currentFilters).toString()}`),j=async()=>{try{if(a.value=!0,!window.html2canvas){const C=document.createElement("script");C.src="https://html2canvas.hertzen.com/dist/html2canvas.min.js",document.head.appendChild(C),await new Promise(v=>{C.onload=v})}const d=document.getElementById("screenshot-content");if(!d)throw new Error("Screenshot content not found");(await window.html2canvas(d,{backgroundColor:"#ffffff",scale:1.5,useCORS:!0,allowTaint:!0,width:d.scrollWidth,height:d.scrollHeight,scrollX:0,scrollY:0})).toBlob(C=>{C&&(o.value=URL.createObjectURL(C),console.log("✅ Screenshot captured successfully"))},"image/png",.9)}catch(d){console.error("❌ Screenshot failed:",d),alert("Screenshot failed. Please try using your browser's built-in screenshot (Ctrl/Cmd + Shift + S)")}finally{a.value=!1}},H=()=>{if(!o.value)return;const d=document.createElement("a");d.href=o.value,d.download=`KPI_Report_${h.currentFilters.month}_${h.currentFilters.year}.png`,document.body.appendChild(d),d.click(),document.body.removeChild(d)},T=async()=>{if(o.value)try{const g=await(await fetch(o.value)).blob();await navigator.clipboard.write([new ClipboardItem({"image/png":g})]),alert("📋 Screenshot copied to clipboard!")}catch(d){console.error("Copy failed:",d),alert("Copy failed. Please download instead.")}},w=d=>new Date(d).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),U=d=>new Date(d).toLocaleString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}),c=(d,g)=>d>=g?"✅ Good":d>=g*.7?"⚠️ Fair":"❌ Poor",m=(d,g)=>d>=g?"default":d>=g*.7?"secondary":"destructive",D=d=>{switch(d){case"up":return"↗️";case"down":return"↘️";default:return"➡️"}};return Be(()=>{console.log("📸 KPI Screenshot page loaded")}),{capturing:a,screenshotUrl:o,backUrl:f,captureScreenshot:j,downloadScreenshot:H,copyToClipboard:T,formatDate:w,formatDateTime:U,getStatus:c,getStatusVariant:m,getTrendArrow:D}}},je={class:"min-h-screen bg-background"},He={class:"flex justify-between items-center max-w-7xl mx-auto"},Le={class:"flex gap-3"},ze={id:"screenshot-content",class:"max-w-7xl mx-auto bg-background p-8"},Ve={class:"text-xl text-muted-foreground mb-2"},qe={class:"text-sm text-muted-foreground"},Fe={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6"},Ee={class:"text-3xl font-bold text-foreground"},Ke={class:"text-3xl font-bold text-foreground"},Ne={class:"text-3xl font-bold text-foreground"},Oe={class:"text-3xl font-bold text-primary"},Xe={class:"overflow-hidden"},Ge={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6"},Qe={class:"flex items-center justify-center gap-2 mb-3"},We={class:"text-3xl font-bold text-green-600"},Ye={class:"flex items-center justify-center gap-2 mb-3"},Ze={class:"text-3xl font-bold text-red-600"},Je={class:"flex items-center justify-center gap-2 mb-3"},$e={class:"text-3xl font-bold text-foreground"},et={class:"flex items-center justify-center gap-2 mb-3"},tt={class:"text-3xl font-bold text-foreground"},at={class:"grid grid-cols-1 lg:grid-cols-3 gap-8"},nt={class:"space-y-4"},lt={class:"text-4xl font-bold text-foreground"},st={class:"text-3xl font-bold text-foreground"},ot={class:"lg:col-span-2 space-y-4"},rt={class:"flex items-center justify-between"},dt={class:"flex items-center justify-between"},it={class:"flex items-center justify-between"},ut={class:"grid grid-cols-1 lg:grid-cols-2 gap-8"},ct={class:"flex items-center gap-2"},mt={class:"font-medium"},ft={class:"flex items-center gap-2"},_t={class:"font-medium"},gt={class:"grid grid-cols-1 md:grid-cols-3 gap-6 items-center"},xt={class:"text-4xl font-bold text-primary mb-2"},pt={class:"text-xs text-muted-foreground"},vt={class:"text-center"},bt={class:"text-4xl mb-2"},yt={class:"text-sm font-medium text-muted-foreground capitalize"},Ct={class:"text-4xl font-bold text-foreground mb-2"},kt={class:"text-xs text-muted-foreground"},wt={class:"bg-muted rounded-lg p-4 text-center space-y-2"},Dt={class:"text-sm"},ht={class:"text-sm"},Tt={class:"space-y-4"},St={class:"max-h-[60vh] overflow-y-auto border rounded-lg"},Pt=["src"],Ut={class:"flex gap-3 justify-center"};function Bt(h,a,o,f,j,H){const T=i("Camera"),w=i("Button"),U=i("ArrowLeft"),c=i("CardContent"),m=i("Card"),D=i("BarChart3"),d=i("CardTitle"),g=i("CardHeader"),C=i("Users"),v=i("TableHead"),b=i("TableRow"),B=i("TableHeader"),_=i("TableCell"),p=i("Badge"),A=i("TableBody"),R=i("Table"),L=i("TrendingUp"),O=i("CheckCircle"),X=i("XCircle"),z=i("Star"),G=i("MessageCircle"),V=i("Trophy"),q=i("CardDescription"),F=i("Activity"),Q=i("DialogTitle"),W=i("DialogHeader"),Y=i("Download"),Z=i("Copy"),J=i("DialogContent"),$=i("Dialog");return k(),S("div",je,[e(m,{class:"rounded-none border-b sticky top-0 z-50"},{default:t(()=>[e(c,{class:"p-4"},{default:t(()=>[n("div",He,[a[2]||(a[2]=n("div",null,[n("h1",{class:"text-2xl font-bold text-foreground"},"📸 KPI Report Screenshot"),n("p",{class:"text-muted-foreground"},"Generate and download professional KPI reports")],-1)),n("div",Le,[e(w,{onClick:f.captureScreenshot,disabled:f.capturing,size:"lg"},{default:t(()=>[e(T,{class:"mr-2 h-4 w-4"}),s(" "+r(f.capturing?"Capturing...":"Take Screenshot"),1)]),_:1},8,["onClick","disabled"]),e(w,{as:"a",href:f.backUrl,variant:"outline",size:"lg"},{default:t(()=>[e(U,{class:"mr-2 h-4 w-4"}),a[1]||(a[1]=s(" Back to Dashboard "))]),_:1},8,["href"])])])]),_:1})]),_:1}),n("div",ze,[e(m,{class:"mb-8"},{default:t(()=>[e(c,{class:"p-8 text-center"},{default:t(()=>{var l;return[a[3]||(a[3]=n("div",{class:"text-6xl mb-4"},"🏢",-1)),a[4]||(a[4]=n("h1",{class:"text-4xl font-bold text-foreground mb-2"},"Monthly Training KPI Report",-1)),n("p",Ve,r(((l=o.kpiData.period)==null?void 0:l.period_name)||"Current Period"),1),n("p",qe,"Generated: "+r(f.formatDate(new Date)),1)]}),_:1})]),_:1}),e(m,{class:"mb-8"},{default:t(()=>[e(g,null,{default:t(()=>[e(d,{class:"flex items-center text-2xl"},{default:t(()=>[e(D,{class:"mr-3 h-6 w-6"}),a[5]||(a[5]=s(" Key Performance Indicators "))]),_:1})]),_:1}),e(c,null,{default:t(()=>[n("div",Fe,[e(m,null,{default:t(()=>[e(c,{class:"p-6 text-center"},{default:t(()=>{var l;return[a[6]||(a[6]=n("div",{class:"text-4xl mb-3"},"📚",-1)),a[7]||(a[7]=n("div",{class:"text-sm text-muted-foreground mb-2"},"Courses Delivered",-1)),n("div",Ee,r(((l=o.kpiData.delivery_overview)==null?void 0:l.courses_delivered)||0),1)]}),_:1})]),_:1}),e(m,null,{default:t(()=>[e(c,{class:"p-6 text-center"},{default:t(()=>{var l;return[a[8]||(a[8]=n("div",{class:"text-4xl mb-3"},"👥",-1)),a[9]||(a[9]=n("div",{class:"text-sm text-muted-foreground mb-2"},"Total Enrolled",-1)),n("div",Ke,r(((l=o.kpiData.delivery_overview)==null?void 0:l.total_enrolled)||0),1)]}),_:1})]),_:1}),e(m,null,{default:t(()=>[e(c,{class:"p-6 text-center"},{default:t(()=>{var l;return[a[10]||(a[10]=n("div",{class:"text-4xl mb-3"},"🎯",-1)),a[11]||(a[11]=n("div",{class:"text-sm text-muted-foreground mb-2"},"Active Participants",-1)),n("div",Ne,r(((l=o.kpiData.delivery_overview)==null?void 0:l.active_participants)||0),1)]}),_:1})]),_:1}),e(m,{class:"border-primary bg-primary/5"},{default:t(()=>[e(c,{class:"p-6 text-center"},{default:t(()=>{var l;return[a[12]||(a[12]=n("div",{class:"text-4xl mb-3"},"✅",-1)),a[13]||(a[13]=n("div",{class:"text-sm text-muted-foreground mb-2"},"Completion Rate",-1)),n("div",Oe,r(((l=o.kpiData.delivery_overview)==null?void 0:l.completion_rate)||0)+"%",1)]}),_:1})]),_:1})])]),_:1})]),_:1}),e(m,{class:"mb-8"},{default:t(()=>[e(g,null,{default:t(()=>[e(d,{class:"flex items-center text-2xl"},{default:t(()=>[e(C,{class:"mr-3 h-6 w-6"}),a[14]||(a[14]=s(" Engagement & Attendance Metrics "))]),_:1})]),_:1}),e(c,null,{default:t(()=>[n("div",Xe,[e(R,null,{default:t(()=>[e(B,null,{default:t(()=>[e(b,null,{default:t(()=>[e(v,{class:"w-1/2"},{default:t(()=>a[15]||(a[15]=[s("Metric")])),_:1}),e(v,null,{default:t(()=>a[16]||(a[16]=[s("Current Value")])),_:1}),e(v,null,{default:t(()=>a[17]||(a[17]=[s("Status")])),_:1})]),_:1})]),_:1}),e(A,null,{default:t(()=>[e(b,null,{default:t(()=>[e(_,{class:"font-medium"},{default:t(()=>a[18]||(a[18]=[s("📋 Attendance Rate")])),_:1}),e(_,null,{default:t(()=>{var l;return[s(r(((l=o.kpiData.attendance_engagement)==null?void 0:l.average_attendance_rate)||0)+"%",1)]}),_:1}),e(_,null,{default:t(()=>{var l;return[e(p,{variant:f.getStatusVariant(((l=o.kpiData.attendance_engagement)==null?void 0:l.average_attendance_rate)||0,80)},{default:t(()=>{var u;return[s(r(f.getStatus(((u=o.kpiData.attendance_engagement)==null?void 0:u.average_attendance_rate)||0,80)),1)]}),_:1},8,["variant"])]}),_:1})]),_:1}),e(b,null,{default:t(()=>[e(_,{class:"font-medium"},{default:t(()=>a[19]||(a[19]=[s("⏱️ Average Time Spent")])),_:1}),e(_,null,{default:t(()=>{var l;return[s(r(((l=o.kpiData.attendance_engagement)==null?void 0:l.average_time_spent)||0)+" hours",1)]}),_:1}),e(_,null,{default:t(()=>{var l;return[e(p,{variant:f.getStatusVariant(((l=o.kpiData.attendance_engagement)==null?void 0:l.average_time_spent)||0,20)},{default:t(()=>{var u;return[s(r(f.getStatus(((u=o.kpiData.attendance_engagement)==null?void 0:u.average_time_spent)||0,20)),1)]}),_:1},8,["variant"])]}),_:1})]),_:1}),e(b,null,{default:t(()=>[e(_,{class:"font-medium"},{default:t(()=>a[20]||(a[20]=[s("💯 Engagement Score")])),_:1}),e(_,null,{default:t(()=>{var l;return[s(r(((l=o.kpiData.attendance_engagement)==null?void 0:l.engagement_score)||0)+"%",1)]}),_:1}),e(_,null,{default:t(()=>{var l;return[e(p,{variant:f.getStatusVariant(((l=o.kpiData.attendance_engagement)==null?void 0:l.engagement_score)||0,75)},{default:t(()=>{var u;return[s(r(f.getStatus(((u=o.kpiData.attendance_engagement)==null?void 0:u.engagement_score)||0,75)),1)]}),_:1},8,["variant"])]}),_:1})]),_:1}),e(b,null,{default:t(()=>[e(_,{class:"font-medium"},{default:t(()=>a[21]||(a[21]=[s("🔄 Login Frequency")])),_:1}),e(_,null,{default:t(()=>{var l;return[s(r(((l=o.kpiData.attendance_engagement)==null?void 0:l.login_frequency)||0)+"%",1)]}),_:1}),e(_,null,{default:t(()=>{var l;return[e(p,{variant:f.getStatusVariant(((l=o.kpiData.attendance_engagement)==null?void 0:l.login_frequency)||0,70)},{default:t(()=>{var u;return[s(r(f.getStatus(((u=o.kpiData.attendance_engagement)==null?void 0:u.login_frequency)||0,70)),1)]}),_:1},8,["variant"])]}),_:1})]),_:1})]),_:1})]),_:1})])]),_:1})]),_:1}),e(m,{class:"mb-8"},{default:t(()=>[e(g,null,{default:t(()=>[e(d,{class:"flex items-center text-2xl"},{default:t(()=>[e(L,{class:"mr-3 h-6 w-6"}),a[22]||(a[22]=s(" Learning Outcomes "))]),_:1})]),_:1}),e(c,null,{default:t(()=>[n("div",Ge,[e(m,{class:"border-green-200 bg-green-50"},{default:t(()=>[e(c,{class:"p-6 text-center"},{default:t(()=>{var l;return[n("div",Qe,[e(O,{class:"h-6 w-6 text-green-600"}),a[23]||(a[23]=n("span",{class:"text-sm text-muted-foreground"},"Quiz Pass Rate",-1))]),n("div",We,r(((l=o.kpiData.learning_outcomes)==null?void 0:l.quiz_pass_rate)||0)+"%",1)]}),_:1})]),_:1}),e(m,{class:"border-red-200 bg-red-50"},{default:t(()=>[e(c,{class:"p-6 text-center"},{default:t(()=>{var l;return[n("div",Ye,[e(X,{class:"h-6 w-6 text-red-600"}),a[24]||(a[24]=n("span",{class:"text-sm text-muted-foreground"},"Quiz Fail Rate",-1))]),n("div",Ze,r(((l=o.kpiData.learning_outcomes)==null?void 0:l.quiz_fail_rate)||0)+"%",1)]}),_:1})]),_:1}),e(m,null,{default:t(()=>[e(c,{class:"p-6 text-center"},{default:t(()=>{var l;return[n("div",Je,[e(D,{class:"h-6 w-6"}),a[25]||(a[25]=n("span",{class:"text-sm text-muted-foreground"},"Average Score",-1))]),n("div",$e,r(((l=o.kpiData.learning_outcomes)==null?void 0:l.average_quiz_score)||0)+"%",1)]}),_:1})]),_:1}),e(m,null,{default:t(()=>[e(c,{class:"p-6 text-center"},{default:t(()=>{var l;return[n("div",et,[e(L,{class:"h-6 w-6"}),a[26]||(a[26]=n("span",{class:"text-sm text-muted-foreground"},"Improvement Rate",-1))]),n("div",tt,r(((l=o.kpiData.learning_outcomes)==null?void 0:l.improvement_rate)||0)+"%",1)]}),_:1})]),_:1})])]),_:1})]),_:1}),e(m,{class:"mb-8"},{default:t(()=>[e(g,null,{default:t(()=>[e(d,{class:"flex items-center text-2xl"},{default:t(()=>[e(z,{class:"mr-3 h-6 w-6"}),a[27]||(a[27]=s(" Course Quality & Feedback "))]),_:1})]),_:1}),e(c,null,{default:t(()=>[n("div",at,[n("div",nt,[e(m,null,{default:t(()=>[e(c,{class:"p-6 text-center"},{default:t(()=>{var l;return[e(z,{class:"h-8 w-8 text-yellow-500 mx-auto mb-2"}),a[29]||(a[29]=n("div",{class:"text-sm text-muted-foreground mb-2"},"Average Rating",-1)),n("div",lt,[s(r(((l=o.kpiData.feedback_analysis)==null?void 0:l.average_rating)||0)+" ",1),a[28]||(a[28]=n("span",{class:"text-xl text-muted-foreground"},"/5",-1))])]}),_:1})]),_:1}),e(m,null,{default:t(()=>[e(c,{class:"p-6 text-center"},{default:t(()=>{var l;return[e(G,{class:"h-8 w-8 text-blue-500 mx-auto mb-2"}),a[30]||(a[30]=n("div",{class:"text-sm text-muted-foreground mb-2"},"Total Feedback",-1)),n("div",st,r(((l=o.kpiData.feedback_analysis)==null?void 0:l.total_feedback_count)||0),1)]}),_:1})]),_:1})]),n("div",ot,[e(m,{class:"border-green-200 bg-green-50"},{default:t(()=>[e(c,{class:"p-4"},{default:t(()=>[n("div",rt,[a[31]||(a[31]=n("div",{class:"flex items-center gap-3"},[n("div",{class:"text-2xl"},"😊"),n("span",{class:"font-medium"},"Positive")],-1)),e(p,{variant:"secondary",class:"text-lg px-3 py-1"},{default:t(()=>{var l,u;return[s(r(((u=(l=o.kpiData.feedback_analysis)==null?void 0:l.feedback_sentiment)==null?void 0:u.positive)||0)+"% ",1)]}),_:1})])]),_:1})]),_:1}),e(m,{class:"border-gray-200 bg-gray-50"},{default:t(()=>[e(c,{class:"p-4"},{default:t(()=>[n("div",dt,[a[32]||(a[32]=n("div",{class:"flex items-center gap-3"},[n("div",{class:"text-2xl"},"😐"),n("span",{class:"font-medium"},"Neutral")],-1)),e(p,{variant:"secondary",class:"text-lg px-3 py-1"},{default:t(()=>{var l,u;return[s(r(((u=(l=o.kpiData.feedback_analysis)==null?void 0:l.feedback_sentiment)==null?void 0:u.neutral)||0)+"% ",1)]}),_:1})])]),_:1})]),_:1}),e(m,{class:"border-red-200 bg-red-50"},{default:t(()=>[e(c,{class:"p-4"},{default:t(()=>[n("div",it,[a[33]||(a[33]=n("div",{class:"flex items-center gap-3"},[n("div",{class:"text-2xl"},"😞"),n("span",{class:"font-medium"},"Negative")],-1)),e(p,{variant:"secondary",class:"text-lg px-3 py-1"},{default:t(()=>{var l,u;return[s(r(((u=(l=o.kpiData.feedback_analysis)==null?void 0:l.feedback_sentiment)==null?void 0:u.negative)||0)+"% ",1)]}),_:1})])]),_:1})]),_:1})])])]),_:1})]),_:1}),e(m,{class:"mb-8"},{default:t(()=>[e(g,null,{default:t(()=>[e(d,{class:"flex items-center text-2xl"},{default:t(()=>[e(V,{class:"mr-3 h-6 w-6"}),a[34]||(a[34]=s(" Performance Analysis "))]),_:1})]),_:1}),e(c,null,{default:t(()=>[n("div",ut,[e(m,null,{default:t(()=>[e(g,null,{default:t(()=>[e(d,{class:"flex items-center"},{default:t(()=>[e(V,{class:"mr-2 h-5 w-5 text-yellow-500"}),a[35]||(a[35]=s(" Top Performing Courses "))]),_:1}),e(q,null,{default:t(()=>a[36]||(a[36]=[s("Based on rating & completion")])),_:1})]),_:1}),e(c,null,{default:t(()=>[e(R,null,{default:t(()=>[e(B,null,{default:t(()=>[e(b,null,{default:t(()=>[e(v,null,{default:t(()=>a[37]||(a[37]=[s("Course")])),_:1}),e(v,null,{default:t(()=>a[38]||(a[38]=[s("Rating")])),_:1}),e(v,null,{default:t(()=>a[39]||(a[39]=[s("Completion")])),_:1})]),_:1})]),_:1}),e(A,null,{default:t(()=>{var l,u,y;return[(u=(l=o.kpiData.performance_analysis)==null?void 0:l.top_performing_courses)!=null&&u.length?(k(!0),S(E,{key:1},K((((y=o.kpiData.performance_analysis)==null?void 0:y.top_performing_courses)||[]).slice(0,5),(x,M)=>(k(),P(b,{key:x.id},{default:t(()=>[e(_,null,{default:t(()=>[n("div",ct,[e(p,{variant:"outline",class:"text-xs"},{default:t(()=>[s(r(M+1),1)]),_:2},1024),n("span",mt,r(x.name),1)])]),_:2},1024),e(_,null,{default:t(()=>[e(p,{variant:"outline"},{default:t(()=>[s(r(x.rating)+"/5",1)]),_:2},1024)]),_:2},1024),e(_,null,{default:t(()=>[e(p,{variant:"secondary"},{default:t(()=>[s(r(x.completion_rate)+"%",1)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128)):(k(),P(b,{key:0},{default:t(()=>[e(_,{colspan:"3",class:"text-center text-muted-foreground"},{default:t(()=>a[40]||(a[40]=[s("No data available")])),_:1})]),_:1}))]}),_:1})]),_:1})]),_:1})]),_:1}),e(m,null,{default:t(()=>[e(g,null,{default:t(()=>[e(d,{class:"flex items-center"},{default:t(()=>[e(C,{class:"mr-2 h-5 w-5 text-blue-500"}),a[41]||(a[41]=s(" Top Performing Users "))]),_:1}),e(q,null,{default:t(()=>a[42]||(a[42]=[s("Based on evaluation system scores")])),_:1})]),_:1}),e(c,null,{default:t(()=>[e(R,null,{default:t(()=>[e(B,null,{default:t(()=>[e(b,null,{default:t(()=>[e(v,null,{default:t(()=>a[43]||(a[43]=[s("User")])),_:1}),e(v,null,{default:t(()=>a[44]||(a[44]=[s("Score")])),_:1}),e(v,null,{default:t(()=>a[45]||(a[45]=[s("Completed")])),_:1})]),_:1})]),_:1}),e(A,null,{default:t(()=>{var l,u,y;return[(u=(l=o.kpiData.performance_analysis)==null?void 0:l.top_performing_users)!=null&&u.length?(k(!0),S(E,{key:1},K((((y=o.kpiData.performance_analysis)==null?void 0:y.top_performing_users)||[]).slice(0,5),(x,M)=>(k(),P(b,{key:x.name,class:"bg-green-50"},{default:t(()=>[e(_,null,{default:t(()=>[n("div",ft,[e(p,{variant:"outline",class:"text-xs"},{default:t(()=>[s(r(M+1),1)]),_:2},1024),n("span",_t,r(x.name),1)])]),_:2},1024),e(_,null,{default:t(()=>[e(p,{variant:"default"},{default:t(()=>[s(r(x.score)+"%",1)]),_:2},1024)]),_:2},1024),e(_,null,{default:t(()=>[s(r(x.courses_completed||0),1)]),_:2},1024)]),_:2},1024))),128)):(k(),P(b,{key:0},{default:t(()=>[e(_,{colspan:"3",class:"text-center text-muted-foreground"},{default:t(()=>a[46]||(a[46]=[s("No data available")])),_:1})]),_:1}))]}),_:1})]),_:1})]),_:1})]),_:1})])]),_:1})]),_:1}),e(m,{class:"mb-8"},{default:t(()=>[e(g,null,{default:t(()=>[e(d,{class:"flex items-center text-2xl"},{default:t(()=>[e(F,{class:"mr-3 h-6 w-6"}),a[47]||(a[47]=s(" Monthly Engagement Trend "))]),_:1})]),_:1}),e(c,null,{default:t(()=>{var l,u;return[n("div",gt,[e(m,{class:"border-primary bg-primary/5"},{default:t(()=>[e(c,{class:"p-6 text-center"},{default:t(()=>{var y,x;return[e(D,{class:"h-8 w-8 text-primary mx-auto mb-2"}),a[48]||(a[48]=n("div",{class:"text-sm text-muted-foreground mb-2"},"Current Month",-1)),n("div",xt,r(((y=o.kpiData.engagement_trends)==null?void 0:y.current_month_engagement)||0)+"%",1),n("div",pt,r((x=o.kpiData.period)==null?void 0:x.period_name),1)]}),_:1})]),_:1}),n("div",vt,[n("div",bt,r(f.getTrendArrow((l=o.kpiData.engagement_trends)==null?void 0:l.trend_direction)),1),n("div",yt,r(((u=o.kpiData.engagement_trends)==null?void 0:u.trend_direction)||"stable"),1)]),e(m,null,{default:t(()=>[e(c,{class:"p-6 text-center"},{default:t(()=>{var y,x;return[e(F,{class:"h-8 w-8 text-muted-foreground mx-auto mb-2"}),a[49]||(a[49]=n("div",{class:"text-sm text-muted-foreground mb-2"},"Previous Month",-1)),n("div",Ct,r(((y=o.kpiData.engagement_trends)==null?void 0:y.previous_month_engagement)||0)+"%",1),n("div",kt,r(((x=o.kpiData.engagement_trends)==null?void 0:x.trend_percentage)||0)+"% change",1)]}),_:1})]),_:1})])]}),_:1})]),_:1}),e(m,null,{default:t(()=>[e(c,{class:"p-6"},{default:t(()=>{var l;return[n("div",wt,[n("div",Dt,[a[50]||(a[50]=n("span",{class:"font-semibold"},"Report Period:",-1)),s(" "+r(((l=o.kpiData.period)==null?void 0:l.period_name)||"Current Period"),1)]),n("div",ht,[a[51]||(a[51]=n("span",{class:"font-semibold"},"Generated:",-1)),s(" "+r(f.formatDateTime(new Date)),1)]),a[52]||(a[52]=n("div",{class:"text-sm"},[n("span",{class:"font-semibold"},"System:"),s(" Training Management Platform ")],-1))])]}),_:1})]),_:1})]),e($,{open:!!f.screenshotUrl,"onUpdate:open":a[0]||(a[0]=l=>{l||(f.screenshotUrl=null)})},{default:t(()=>[e(J,{class:"max-w-4xl max-h-[90vh] overflow-hidden"},{default:t(()=>[e(W,null,{default:t(()=>[e(Q,{class:"flex items-center"},{default:t(()=>[e(T,{class:"mr-2 h-5 w-5"}),a[53]||(a[53]=s(" Screenshot Preview "))]),_:1})]),_:1}),n("div",Tt,[n("div",St,[f.screenshotUrl?(k(),S("img",{key:0,src:f.screenshotUrl,alt:"KPI Report Screenshot",class:"w-full"},null,8,Pt)):Pe("",!0)]),n("div",Ut,[e(w,{onClick:f.downloadScreenshot,variant:"default"},{default:t(()=>[e(Y,{class:"mr-2 h-4 w-4"}),a[54]||(a[54]=s(" Download "))]),_:1},8,["onClick"]),e(w,{onClick:f.copyToClipboard,variant:"outline"},{default:t(()=>[e(Z,{class:"mr-2 h-4 w-4"}),a[55]||(a[55]=s(" Copy to Clipboard "))]),_:1},8,["onClick"])])])]),_:1})]),_:1},8,["open"])])}const Jt=pe(Ie,[["render",Bt],["__scopeId","data-v-ff76d21d"]]);export{Jt as default};
