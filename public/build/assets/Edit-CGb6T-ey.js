import{d as q,C as F,g as b,o as i,w as a,e as t,h as c,b as l,u as e,P as C,f as n,t as u,j as I,a as d,F as x,i as v,n as _,k as h}from"./app-BMyidKIh.js";import{_ as H}from"./AdminLayout.vue_vue_type_script_setup_true_lang-CwtOIFIS.js";import{_ as w}from"./Button.vue_vue_type_script_setup_true_lang-Fk6a1Vva.js";import{_ as y}from"./Card.vue_vue_type_script_setup_true_lang-CQovGjFq.js";import{_ as k}from"./CardContent.vue_vue_type_script_setup_true_lang-Dyzxu5FP.js";import{_ as X}from"./CardDescription.vue_vue_type_script_setup_true_lang-CvcJ_Am_.js";import{_ as R}from"./CardHeader.vue_vue_type_script_setup_true_lang-_dtBwzkO.js";import{_ as $}from"./CardTitle.vue_vue_type_script_setup_true_lang-zaBMsOvU.js";import{_ as L}from"./Input.vue_vue_type_script_setup_true_lang-BnRJBFP3.js";import{_ as m}from"./Label.vue_vue_type_script_setup_true_lang-Coq7pT1m.js";import{_ as E}from"./Textarea.vue_vue_type_script_setup_true_lang-7L_wYbMO.js";import{_ as J,a as K,b as Q,c as W,d as P}from"./SelectValue.vue_vue_type_script_setup_true_lang-TbH3IXvu.js";import{_ as Y,a as Z}from"./index-yEoCS5nH.js";import{E as B}from"./eye-r3W5mp7L.js";import{A as ee}from"./arrow-left-WoxIE4Hy.js";import{C as j}from"./circle-check-B4f4RW96.js";import{B as M}from"./bug-DujpLuEv.js";import{C as N}from"./clock-C9ZtgHl0.js";import{T as te}from"./triangle-alert-BGzxpn4P.js";import{C as O}from"./circle-x-CpYibFG4.js";import{S as se}from"./save-AWffgFEF.js";import"./AppLayout.vue_vue_type_script_setup_true_lang-CeyhSayX.js";import"./index-B9hR5wOz.js";import"./index-C3Bn3h4x.js";import"./_plugin-vue_export-helper-Cg8ARLjz.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-CPGGLHXe.js";import"./useForwardPropsEmits-DPcO4mtR.js";import"./Presence-D_88WakH.js";import"./ConfigProvider-BNe-qVox.js";import"./useForwardExpose-DMAVYlpA.js";import"./Teleport-CcnEHzmd.js";import"./handleAndDispatchCustomEvent-ChOKVcqp.js";import"./chevron-up-BQjwjK-c.js";import"./Collection-CjETHI6E.js";import"./usePrimitiveElement-s00YWk2f.js";import"./check-C-CvZSBJ.js";import"./useSize-DbKzACL9.js";import"./ohash.D__AXeF1-DHF4M4F_.js";import"./nullish-CHIgUVhi.js";import"./VisuallyHidden-hOZS4qMA.js";const oe={class:"px-4 sm:px-0 space-y-6"},le={class:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4"},re={class:"flex gap-2"},ae={class:"grid grid-cols-1 lg:grid-cols-3 gap-6"},ie={class:"lg:col-span-2"},de={key:0,class:"text-destructive text-sm mt-1"},ne={class:"grid grid-cols-1 sm:grid-cols-2 gap-6"},ue={class:"grid grid-cols-2 gap-2"},me=["onClick"],pe={class:"flex flex-col items-center text-center space-y-2"},ce={key:0,class:"text-destructive text-sm mt-1"},fe={class:"grid grid-cols-2 gap-2"},ge=["onClick"],_e={class:"flex flex-col items-center text-center space-y-2"},be={key:0,class:"text-destructive text-sm mt-1"},xe={key:0,class:"text-destructive text-sm mt-1"},ve={key:0,class:"text-destructive text-sm mt-1"},ye={key:0,class:"text-destructive text-sm mt-1"},ke={key:0,class:"text-destructive text-sm mt-1"},he={class:"flex gap-4 pt-4 border-t"},we={key:0},Re={key:1},$e={class:"space-y-6"},Ce={class:"text-sm mt-1 font-medium"},Be={class:"text-sm mt-1"},Ve={key:0},Ue={class:"text-sm mt-1"},Se={class:"font-medium text-sm"},De={class:"text-xs text-muted-foreground mt-1"},Ae={key:0},Le={key:1},Ee={key:2},Pe={key:3},je={class:"font-medium text-sm"},Me={class:"text-xs text-muted-foreground mt-1"},Ne={key:0},Oe={key:1},Ge={key:2},Te={key:3},ze={class:"flex items-start space-x-3"},Ut=q({__name:"Edit",props:{bugReport:Object,users:Array},setup(p){var D,A;const f=p,G=[{name:"Dashboard",href:route("dashboard")},{name:"Bug Reports",href:route("admin.bug-reports.index")},{name:"Edit Bug Report",href:"#"}],r=F({title:f.bugReport.title||"",description:f.bugReport.description||"",priority:f.bugReport.priority||"medium",status:f.bugReport.status||"open",steps_to_reproduce:f.bugReport.steps_to_reproduce||"",page_url:f.bugReport.page_url||"",assigned_to:((A=(D=f.bugReport.assigned_to)==null?void 0:D.id)==null?void 0:A.toString())||"unassigned"}),V=[{value:"low",label:"Low",icon:N,color:"text-blue-600"},{value:"medium",label:"Medium",icon:B,color:"text-yellow-600"},{value:"high",label:"High",icon:te,color:"text-orange-600"},{value:"critical",label:"Critical",icon:O,color:"text-red-600"}],U=[{value:"open",label:"Open",icon:N,color:"text-gray-600"},{value:"in_progress",label:"In Progress",icon:B,color:"text-blue-600"},{value:"resolved",label:"Resolved",icon:j,color:"text-green-600"},{value:"closed",label:"Closed",icon:O,color:"text-gray-600"}],T=()=>{const g={...r.data()};g.assigned_to==="unassigned"&&(g.assigned_to=null),r.put(`/admin/bug-reports/${f.bugReport.id}`,{data:g,onSuccess:()=>{}})},S=g=>new Date(g).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"});return(g,s)=>(i(),b(H,{breadcrumbs:G},{default:a(()=>[t("div",oe,[t("div",le,[s[7]||(s[7]=t("div",null,[t("h1",{class:"text-xl sm:text-2xl font-bold text-foreground"},"Edit Bug Report"),t("p",{class:"text-sm text-muted-foreground mt-1"},"Update bug report information and status")],-1)),t("div",re,[l(e(w),{as:e(C),href:`/admin/bug-reports/${p.bugReport.id}`,variant:"outline"},{default:a(()=>[l(e(B),{class:"mr-2 h-4 w-4"}),s[5]||(s[5]=n(" View Details "))]),_:1},8,["as","href"]),l(e(w),{as:e(C),href:"/admin/bug-reports",variant:"outline"},{default:a(()=>[l(e(ee),{class:"mr-2 h-4 w-4"}),s[6]||(s[6]=n(" Back to Reports "))]),_:1},8,["as"])])]),g.$page.props.flash.success?(i(),b(e(Y),{key:0,class:"border-green-200 bg-green-50"},{default:a(()=>[l(e(j),{class:"h-4 w-4 text-green-600"}),l(e(Z),{class:"text-green-800"},{default:a(()=>[n(u(g.$page.props.flash.success),1)]),_:1})]),_:1})):c("",!0),t("div",ae,[t("div",ie,[l(e(y),null,{default:a(()=>[l(e(R),null,{default:a(()=>[l(e($),{class:"flex items-center"},{default:a(()=>[l(e(M),{class:"mr-2 h-5 w-5"}),s[8]||(s[8]=n(" Bug Report Information "))]),_:1}),l(e(X),null,{default:a(()=>s[9]||(s[9]=[n(" Update the bug report details and management information ")])),_:1})]),_:1}),l(e(k),null,{default:a(()=>[t("form",{onSubmit:I(T,["prevent"]),class:"space-y-6"},[t("div",null,[l(e(m),{for:"title",class:"mb-2 block"},{default:a(()=>s[10]||(s[10]=[n("Bug Title "),t("span",{class:"text-red-500"},"*",-1)])),_:1}),l(e(L),{id:"title",modelValue:e(r).title,"onUpdate:modelValue":s[0]||(s[0]=o=>e(r).title=o),type:"text",placeholder:"Brief description of the bug",disabled:e(r).processing,required:"",class:"w-full"},null,8,["modelValue","disabled"]),e(r).errors.title?(i(),d("div",de,u(e(r).errors.title),1)):c("",!0)]),t("div",ne,[t("div",null,[l(e(m),{class:"mb-3 block font-medium"},{default:a(()=>s[11]||(s[11]=[n("Priority Level "),t("span",{class:"text-red-500"},"*",-1)])),_:1}),t("div",ue,[(i(),d(x,null,v(V,o=>t("div",{key:o.value,onClick:z=>e(r).priority=o.value,class:_(["border rounded-lg p-3 cursor-pointer transition-all hover:border-primary",{"border-primary bg-primary/10":e(r).priority===o.value,"border-border":e(r).priority!==o.value}])},[t("div",pe,[(i(),b(h(o.icon),{class:_(["h-4 w-4",e(r).priority===o.value?"text-primary":o.color])},null,8,["class"])),t("span",{class:_(["text-xs font-medium",e(r).priority===o.value?"text-primary":"text-foreground"])},u(o.label),3)])],10,me)),64))]),e(r).errors.priority?(i(),d("div",ce,u(e(r).errors.priority),1)):c("",!0)]),t("div",null,[l(e(m),{class:"mb-3 block font-medium"},{default:a(()=>s[12]||(s[12]=[n("Status "),t("span",{class:"text-red-500"},"*",-1)])),_:1}),t("div",fe,[(i(),d(x,null,v(U,o=>t("div",{key:o.value,onClick:z=>e(r).status=o.value,class:_(["border rounded-lg p-3 cursor-pointer transition-all hover:border-primary",{"border-primary bg-primary/10":e(r).status===o.value,"border-border":e(r).status!==o.value}])},[t("div",_e,[(i(),b(h(o.icon),{class:_(["h-4 w-4",e(r).status===o.value?"text-primary":o.color])},null,8,["class"])),t("span",{class:_(["text-xs font-medium",e(r).status===o.value?"text-primary":"text-foreground"])},u(o.label),3)])],10,ge)),64))]),e(r).errors.status?(i(),d("div",be,u(e(r).errors.status),1)):c("",!0)])]),t("div",null,[l(e(m),{for:"description",class:"mb-2 block"},{default:a(()=>s[13]||(s[13]=[n("Bug Description "),t("span",{class:"text-red-500"},"*",-1)])),_:1}),l(e(E),{id:"description",modelValue:e(r).description,"onUpdate:modelValue":s[1]||(s[1]=o=>e(r).description=o),placeholder:"Detailed description of the bug, what happened, and the impact...",disabled:e(r).processing,required:"",rows:"5",class:"w-full resize-none"},null,8,["modelValue","disabled"]),e(r).errors.description?(i(),d("div",xe,u(e(r).errors.description),1)):c("",!0)]),t("div",null,[l(e(m),{for:"steps_to_reproduce",class:"mb-2 block"},{default:a(()=>s[14]||(s[14]=[n("Steps to Reproduce")])),_:1}),l(e(E),{id:"steps_to_reproduce",modelValue:e(r).steps_to_reproduce,"onUpdate:modelValue":s[2]||(s[2]=o=>e(r).steps_to_reproduce=o),placeholder:`1. Go to... 
2. Click on... 
3. Notice that...`,disabled:e(r).processing,rows:"4",class:"w-full resize-none"},null,8,["modelValue","disabled"]),e(r).errors.steps_to_reproduce?(i(),d("div",ve,u(e(r).errors.steps_to_reproduce),1)):c("",!0)]),t("div",null,[l(e(m),{for:"page_url",class:"mb-2 block"},{default:a(()=>s[15]||(s[15]=[n("Page URL (where bug occurred)")])),_:1}),l(e(L),{id:"page_url",modelValue:e(r).page_url,"onUpdate:modelValue":s[3]||(s[3]=o=>e(r).page_url=o),type:"url",placeholder:"https://example.com/page-where-bug-occurred",disabled:e(r).processing,class:"w-full"},null,8,["modelValue","disabled"]),e(r).errors.page_url?(i(),d("div",ye,u(e(r).errors.page_url),1)):c("",!0)]),t("div",null,[l(e(m),{class:"mb-2 block"},{default:a(()=>s[16]||(s[16]=[n("Assign to Developer")])),_:1}),l(e(J),{modelValue:e(r).assigned_to,"onUpdate:modelValue":s[4]||(s[4]=o=>e(r).assigned_to=o)},{default:a(()=>[l(e(K),null,{default:a(()=>[l(e(Q),{placeholder:"Select developer to assign"})]),_:1}),l(e(W),null,{default:a(()=>[l(e(P),{value:"unassigned"},{default:a(()=>s[17]||(s[17]=[n("Leave Unassigned")])),_:1}),(i(!0),d(x,null,v(p.users,o=>(i(),b(e(P),{key:o.id,value:o.id.toString()},{default:a(()=>[n(u(o.name),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue"]),e(r).errors.assigned_to?(i(),d("div",ke,u(e(r).errors.assigned_to),1)):c("",!0)]),t("div",he,[l(e(w),{type:"submit",disabled:e(r).processing,class:"flex-1 sm:flex-none sm:px-8"},{default:a(()=>[l(e(se),{class:"mr-2 h-4 w-4"}),e(r).processing?(i(),d("span",we,"Updating Bug Report...")):(i(),d("span",Re,"Update Bug Report"))]),_:1},8,["disabled"]),l(e(w),{type:"button",variant:"outline",disabled:e(r).processing,as:e(C),href:`/admin/bug-reports/${p.bugReport.id}`,class:"flex-1 sm:flex-none"},{default:a(()=>s[18]||(s[18]=[n(" Cancel ")])),_:1},8,["disabled","as","href"])])],32)]),_:1})]),_:1})]),t("div",$e,[l(e(y),null,{default:a(()=>[l(e(R),null,{default:a(()=>[l(e($),{class:"text-lg"},{default:a(()=>s[19]||(s[19]=[n("Original Report")])),_:1})]),_:1}),l(e(k),{class:"space-y-3"},{default:a(()=>[t("div",null,[l(e(m),{class:"text-sm font-medium text-muted-foreground"},{default:a(()=>s[20]||(s[20]=[n("Reported By")])),_:1}),t("p",Ce,u(p.bugReport.reported_by.name),1)]),t("div",null,[l(e(m),{class:"text-sm font-medium text-muted-foreground"},{default:a(()=>s[21]||(s[21]=[n("Created")])),_:1}),t("p",Be,u(S(p.bugReport.created_at)),1)]),p.bugReport.updated_at!==p.bugReport.created_at?(i(),d("div",Ve,[l(e(m),{class:"text-sm font-medium text-muted-foreground"},{default:a(()=>s[22]||(s[22]=[n("Last Updated")])),_:1}),t("p",Ue,u(S(p.bugReport.updated_at)),1)])):c("",!0)]),_:1})]),_:1}),l(e(y),null,{default:a(()=>[l(e(R),null,{default:a(()=>[l(e($),{class:"text-lg"},{default:a(()=>s[23]||(s[23]=[n("Priority Guidelines")])),_:1})]),_:1}),l(e(k),{class:"space-y-4"},{default:a(()=>[(i(),d(x,null,v(V,o=>t("div",{key:o.value,class:"flex items-start space-x-3"},[(i(),b(h(o.icon),{class:_(`h-4 w-4 mt-0.5 ${o.color}`)},null,8,["class"])),t("div",null,[t("div",Se,u(o.label),1),t("div",De,[o.value==="low"?(i(),d("span",Ae,"Minor issues, cosmetic problems")):o.value==="medium"?(i(),d("span",Le,"Moderate impact, workarounds exist")):o.value==="high"?(i(),d("span",Ee,"Major functionality affected")):(i(),d("span",Pe,"System down, critical features broken"))])])])),64))]),_:1})]),_:1}),l(e(y),null,{default:a(()=>[l(e(R),null,{default:a(()=>[l(e($),{class:"text-lg"},{default:a(()=>s[24]||(s[24]=[n("Status Guidelines")])),_:1})]),_:1}),l(e(k),{class:"space-y-4"},{default:a(()=>[(i(),d(x,null,v(U,o=>t("div",{key:o.value,class:"flex items-start space-x-3"},[(i(),b(h(o.icon),{class:_(`h-4 w-4 mt-0.5 ${o.color}`)},null,8,["class"])),t("div",null,[t("div",je,u(o.label),1),t("div",Me,[o.value==="open"?(i(),d("span",Ne,"Bug reported and awaiting investigation")):o.value==="in_progress"?(i(),d("span",Oe,"Bug is being actively worked on")):o.value==="resolved"?(i(),d("span",Ge,"Bug has been fixed and tested")):(i(),d("span",Te,"Bug report closed and archived"))])])])),64))]),_:1})]),_:1}),l(e(y),{class:"border-blue-200 bg-blue-50"},{default:a(()=>[l(e(k),{class:"pt-6"},{default:a(()=>[t("div",ze,[l(e(M),{class:"h-5 w-5 text-blue-600 mt-0.5 flex-shrink-0"}),s[25]||(s[25]=t("div",null,[t("h3",{class:"font-medium text-blue-900 mb-2"},"Update Guidelines"),t("ul",{class:"text-sm text-blue-700 space-y-1"},[t("li",null,"• Update status as work progresses"),t("li",null,"• Assign to appropriate developer"),t("li",null,"• Adjust priority if needed"),t("li",null,"• Add missing reproduction steps"),t("li",null,"• Update description with new findings")])],-1))])]),_:1})]),_:1})])])])]),_:1}))}});export{Ut as default};
