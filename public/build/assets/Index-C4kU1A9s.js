import{d as G,r as C,g,o,w as s,e as r,b as t,u as e,P as _,f as n,t as d,a as f,h,F as k,i as T,n as U,W as j}from"./app-CwrLmt4H.js";import{_ as H}from"./AdminLayout.vue_vue_type_script_setup_true_lang-DVdVdrtJ.js";import{_ as c}from"./Button.vue_vue_type_script_setup_true_lang-DNqWTjl2.js";import{_ as v}from"./Card.vue_vue_type_script_setup_true_lang-A8WG6GOp.js";import{_ as p}from"./CardContent.vue_vue_type_script_setup_true_lang-C0P-sboE.js";import{_ as R}from"./CardDescription.vue_vue_type_script_setup_true_lang-Bu6T4zC6.js";import{_ as J}from"./CardHeader.vue_vue_type_script_setup_true_lang-B1JXwWzJ.js";import{_ as K}from"./CardTitle.vue_vue_type_script_setup_true_lang-CfsAIejd.js";import{_ as Q,a as X,b as L,c as b,d as Y,e as m}from"./TableHeader.vue_vue_type_script_setup_true_lang-DfWzzyAT.js";import{_ as y}from"./index-M46Jp1H4.js";import{S as Z,U as I,C as ee,q as te,c as D,e as E}from"./AppLayout.vue_vue_type_script_setup_true_lang-KHSjz1qE.js";import{_ as se,a as ae,b as re,c as le,d as ie,e as ne,f as de,g as oe}from"./AlertDialogTitle.vue_vue_type_script_setup_true_lang-WnD420BM.js";import{_ as ue}from"./AlertDialogTrigger.vue_vue_type_script_setup_true_lang-BJ_1WhPj.js";import{P as z}from"./plus-CIBie_xw.js";import{T as M}from"./tag-BZiCBJEk.js";import{L as A}from"./layers-IZpmpoFh.js";import{U as fe}from"./_plugin-vue_export-helper-C_B9qUyA.js";import{E as V}from"./eye-DVdFhXjT.js";import{S as P}from"./square-pen-vBywykel.js";import{T as B}from"./trash-2-D4hcySsm.js";import"./index-DJ8elu12.js";import"./index-Bl0m2vYu.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-wO9CZrtp.js";import"./clock-B3hXeEnL.js";import"./useForwardPropsEmits-Bv9ZfZA8.js";import"./useForwardExpose-aFpDTqrD.js";import"./Presence-D5fWEiXU.js";import"./ConfigProvider-DYoe7gBq.js";import"./Teleport-jnYm4bVA.js";import"./handleAndDispatchCustomEvent-ChOKVcqp.js";const me={class:"px-4 sm:px-0 space-y-6"},ce={class:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4"},_e={class:"grid grid-cols-1 md:grid-cols-4 gap-4"},xe={class:"flex items-center"},ge={class:"shrink-0"},he={class:"w-10 h-10 bg-primary rounded-lg flex items-center justify-center"},ve={class:"ml-4 flex-1"},pe={class:"text-2xl font-bold text-foreground"},be={class:"flex items-center"},ye={class:"shrink-0"},we={class:"w-10 h-10 bg-purple-500 rounded-lg flex items-center justify-center"},ke={class:"ml-4 flex-1"},Le={class:"text-2xl font-bold text-foreground"},$e={class:"flex items-center"},Ce={class:"shrink-0"},Te={class:"w-10 h-10 bg-green-500 rounded-lg flex items-center justify-center"},ze={class:"ml-4 flex-1"},Se={class:"text-2xl font-bold text-foreground"},Ne={class:"flex items-center"},Ue={class:"shrink-0"},je={class:"w-10 h-10 bg-orange-500 rounded-lg flex items-center justify-center"},De={class:"ml-4 flex-1"},Ee={class:"text-2xl font-bold text-foreground"},Me={class:"overflow-x-auto"},Ae={class:"flex items-center space-x-3"},Ve=["onClick"],Pe={key:1,class:"w-6"},Be={class:"font-medium text-foreground"},Fe={class:"text-sm text-muted-foreground"},Oe={key:0,class:"text-xs text-muted-foreground"},We={key:0,class:"flex flex-wrap gap-1"},qe={key:1,class:"text-sm text-muted-foreground"},Ge={class:"flex items-center justify-end space-x-2"},He={key:0,class:"mt-2 p-2 bg-destructive/10 text-destructive text-sm rounded"},Re={class:"flex items-center space-x-3 pl-12"},Je={class:"font-medium text-sm text-foreground"},Ke={class:"text-xs text-muted-foreground"},Qe={class:"flex items-center justify-end space-x-2"},Xe={class:"text-center py-6 pl-12"},Ye={key:0,class:"text-center py-12"},St=G({__name:"Index",props:{userLevels:Array,stats:Object},setup(x){C(!1),C(null);const w=C(new Set),F=i=>{w.value.has(i)?w.value.delete(i):w.value.add(i)},$=i=>w.value.has(i),O=i=>{j.delete(route("admin.user-levels.destroy",i),{preserveState:!0,onSuccess:()=>{},onError:a=>{console.error("Delete failed:",a)}})},W=(i,a)=>{j.delete(route("admin.user-level-tiers.destroy",[i,a]),{preserveState:!0})},S=i=>{switch(i){case 1:return{bg:"bg-blue-100",text:"text-blue-600",variant:"secondary"};case 2:return{bg:"bg-green-100",text:"text-green-600",variant:"secondary"};case 3:return{bg:"bg-orange-100",text:"text-orange-600",variant:"outline"};case 4:return{bg:"bg-red-100",text:"text-red-600",variant:"destructive"};default:return{bg:"bg-purple-100",text:"text-purple-600",variant:"secondary"}}},N=i=>{switch(i){case 1:return{bg:"bg-gray-100",text:"text-gray-700"};case 2:return{bg:"bg-yellow-100",text:"text-yellow-700"};case 3:return{bg:"bg-emerald-100",text:"text-emerald-700"};default:return{bg:"bg-slate-100",text:"text-slate-700"}}},q=[{name:"Dashboard",href:route("dashboard")},{name:"Organizational Management",href:route("admin.user-levels.index")},{name:"User Levels",href:route("admin.user-levels.index")}];return(i,a)=>(o(),g(H,{breadcrumbs:q},{default:s(()=>[r("div",me,[r("div",ce,[a[1]||(a[1]=r("div",null,[r("h1",{class:"text-xl sm:text-2xl font-bold text-foreground"},"User Level Management"),r("p",{class:"text-sm text-muted-foreground mt-1"},"Manage organizational hierarchy levels, tiers and their permissions")],-1)),t(e(c),{as:e(_),href:i.route("admin.user-levels.create"),class:"w-full sm:w-auto"},{default:s(()=>[t(e(z),{class:"mr-2 h-4 w-4"}),a[0]||(a[0]=n(" Add New Level "))]),_:1},8,["as","href"])]),r("div",_e,[t(e(v),null,{default:s(()=>[t(e(p),{class:"p-6"},{default:s(()=>[r("div",xe,[r("div",ge,[r("div",he,[t(e(M),{class:"h-5 w-5 text-primary-foreground"})])]),r("div",ve,[a[2]||(a[2]=r("div",{class:"text-sm font-medium text-muted-foreground"},"Total Levels",-1)),r("div",pe,d(x.stats.total_levels||0),1)])])]),_:1})]),_:1}),t(e(v),null,{default:s(()=>[t(e(p),{class:"p-6"},{default:s(()=>[r("div",be,[r("div",ye,[r("div",we,[t(e(A),{class:"h-5 w-5 text-white"})])]),r("div",ke,[a[3]||(a[3]=r("div",{class:"text-sm font-medium text-muted-foreground"},"Total Tiers",-1)),r("div",Le,d(x.stats.total_tiers||0),1)])])]),_:1})]),_:1}),t(e(v),null,{default:s(()=>[t(e(p),{class:"p-6"},{default:s(()=>[r("div",$e,[r("div",Ce,[r("div",Te,[t(e(Z),{class:"h-5 w-5 text-white"})])]),r("div",ze,[a[4]||(a[4]=r("div",{class:"text-sm font-medium text-muted-foreground"},"Management Levels",-1)),r("div",Se,d(x.stats.management_levels||0),1)])])]),_:1})]),_:1}),t(e(v),null,{default:s(()=>[t(e(p),{class:"p-6"},{default:s(()=>[r("div",Ne,[r("div",Ue,[r("div",je,[t(e(I),{class:"h-5 w-5 text-white"})])]),r("div",De,[a[5]||(a[5]=r("div",{class:"text-sm font-medium text-muted-foreground"},"Users Assigned",-1)),r("div",Ee,d(x.stats.total_users_assigned||0),1)])])]),_:1})]),_:1})]),t(e(v),null,{default:s(()=>[t(e(J),null,{default:s(()=>[t(e(K),{class:"flex items-center"},{default:s(()=>[t(e(fe),{class:"mr-2 h-5 w-5"}),a[6]||(a[6]=n(" Organizational Levels & Tiers "))]),_:1}),t(e(R),null,{default:s(()=>a[7]||(a[7]=[n("Manage hierarchy levels, their tiers and management permissions")])),_:1})]),_:1}),t(e(p),null,{default:s(()=>[r("div",Me,[t(e(Q),null,{default:s(()=>[t(e(X),null,{default:s(()=>[t(e(L),null,{default:s(()=>[t(e(b),null,{default:s(()=>a[8]||(a[8]=[n("Level / Tier")])),_:1}),t(e(b),null,{default:s(()=>a[9]||(a[9]=[n("Hierarchy")])),_:1}),t(e(b),null,{default:s(()=>a[10]||(a[10]=[n("Can Manage")])),_:1}),t(e(b),null,{default:s(()=>a[11]||(a[11]=[n("Users Count")])),_:1}),t(e(b),{class:"text-right"},{default:s(()=>a[12]||(a[12]=[n("Actions")])),_:1})]),_:1})]),_:1}),t(e(Y),null,{default:s(()=>[(o(!0),f(k,null,T(x.userLevels,l=>(o(),f(k,{key:l.id},[t(e(L),{class:"hover:bg-muted/50"},{default:s(()=>[t(e(m),null,{default:s(()=>[r("div",Ae,[l.tiers&&l.tiers.length>0?(o(),f("button",{key:0,onClick:u=>F(l.id),class:"p-1 hover:bg-muted rounded"},[$(l.id)?(o(),g(e(ee),{key:0,class:"h-4 w-4"})):(o(),g(e(te),{key:1,class:"h-4 w-4"}))],8,Ve)):(o(),f("div",Pe)),t(e(D),{class:"h-10 w-10"},{default:s(()=>[t(e(E),{class:U([[S(l.hierarchy_level).bg,S(l.hierarchy_level).text],"font-bold text-sm"])},{default:s(()=>[n(d(l.code),1)]),_:2},1032,["class"])]),_:2},1024),r("div",null,[r("div",Be,d(l.name),1),r("div",Fe,d(l.description),1),l.tiers&&l.tiers.length>0?(o(),f("div",Oe,d(l.tiers.length)+" tiers ",1)):h("",!0)])])]),_:2},1024),t(e(m),null,{default:s(()=>[t(e(y),{variant:"secondary"},{default:s(()=>[n(" Level "+d(l.hierarchy_level),1)]),_:2},1024)]),_:2},1024),t(e(m),null,{default:s(()=>[l.can_manage_levels&&l.can_manage_levels.length>0?(o(),f("div",We,[(o(!0),f(k,null,T(l.can_manage_levels,u=>(o(),g(e(y),{key:u,variant:"outline",class:"text-xs"},{default:s(()=>[n(d(u),1)]),_:2},1024))),128))])):(o(),f("div",qe,"None"))]),_:2},1024),t(e(m),null,{default:s(()=>[t(e(y),{variant:"secondary"},{default:s(()=>[n(d(l.users_count)+" users",1)]),_:2},1024)]),_:2},1024),t(e(m),{class:"text-right"},{default:s(()=>[r("div",Ge,[t(e(c),{as:e(_),href:i.route("admin.user-level-tiers.index",l.id),variant:"ghost",size:"sm",title:"Manage Tiers"},{default:s(()=>[t(e(A),{class:"h-4 w-4"})]),_:2},1032,["as","href"]),t(e(c),{as:e(_),href:i.route("admin.user-levels.show",l.id),variant:"ghost",size:"sm",title:"View Level"},{default:s(()=>[t(e(V),{class:"h-4 w-4"})]),_:2},1032,["as","href"]),t(e(c),{as:e(_),href:i.route("admin.user-levels.edit",l.id),variant:"ghost",size:"sm",title:"Edit Level"},{default:s(()=>[t(e(P),{class:"h-4 w-4"})]),_:2},1032,["as","href"]),t(e(se),null,{default:s(()=>[t(e(ue),{asChild:""},{default:s(()=>[t(e(c),{variant:"ghost",size:"sm",disabled:l.users_count>0,class:"text-destructive hover:text-destructive hover:bg-destructive/10",title:"Delete Level"},{default:s(()=>[t(e(B),{class:"h-4 w-4"})]),_:2},1032,["disabled"])]),_:2},1024),t(e(ae),null,{default:s(()=>[t(e(re),null,{default:s(()=>[t(e(le),null,{default:s(()=>a[13]||(a[13]=[n("Delete User Level")])),_:1}),t(e(ie),null,{default:s(()=>[n(' Are you sure you want to delete the "'+d(l.name)+'" level? This action cannot be undone. ',1),l.users_count>0?(o(),f("div",He,[a[14]||(a[14]=r("strong",null,"Warning:",-1)),n(" This level has "+d(l.users_count)+" users assigned and cannot be deleted. ",1)])):h("",!0)]),_:2},1024)]),_:2},1024),t(e(ne),null,{default:s(()=>[t(e(de),null,{default:s(()=>a[15]||(a[15]=[n("Cancel")])),_:1}),t(e(oe),{onClick:u=>O(l.id),disabled:l.users_count>0,class:"bg-destructive text-destructive-foreground hover:bg-destructive/90"},{default:s(()=>a[16]||(a[16]=[n(" Delete Level ")])),_:2},1032,["onClick","disabled"])]),_:2},1024)]),_:2},1024)]),_:2},1024)])]),_:2},1024)]),_:2},1024),$(l.id)&&l.tiers&&l.tiers.length>0?(o(!0),f(k,{key:0},T(l.tiers,u=>(o(),g(e(L),{key:`tier-${u.id}`,class:"bg-muted/30"},{default:s(()=>[t(e(m),null,{default:s(()=>[r("div",Re,[t(e(D),{class:"h-8 w-8"},{default:s(()=>[t(e(E),{class:U([[N(u.tier_order).bg,N(u.tier_order).text],"text-xs font-medium"])},{default:s(()=>[n(" T"+d(u.tier_order),1)]),_:2},1032,["class"])]),_:2},1024),r("div",null,[r("div",Je,d(u.tier_name),1),r("div",Ke,d(u.description||"No description"),1)])])]),_:2},1024),t(e(m),null,{default:s(()=>[t(e(y),{variant:"outline",class:"text-xs"},{default:s(()=>[n(" Tier "+d(u.tier_order),1)]),_:2},1024)]),_:2},1024),t(e(m),null,{default:s(()=>a[17]||(a[17]=[r("span",{class:"text-sm text-muted-foreground"},"-",-1)])),_:1}),t(e(m),null,{default:s(()=>[t(e(y),{variant:"outline",class:"text-xs"},{default:s(()=>[n(d(u.users_count||0)+" users",1)]),_:2},1024)]),_:2},1024),t(e(m),{class:"text-right"},{default:s(()=>[r("div",Qe,[t(e(c),{as:e(_),href:i.route("admin.user-level-tiers.show",[l.id,u.id]),variant:"ghost",size:"sm",title:"View Tier"},{default:s(()=>[t(e(V),{class:"h-3 w-3"})]),_:2},1032,["as","href"]),t(e(c),{as:e(_),href:i.route("admin.user-level-tiers.edit",[l.id,u.id]),variant:"ghost",size:"sm",title:"Edit Tier"},{default:s(()=>[t(e(P),{class:"h-3 w-3"})]),_:2},1032,["as","href"]),t(e(c),{onClick:Ze=>W(l.id,u.id),variant:"ghost",size:"sm",class:"text-destructive hover:text-destructive hover:bg-destructive/10",title:"Delete Tier"},{default:s(()=>[t(e(B),{class:"h-3 w-3"})]),_:2},1032,["onClick"])])]),_:2},1024)]),_:2},1024))),128)):h("",!0),$(l.id)&&(!l.tiers||l.tiers.length===0)?(o(),g(e(L),{key:1,class:"bg-muted/20"},{default:s(()=>[t(e(m),{colspan:"5"},{default:s(()=>[r("div",Xe,[a[19]||(a[19]=r("div",{class:"text-sm text-muted-foreground mb-2"},"No tiers created for this level",-1)),t(e(c),{as:e(_),href:i.route("admin.user-level-tiers.create",l.id),variant:"outline",size:"sm"},{default:s(()=>[t(e(z),{class:"mr-1 h-3 w-3"}),a[18]||(a[18]=n(" Create First Tier "))]),_:2},1032,["as","href"])])]),_:2},1024)]),_:2},1024)):h("",!0)],64))),128))]),_:1})]),_:1}),!x.userLevels||x.userLevels.length===0?(o(),f("div",Ye,[t(e(M),{class:"mx-auto h-12 w-12 text-muted-foreground mb-4"}),a[21]||(a[21]=r("h3",{class:"text-lg font-medium text-foreground mb-2"},"No user levels found",-1)),a[22]||(a[22]=r("p",{class:"text-sm text-muted-foreground mb-6"},"Get started by creating organizational levels (L1, L2, L3, L4).",-1)),t(e(c),{as:e(_),href:i.route("admin.user-levels.create")},{default:s(()=>[t(e(z),{class:"mr-2 h-4 w-4"}),a[20]||(a[20]=n(" Add New Level "))]),_:1},8,["as","href"])])):h("",!0)])]),_:1})]),_:1})])]),_:1}))}});export{St as default};
