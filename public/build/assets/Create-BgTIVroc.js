import{d as me,r as H,C as ce,c as K,a as c,o as m,b as s,u as e,m as pe,w as i,e as o,P as Q,f as u,t as p,j as fe,h as _,n as b,s as V,v as z,F as q,i as j,g as x,k as _e,E as W}from"./app-D1iuQuAS.js";import{m as ve,C as ge,f as ye}from"./AppLayout.vue_vue_type_script_setup_true_lang-BJ4v1iK_.js";import{_ as y}from"./Button.vue_vue_type_script_setup_true_lang-B6guOrk9.js";import{_ as U}from"./Card.vue_vue_type_script_setup_true_lang-C8owrlZX.js";import{_ as $}from"./CardContent.vue_vue_type_script_setup_true_lang-Dv9L4bYL.js";import{_ as A}from"./CardDescription.vue_vue_type_script_setup_true_lang-Cr3sIgbe.js";import{_ as D}from"./CardHeader.vue_vue_type_script_setup_true_lang-BYd_UuNO.js";import{_ as P}from"./CardTitle.vue_vue_type_script_setup_true_lang-DYKMAbSa.js";import{_ as h}from"./Input.vue_vue_type_script_setup_true_lang-Q_wP61AQ.js";import{_ as g}from"./Label.vue_vue_type_script_setup_true_lang-B02gSzTF.js";import{_ as Y}from"./Textarea.vue_vue_type_script_setup_true_lang-YutDw8bL.js";import{_ as M}from"./Switch.vue_vue_type_script_setup_true_lang-CYTJ34JE.js";import{_ as be,a as he}from"./index-B5f98luZ.js";import{_ as E}from"./index-C6bUSNpo.js";import{A as xe}from"./arrow-left-yIB4sOA_.js";import{B as N}from"./book-open--gKIw4sw.js";import{F as S}from"./file-text-CAZ0bbIp.js";import{U as T}from"./upload-CqxSFHP7.js";import{X as ke}from"./_plugin-vue_export-helper-CNTzoLEc.js";import{P as R}from"./plus-BqRuhv2S.js";import{C as Ce}from"./chevron-up-BYAl6iqh.js";import{T as Z}from"./trash-2-BcDi3E5r.js";import{V as I}from"./video-DTdrDLKO.js";import{C as we}from"./clock-DuWYNqKe.js";import{T as Ve}from"./triangle-alert-DXXI7PQu.js";import{S as Ue}from"./save-C0UiZJAV.js";import"./index-C-eXEaxx.js";import"./index-cxKlnwRr.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-B8mjJVhD.js";import"./useForwardPropsEmits-CaMRiGXG.js";import"./useForwardExpose-DPaRiLSN.js";import"./VisuallyHidden-BhWzHVw0.js";import"./VisuallyHiddenInput-VFXhyv_Y.js";import"./usePrimitiveElement-Iyaaey7T.js";const $e={class:"max-w-4xl mx-auto space-y-"},De={class:"flex items-center gap-4"},Pe={class:"hidden sm:flex items-center gap-4 text-sm text-muted-foreground"},Me={class:"flex items-center gap-2"},Fe={class:"flex items-center gap-2"},qe={class:"space-y-2"},Ae={key:0,class:"text-sm text-destructive"},Se={class:"space-y-2"},Be={key:0,class:"text-sm text-destructive"},ze={class:"grid grid-cols-1 md:grid-cols-3 gap-6"},je={class:"space-y-2"},Ee={key:0,class:"text-sm text-destructive"},Ne={class:"space-y-2"},Te={key:0,class:"text-sm text-destructive"},Re={class:"space-y-2"},Ge={class:"flex items-center space-x-2 pt-2"},Le={class:"text-sm text-muted-foreground"},Oe={key:1,class:"space-y-4"},Je={class:"relative w-48 h-32 rounded-lg overflow-hidden border mx-auto"},Xe=["src"],He={class:"text-center"},Ke={key:2,class:"text-sm text-destructive"},Qe={class:"flex items-center justify-between"},We={key:0,class:"text-center py-12 border-2 border-dashed border-input rounded-lg"},Ye={key:1,class:"space-y-6"},Ze={class:"flex items-center justify-between"},Ie={class:"flex items-center gap-3"},et={class:"w-8 h-8 bg-primary/10 text-primary rounded-full flex items-center justify-center text-sm font-semibold"},tt={class:"flex items-center gap-1"},st={class:"space-y-4"},ot={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},lt={class:"space-y-2"},rt={key:0,class:"text-sm text-destructive"},it={class:"space-y-2"},dt={key:0,class:"text-sm text-destructive"},at={class:"space-y-2"},nt={key:0,class:"text-sm text-destructive"},ut={class:"flex items-center gap-6"},mt={class:"flex items-center space-x-2"},ct={class:"flex items-center space-x-2"},pt={class:"border rounded-lg p-4 bg-muted/20"},ft={class:"flex items-center justify-between mb-4"},_t={class:"flex items-center gap-2"},vt={key:0,class:"text-center py-8 border-2 border-dashed border-input rounded-lg"},gt={key:1,class:"space-y-4"},yt={class:"flex items-center justify-between"},bt={class:"flex items-center gap-2"},ht={class:"w-6 h-6 bg-primary/10 text-primary rounded-full flex items-center justify-center text-xs font-medium"},xt={class:"grid grid-cols-1 lg:grid-cols-2 gap-4"},kt={class:"space-y-2"},Ct=["onUpdate:modelValue","onChange"],wt={class:"space-y-2"},Vt={key:0,class:"space-y-4"},Ut={class:"space-y-2"},$t=["onUpdate:modelValue"],Dt=["value"],Pt={key:0,class:"p-3 bg-blue-50 dark:bg-blue-950 rounded-lg"},Mt={class:"flex items-center gap-3"},Ft=["src","alt"],qt={class:"flex-1"},At={class:"font-medium text-sm"},St={class:"flex items-center gap-2 text-xs text-muted-foreground"},Bt={key:1,class:"space-y-4"},zt={class:"space-y-3"},jt={class:"flex gap-6"},Et={class:"flex items-center space-x-2"},Nt=["onUpdate:modelValue"],Tt={class:"flex items-center space-x-2"},Rt=["onUpdate:modelValue"],Gt={key:0},Lt=["onChange"],Ot={key:1,class:"space-y-2"},Jt={class:"space-y-2"},Xt={class:"space-y-2"},Ht={key:0,class:"text-sm text-destructive"},Kt={key:0,class:"p-3 bg-purple-50 dark:bg-purple-950 rounded-lg"},Qt={class:"flex items-center gap-3"},Wt={class:"flex-1"},Yt={class:"font-medium text-sm"},Zt={class:"text-xs text-muted-foreground"},It={key:0},es={class:"flex items-center gap-6 pt-2 border-t"},ts={class:"flex items-center space-x-2"},ss={class:"flex items-center space-x-2"},os={class:"flex justify-between items-center py-6"},ls={class:"flex items-center gap-4"},rs={key:0,class:"text-sm text-muted-foreground hidden sm:block"},Ts=me({__name:"Create",props:{availableVideos:{}},setup(ee){const te=ee,se=[{title:"Course Online",href:"/admin/course-online"},{title:"Create Course",href:"#"}],F=H(null),k=H(null),r=ce({name:"",description:"",image:null,difficulty_level:"",estimated_duration:null,is_active:!0,modules:[]}),G=K(()=>r.modules.reduce((a,t)=>{var d;return a+(((d=t.content)==null?void 0:d.length)||0)},0)),oe=a=>{var n;const t=a.target,d=(n=t.files)==null?void 0:n[0];if(d){if(d.size>2*1024*1024){alert("File size must be less than 2MB"),t.value="";return}r.image=d;const l=new FileReader;l.onload=v=>{var w;k.value=(w=v.target)==null?void 0:w.result},l.readAsDataURL(d)}},le=()=>{r.image=null,k.value=null,F.value&&(F.value.value="")},L=()=>{var a;(a=F.value)==null||a.click()},O=()=>{r.modules.push({name:"",description:"",order_number:r.modules.length+1,estimated_duration:null,is_required:!0,is_active:!0,content:[]})},re=a=>{confirm("Are you sure you want to remove this module and all its content?")&&(r.modules.splice(a,1),r.modules.forEach((t,d)=>{t.order_number=d+1}))},J=(a,t)=>{const d=t==="up"?a-1:a+1;if(d>=0&&d<r.modules.length){const n=r.modules[a];r.modules[a]=r.modules[d],r.modules[d]=n,r.modules.forEach((l,v)=>{l.order_number=v+1})}},X=a=>{r.modules[a].content||(r.modules[a].content=[]),r.modules[a].content.push({title:"",content_type:"",order_number:r.modules[a].content.length+1,is_required:!0,is_active:!0,video_id:null,pdf_source_type:"upload",pdf_file:null,google_drive_pdf_url:"",pdf_name:"",pdf_page_count:null})},ie=(a,t)=>{confirm("Are you sure you want to remove this content item?")&&(r.modules[a].content.splice(t,1),r.modules[a].content.forEach((d,n)=>{d.order_number=n+1}))},de=(a,t)=>{const d=r.modules[a].content[t];d.video_id=null,d.pdf_file=null,d.google_drive_pdf_url="",d.pdf_source_type="upload",d.pdf_name="",d.pdf_page_count=null},ae=(a,t,d)=>{var v;const l=(v=a.target.files)==null?void 0:v[0];l&&l.type==="application/pdf"&&(r.modules[t].content[d].pdf_file=l,r.modules[t].content[d].pdf_name=l.name)},C=a=>{var t;return(t=te.availableVideos)==null?void 0:t.find(d=>d.id==a)},B=a=>{if(a.content_type==="pdf"){if(!a.pdf_page_count||a.pdf_page_count<1)return"PDF page count is required and must be at least 1";if(a.pdf_page_count>1e3)return"Page count cannot exceed 1000";if(a.pdf_source_type==="upload"&&!a.pdf_file)return"Please upload a PDF file";if(a.pdf_source_type==="google_drive"&&!a.google_drive_pdf_url.trim())return"Please provide Google Drive URL"}return null},ne=K(()=>!r.name||!r.difficulty_level||r.modules.length===0?!1:r.modules.every(a=>a.name.trim()?a.content&&a.content.length>0?a.content.every(t=>!t.title||!t.content_type?!1:t.content_type==="video"?t.video_id&&t.video_id>0:t.content_type==="pdf"?t.pdf_page_count&&t.pdf_page_count>0&&t.pdf_page_count<=1e3&&(t.pdf_source_type==="upload"&&t.pdf_file||t.pdf_source_type==="google_drive"&&t.google_drive_pdf_url.trim()):!0):!0:!1)),ue=()=>{var a;for(let t=0;t<r.modules.length;t++){const d=r.modules[t];for(let n=0;n<(((a=d.content)==null?void 0:a.length)||0);n++){const l=d.content[n],v=B(l);if(v){alert(`Module ${t+1}, Content ${n+1}: ${v}`);return}}}r.post("/admin/course-online",{onSuccess:()=>{r.reset(),k.value=null}})};return(a,t)=>(m(),c(q,null,[s(e(pe),{title:"Create Complete Course"}),s(ye,{breadcrumbs:se},{default:i(()=>[o("div",$e,[o("div",De,[s(e(y),{asChild:"",variant:"ghost"},{default:i(()=>[s(e(Q),{href:"/admin/course-online"},{default:i(()=>[s(e(xe),{class:"h-4 w-4 mr-2"}),t[5]||(t[5]=u(" Back to Courses "))]),_:1})]),_:1}),t[6]||(t[6]=o("div",{class:"flex-1"},[o("h1",{class:"text-3xl font-bold"},"Create Complete Course"),o("p",{class:"text-muted-foreground"},"Build course, modules, and content all in one place")],-1)),o("div",Pe,[o("div",Me,[s(e(N),{class:"h-4 w-4"}),u(" "+p(e(r).modules.length)+" modules ",1)]),o("div",Fe,[s(e(S),{class:"h-4 w-4"}),u(" "+p(G.value)+" content items ",1)])])]),o("form",{onSubmit:fe(ue,["prevent"]),class:"space-y-6"},[s(e(U),null,{default:i(()=>[s(e(D),null,{default:i(()=>[s(e(P),{class:"flex items-center gap-2"},{default:i(()=>[s(e(N),{class:"h-5 w-5 text-primary"}),t[7]||(t[7]=u(" Course Information "))]),_:1}),s(e(A),null,{default:i(()=>t[8]||(t[8]=[u(" Enter the basic details for your online course ")])),_:1})]),_:1}),s(e($),{class:"space-y-6"},{default:i(()=>[o("div",qe,[s(e(g),{for:"name"},{default:i(()=>t[9]||(t[9]=[u("Course Name *")])),_:1}),s(e(h),{id:"name",modelValue:e(r).name,"onUpdate:modelValue":t[0]||(t[0]=d=>e(r).name=d),type:"text",placeholder:"Enter course name",class:b({"border-destructive":e(r).errors.name}),required:""},null,8,["modelValue","class"]),e(r).errors.name?(m(),c("div",Ae,p(e(r).errors.name),1)):_("",!0)]),o("div",Se,[s(e(g),{for:"description"},{default:i(()=>t[10]||(t[10]=[u("Course Description")])),_:1}),s(e(Y),{id:"description",modelValue:e(r).description,"onUpdate:modelValue":t[1]||(t[1]=d=>e(r).description=d),placeholder:"Describe what students will learn in this course...",rows:4,class:b({"border-destructive":e(r).errors.description})},null,8,["modelValue","class"]),e(r).errors.description?(m(),c("div",Be,p(e(r).errors.description),1)):_("",!0)]),o("div",ze,[o("div",je,[s(e(g),{for:"difficulty_level"},{default:i(()=>t[11]||(t[11]=[u("Difficulty Level *")])),_:1}),V(o("select",{id:"difficulty_level","onUpdate:modelValue":t[2]||(t[2]=d=>e(r).difficulty_level=d),required:"",class:b(["flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",{"border-destructive":e(r).errors.difficulty_level}])},t[12]||(t[12]=[o("option",{value:""},"Select difficulty",-1),o("option",{value:"beginner"},"Beginner",-1),o("option",{value:"intermediate"},"Intermediate",-1),o("option",{value:"advanced"},"Advanced",-1)]),2),[[z,e(r).difficulty_level]]),e(r).errors.difficulty_level?(m(),c("div",Ee,p(e(r).errors.difficulty_level),1)):_("",!0)]),o("div",Ne,[s(e(g),{for:"estimated_duration"},{default:i(()=>t[13]||(t[13]=[u("Duration (minutes)")])),_:1}),s(e(h),{id:"estimated_duration",modelValue:e(r).estimated_duration,"onUpdate:modelValue":t[3]||(t[3]=d=>e(r).estimated_duration=d),modelModifiers:{number:!0},type:"number",min:"1",placeholder:"e.g. 120",class:b({"border-destructive":e(r).errors.estimated_duration})},null,8,["modelValue","class"]),e(r).errors.estimated_duration?(m(),c("div",Te,p(e(r).errors.estimated_duration),1)):_("",!0)]),o("div",Re,[s(e(g),null,{default:i(()=>t[14]||(t[14]=[u("Course Status")])),_:1}),o("div",Ge,[s(e(M),{checked:e(r).is_active,"onUpdate:checked":t[4]||(t[4]=d=>e(r).is_active=d)},null,8,["checked"]),o("span",Le,p(e(r).is_active?"Active":"Inactive"),1)])])])]),_:1})]),_:1}),s(e(U),null,{default:i(()=>[s(e(D),null,{default:i(()=>[s(e(P),{class:"flex items-center gap-2"},{default:i(()=>[s(e(T),{class:"h-5 w-5 text-primary"}),t[15]||(t[15]=u(" Course Image "))]),_:1}),s(e(A),null,{default:i(()=>t[16]||(t[16]=[u(" Upload a course image to make it more attractive ")])),_:1})]),_:1}),s(e($),{class:"space-y-4"},{default:i(()=>[o("input",{ref_key:"imageInput",ref:F,type:"file",accept:"image/*",onChange:oe,class:"hidden"},null,544),k.value?_("",!0):(m(),c("div",{key:0,onClick:L,class:b(["border-2 border-dashed border-input rounded-lg p-8 text-center cursor-pointer hover:border-primary transition-colors",{"border-destructive":e(r).errors.image}])},[s(e(T),{class:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),t[17]||(t[17]=o("div",{class:"text-sm font-medium mb-2"},"Click to upload course image",-1)),t[18]||(t[18]=o("div",{class:"text-xs text-muted-foreground"}," PNG, JPG, GIF up to 2MB ",-1))],2)),k.value?(m(),c("div",Oe,[o("div",Je,[o("img",{src:k.value,alt:"Course preview",class:"w-full h-full object-cover"},null,8,Xe),s(e(y),{onClick:le,variant:"destructive",size:"sm",class:"absolute top-2 right-2 h-8 w-8 p-0 rounded-full",type:"button"},{default:i(()=>[s(e(ke),{class:"h-4 w-4"})]),_:1})]),o("div",He,[s(e(y),{onClick:L,variant:"outline",size:"sm",type:"button"},{default:i(()=>[s(e(T),{class:"h-4 w-4 mr-2"}),t[19]||(t[19]=u(" Change Image "))]),_:1})])])):_("",!0),e(r).errors.image?(m(),c("div",Ke,p(e(r).errors.image),1)):_("",!0)]),_:1})]),_:1}),s(e(U),null,{default:i(()=>[s(e(D),null,{default:i(()=>[o("div",Qe,[o("div",null,[s(e(P),{class:"flex items-center gap-2"},{default:i(()=>[s(e(ve),{class:"h-5 w-5 text-primary"}),t[20]||(t[20]=u(" Course Modules ")),s(e(E),{variant:"secondary"},{default:i(()=>[u(p(e(r).modules.length),1)]),_:1})]),_:1}),s(e(A),null,{default:i(()=>t[21]||(t[21]=[u(" Build your course structure with modules and content ")])),_:1})]),s(e(y),{type:"button",onClick:O,class:"shrink-0"},{default:i(()=>[s(e(R),{class:"h-4 w-4 mr-2"}),t[22]||(t[22]=u(" Add Module "))]),_:1})])]),_:1}),s(e($),null,{default:i(()=>[e(r).modules.length===0?(m(),c("div",We,[s(e(N),{class:"h-16 w-16 mx-auto text-muted-foreground mb-4"}),t[24]||(t[24]=o("h3",{class:"text-lg font-medium mb-2"},"No modules added yet",-1)),t[25]||(t[25]=o("p",{class:"text-muted-foreground mb-4"},"Add your first module to start building your course",-1)),s(e(y),{type:"button",onClick:O},{default:i(()=>[s(e(R),{class:"h-4 w-4 mr-2"}),t[23]||(t[23]=u(" Add First Module "))]),_:1})])):(m(),c("div",Ye,[(m(!0),c(q,null,j(e(r).modules,(d,n)=>(m(),x(e(U),{key:`module-${n}`,class:"border-2"},{default:i(()=>[s(e(D),{class:"pb-4"},{default:i(()=>{var l;return[o("div",Ze,[o("div",Ie,[o("div",et,p(n+1),1),o("div",null,[s(e(P),{class:"text-lg"},{default:i(()=>[u("Module "+p(n+1),1)]),_:2},1024),(l=d.content)!=null&&l.length?(m(),x(e(A),{key:0},{default:i(()=>[u(p(d.content.length)+" content items ",1)]),_:2},1024)):_("",!0)])]),o("div",tt,[n>0?(m(),x(e(y),{key:0,type:"button",variant:"ghost",size:"sm",onClick:v=>J(n,"up")},{default:i(()=>[s(e(Ce),{class:"h-4 w-4"})]),_:2},1032,["onClick"])):_("",!0),n<e(r).modules.length-1?(m(),x(e(y),{key:1,type:"button",variant:"ghost",size:"sm",onClick:v=>J(n,"down")},{default:i(()=>[s(e(ge),{class:"h-4 w-4"})]),_:2},1032,["onClick"])):_("",!0),s(e(y),{type:"button",variant:"ghost",size:"sm",onClick:v=>re(n),class:"text-destructive hover:text-destructive"},{default:i(()=>[s(e(Z),{class:"h-4 w-4"})]),_:2},1032,["onClick"])])])]}),_:2},1024),s(e($),{class:"space-y-6"},{default:i(()=>[o("div",st,[o("div",ot,[o("div",lt,[s(e(g),{for:`module-name-${n}`},{default:i(()=>t[26]||(t[26]=[u("Module Name *")])),_:2},1032,["for"]),s(e(h),{id:`module-name-${n}`,modelValue:d.name,"onUpdate:modelValue":l=>d.name=l,type:"text",required:"",placeholder:`Module ${n+1} name`,class:b({"border-destructive":e(r).errors[`modules.${n}.name`]})},null,8,["id","modelValue","onUpdate:modelValue","placeholder","class"]),e(r).errors[`modules.${n}.name`]?(m(),c("div",rt,p(e(r).errors[`modules.${n}.name`]),1)):_("",!0)]),o("div",it,[s(e(g),{for:`module-duration-${n}`},{default:i(()=>t[27]||(t[27]=[u("Duration (minutes)")])),_:2},1032,["for"]),s(e(h),{id:`module-duration-${n}`,modelValue:d.estimated_duration,"onUpdate:modelValue":l=>d.estimated_duration=l,modelModifiers:{number:!0},type:"number",min:"1",placeholder:"e.g. 30",class:b({"border-destructive":e(r).errors[`modules.${n}.estimated_duration`]})},null,8,["id","modelValue","onUpdate:modelValue","class"]),e(r).errors[`modules.${n}.estimated_duration`]?(m(),c("div",dt,p(e(r).errors[`modules.${n}.estimated_duration`]),1)):_("",!0)])]),o("div",at,[s(e(g),{for:`module-description-${n}`},{default:i(()=>t[28]||(t[28]=[u("Module Description")])),_:2},1032,["for"]),s(e(Y),{id:`module-description-${n}`,modelValue:d.description,"onUpdate:modelValue":l=>d.description=l,rows:3,placeholder:`Describe what students will learn in module ${n+1}`,class:b({"border-destructive":e(r).errors[`modules.${n}.description`]})},null,8,["id","modelValue","onUpdate:modelValue","placeholder","class"]),e(r).errors[`modules.${n}.description`]?(m(),c("div",nt,p(e(r).errors[`modules.${n}.description`]),1)):_("",!0)]),o("div",ut,[o("div",mt,[s(e(M),{checked:d.is_required,"onUpdate:checked":l=>d.is_required=l},null,8,["checked","onUpdate:checked"]),s(e(g),{class:"text-sm"},{default:i(()=>t[29]||(t[29]=[u("Required module")])),_:1})]),o("div",ct,[s(e(M),{checked:d.is_active,"onUpdate:checked":l=>d.is_active=l},null,8,["checked","onUpdate:checked"]),s(e(g),{class:"text-sm"},{default:i(()=>t[30]||(t[30]=[u("Active module")])),_:1})])])]),o("div",pt,[o("div",ft,[o("div",_t,[s(e(I),{class:"h-5 w-5 text-primary"}),t[31]||(t[31]=o("h4",{class:"font-medium"},"Module Content",-1)),s(e(E),{variant:"outline"},{default:i(()=>{var l;return[u(p(((l=d.content)==null?void 0:l.length)||0)+" items ",1)]}),_:2},1024)]),s(e(y),{type:"button",variant:"outline",size:"sm",onClick:l=>X(n)},{default:i(()=>[s(e(R),{class:"h-4 w-4 mr-2"}),t[32]||(t[32]=u(" Add Content "))]),_:2},1032,["onClick"])]),!d.content||d.content.length===0?(m(),c("div",vt,[s(e(S),{class:"h-12 w-12 mx-auto text-muted-foreground mb-3"}),t[34]||(t[34]=o("p",{class:"text-muted-foreground text-sm mb-4"},"No content added yet",-1)),s(e(y),{type:"button",variant:"outline",size:"sm",onClick:l=>X(n)},{default:i(()=>t[33]||(t[33]=[u(" Add first content item ")])),_:2},1032,["onClick"])])):(m(),c("div",gt,[(m(!0),c(q,null,j(d.content,(l,v)=>(m(),x(e(U),{key:`content-${n}-${v}`,class:"border"},{default:i(()=>[s(e(D),{class:"pb-3"},{default:i(()=>[o("div",yt,[o("div",bt,[o("div",ht,p(v+1),1),s(e(P),{class:"text-base"},{default:i(()=>[u("Content Item "+p(v+1),1)]),_:2},1024),l.content_type?(m(),x(e(E),{key:0,class:b(l.content_type==="video"?"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-300":"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-300")},{default:i(()=>[(m(),x(_e(l.content_type==="video"?e(I):e(S)),{class:"h-3 w-3 mr-1"})),u(" "+p(l.content_type),1)]),_:2},1032,["class"])):_("",!0)]),s(e(y),{type:"button",variant:"ghost",size:"sm",onClick:w=>ie(n,v),class:"text-destructive hover:text-destructive"},{default:i(()=>[s(e(Z),{class:"h-4 w-4"})]),_:2},1032,["onClick"])])]),_:2},1024),s(e($),{class:"space-y-4"},{default:i(()=>{var w;return[o("div",xt,[o("div",kt,[s(e(g),null,{default:i(()=>t[35]||(t[35]=[u("Content Type *")])),_:1}),V(o("select",{"onUpdate:modelValue":f=>l.content_type=f,required:"",class:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",onChange:f=>de(n,v)},t[36]||(t[36]=[o("option",{value:""},"Select type",-1),o("option",{value:"video"},"Video",-1),o("option",{value:"pdf"},"PDF Document",-1)]),40,Ct),[[z,l.content_type]])]),o("div",wt,[s(e(g),null,{default:i(()=>t[37]||(t[37]=[u("Content Title *")])),_:1}),s(e(h),{modelValue:l.title,"onUpdate:modelValue":f=>l.title=f,type:"text",required:"",placeholder:"Enter content title"},null,8,["modelValue","onUpdate:modelValue"])])]),l.content_type==="video"?(m(),c("div",Vt,[o("div",Ut,[s(e(g),null,{default:i(()=>t[38]||(t[38]=[u("Select Video *")])),_:1}),V(o("select",{"onUpdate:modelValue":f=>l.video_id=f,required:"",class:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"},[t[39]||(t[39]=o("option",{value:""},"Choose a video",-1)),(m(!0),c(q,null,j(a.availableVideos,f=>(m(),c("option",{key:f.id,value:f.id},p(f.name)+" ("+p(f.formatted_duration)+") ",9,Dt))),128))],8,$t),[[z,l.video_id]])]),l.video_id&&C(l.video_id)?(m(),c("div",Pt,[o("div",Mt,[(w=C(l.video_id))!=null&&w.thumbnail_url?(m(),c("img",{key:0,src:C(l.video_id).thumbnail_url,alt:C(l.video_id).name,class:"w-16 h-12 object-cover rounded"},null,8,Ft)):_("",!0),o("div",qt,[o("p",At,p(C(l.video_id).name),1),o("div",St,[s(e(we),{class:"h-3 w-3"}),u(" "+p(C(l.video_id).formatted_duration),1)])])])])):_("",!0)])):_("",!0),l.content_type==="pdf"?(m(),c("div",Bt,[o("div",zt,[s(e(g),null,{default:i(()=>t[40]||(t[40]=[u("PDF Source *")])),_:1}),o("div",jt,[o("label",Et,[V(o("input",{"onUpdate:modelValue":f=>l.pdf_source_type=f,type:"radio",value:"upload",class:"text-primary"},null,8,Nt),[[W,l.pdf_source_type]]),t[41]||(t[41]=o("span",{class:"text-sm"},"Upload File",-1))]),o("label",Tt,[V(o("input",{"onUpdate:modelValue":f=>l.pdf_source_type=f,type:"radio",value:"google_drive",class:"text-primary"},null,8,Rt),[[W,l.pdf_source_type]]),t[42]||(t[42]=o("span",{class:"text-sm"},"Google Drive URL",-1))])]),l.pdf_source_type==="upload"?(m(),c("div",Gt,[o("input",{type:"file",accept:".pdf",onChange:f=>ae(f,n,v),class:"block w-full text-sm text-muted-foreground file:mr-4 file:py-2 file:px-4 file:rounded-md file:border-0 file:text-sm file:font-medium file:bg-primary/10 file:text-primary hover:file:bg-primary/20"},null,40,Lt)])):_("",!0),l.pdf_source_type==="google_drive"?(m(),c("div",Ot,[s(e(h),{modelValue:l.google_drive_pdf_url,"onUpdate:modelValue":f=>l.google_drive_pdf_url=f,type:"url",placeholder:"https://drive.google.com/..."},null,8,["modelValue","onUpdate:modelValue"]),o("div",Jt,[s(e(g),null,{default:i(()=>t[43]||(t[43]=[u("PDF Name")])),_:1}),s(e(h),{modelValue:l.pdf_name,"onUpdate:modelValue":f=>l.pdf_name=f,type:"text",placeholder:"Enter PDF name"},null,8,["modelValue","onUpdate:modelValue"])])])):_("",!0)]),o("div",Xt,[s(e(g),{class:"text-red-600"},{default:i(()=>t[44]||(t[44]=[u("PDF Page Count *")])),_:1}),s(e(h),{modelValue:l.pdf_page_count,"onUpdate:modelValue":f=>l.pdf_page_count=f,modelModifiers:{number:!0},type:"number",min:"1",max:"1000",placeholder:"Enter number of pages (required)",class:b(["w-full",{"border-red-500":!l.pdf_page_count}]),required:""},null,8,["modelValue","onUpdate:modelValue","class"]),t[45]||(t[45]=o("p",{class:"text-xs text-red-600"}," * Required: Please count the pages manually and enter the exact number. This helps provide accurate reading time estimates. ",-1)),B(l)?(m(),c("div",Ht,p(B(l)),1)):_("",!0)]),l.pdf_file||l.google_drive_pdf_url?(m(),c("div",Kt,[o("div",Qt,[s(e(S),{class:"h-8 w-8 text-purple-600"}),o("div",Wt,[o("p",Yt,p(l.pdf_file?l.pdf_file.name:l.pdf_name||"Google Drive PDF"),1),o("p",Zt,[t[46]||(t[46]=u(" PDF Document ")),l.pdf_page_count?(m(),c("span",It," • "+p(l.pdf_page_count)+" pages",1)):_("",!0)])])])])):_("",!0)])):_("",!0),o("div",es,[o("div",ts,[s(e(M),{checked:l.is_required,"onUpdate:checked":f=>l.is_required=f},null,8,["checked","onUpdate:checked"]),s(e(g),{class:"text-sm"},{default:i(()=>t[47]||(t[47]=[u("Required content")])),_:1})]),o("div",ss,[s(e(M),{checked:l.is_active,"onUpdate:checked":f=>l.is_active=f},null,8,["checked","onUpdate:checked"]),s(e(g),{class:"text-sm"},{default:i(()=>t[48]||(t[48]=[u("Active content")])),_:1})])])]}),_:2},1024)]),_:2},1024))),128))]))])]),_:2},1024)]),_:2},1024))),128))]))]),_:1})]),_:1}),s(e(be),null,{default:i(()=>[s(e(Ve),{class:"h-4 w-4"}),s(e(he),null,{default:i(()=>t[49]||(t[49]=[o("strong",null,"Important:",-1),u(" Make sure your videos are accessible and PDFs are properly formatted. "),o("strong",null,"PDF page count is required",-1),u(" for accurate progress tracking and reading time estimates. Students will access content sequentially based on module order. ")])),_:1})]),_:1}),o("div",os,[s(e(y),{asChild:"",variant:"outline"},{default:i(()=>[s(e(Q),{href:"/admin/course-online"},{default:i(()=>t[50]||(t[50]=[u(" Cancel ")])),_:1})]),_:1}),o("div",ls,[e(r).modules.length>0?(m(),c("div",rs,p(e(r).modules.length)+" modules • "+p(G.value)+" content items ",1)):_("",!0),s(e(y),{type:"submit",disabled:e(r).processing||!ne.value,class:"min-w-48"},{default:i(()=>[s(e(Ue),{class:"h-4 w-4 mr-2"}),u(" "+p(e(r).processing?"Creating Course...":"Create Complete Course"),1)]),_:1},8,["disabled"])])])],32)])]),_:1})],64))}});export{Ts as default};
