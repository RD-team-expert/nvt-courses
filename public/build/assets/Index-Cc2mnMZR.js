import{P as B,H as v,k as V,o as n,w,e,a,f as c,t as d,g as _,v as S,F as z,h as k,i as L,n as g,b as C,p as T,j as P,r as b,c as m}from"./app-n_cIwlLT.js";import{_ as F}from"./Pagination.vue_vue_type_script_setup_true_lang-D4dbHMXX.js";import{_ as N}from"./AppLayout.vue_vue_type_script_setup_true_lang-Rz_S81Vw.js";import{_ as A}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-B9XjMpGI.js";import"./index-BgSmG8al.js";const H={components:{AppLayout:N,Link:B,Pagination:F},props:{quizzes:{type:Object,required:!0}},setup(l){const t=b(""),i=b(""),r=b("grid"),p=[{name:"Quizzes",route:null}],y=m(()=>!l.quizzes.data||!l.quizzes.data.length?[]:l.quizzes.data.map(u=>u.course).filter((u,Q,M)=>Q===M.findIndex(j=>j.id===u.id))),f=m(()=>{if(!l.quizzes.data||!l.quizzes.data.length)return[];let o=l.quizzes.data;return t.value&&(o=o.filter(u=>u.title.toLowerCase().includes(t.value.toLowerCase())||u.description&&u.description.toLowerCase().includes(t.value.toLowerCase())||u.course.name.toLowerCase().includes(t.value.toLowerCase()))),i.value&&(o=o.filter(u=>u.course.id===i.value)),o}),x=m(()=>!l.quizzes.data||!l.quizzes.data.length?0:l.quizzes.data.filter(o=>o.has_passed||o.attempts>=3).length),h=m(()=>!l.quizzes.data||!l.quizzes.data.length?0:l.quizzes.data.filter(o=>!o.has_passed&&o.attempts<3).length);return{breadcrumbs:p,searchQuery:t,selectedCourse:i,viewMode:r,uniqueCourses:y,filteredQuizzes:f,completedQuizzes:x,pendingQuizzes:h,toggleView:()=>{r.value=r.value==="grid"?"list":"grid"},clearFilters:()=>{t.value="",i.value=""},canTakeQuiz:o=>o.has_passed?!1:o.attempts<3,getQuizStatus:o=>o.has_passed?"Passed":o.attempts>=3?"Failed":o.attempts>0?"In Progress":"Not Started",getQuizStatusColor:o=>o.has_passed?"bg-green-500":o.attempts>=3?"bg-red-500":o.attempts>0?"bg-yellow-500":"bg-blue-500",getQuizStatusBadge:o=>o.has_passed?"bg-green-100 text-green-800":o.attempts>=3?"bg-red-100 text-red-800":o.attempts>0?"bg-yellow-100 text-yellow-800":"bg-blue-100 text-blue-800",getButtonText:o=>o.has_passed||o.attempts>=3?"View Results":o.attempts>0?"Continue Quiz":"Start Quiz"}}},I={class:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50"},D={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8"},R={key:0,class:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8"},U={class:"bg-white rounded-xl shadow-sm p-6 border border-gray-100"},q={class:"flex items-center"},E={class:"ml-4"},O={class:"text-2xl font-bold text-gray-900"},G={class:"bg-white rounded-xl shadow-sm p-6 border border-gray-100"},J={class:"flex items-center"},K={class:"ml-4"},W={class:"text-2xl font-bold text-gray-900"},X={class:"bg-white rounded-xl shadow-sm p-6 border border-gray-100"},Y={class:"flex items-center"},Z={class:"ml-4"},$={class:"text-2xl font-bold text-gray-900"},ee={key:1,class:"bg-white rounded-xl shadow-sm p-6 mb-8 border border-gray-100"},te={class:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4"},se={class:"flex flex-col sm:flex-row gap-4"},oe={class:"relative"},re=["value"],ie={class:"flex items-center gap-2"},le=["title"],ne={key:0,class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},ae={key:1,class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},de={key:2,class:"mb-8"},ue={class:"flex"},ge={class:"flex-1 p-6"},ce={class:"flex items-start justify-between mb-4"},me={class:"flex-1 pr-4"},fe={class:"text-xl font-semibold text-gray-900 mb-2"},xe={class:"text-sm text-gray-600 mb-3"},he={class:"grid grid-cols-2 gap-4 mb-4"},ve={class:"bg-gray-50 rounded-lg p-3"},be={class:"text-sm font-medium text-gray-900"},pe={class:"bg-gray-50 rounded-lg p-3"},ye={class:"text-sm font-medium text-gray-900"},we={class:"mb-4"},_e={class:"flex justify-between items-center mb-2"},ze={class:"text-xs text-gray-700"},ke={class:"w-full bg-gray-200 rounded-full h-2"},Ce={class:"flex items-center justify-between text-xs text-gray-500 mb-4"},Qe={key:0},Me={key:3,class:"text-center py-16"},je={key:4,class:"text-center py-16"},Be={key:5,class:"flex justify-center"};function Ve(l,t,i,r,p,y){const f=v("Link"),x=v("pagination"),h=v("AppLayout");return n(),V(h,{breadcrumbs:r.breadcrumbs},{default:w(()=>[e("div",I,[e("div",D,[t[22]||(t[22]=e("div",{class:"mb-8 text-center lg:text-left"},[e("h1",{class:"text-4xl font-bold text-gray-900 mb-2"},"Available Quizzes"),e("p",{class:"text-lg text-gray-600"},"Test your knowledge and track your progress")],-1)),i.quizzes.data&&i.quizzes.data.length?(n(),a("div",R,[e("div",U,[e("div",q,[t[5]||(t[5]=e("div",{class:"p-3 rounded-full bg-blue-100 text-blue-600"},[e("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})])],-1)),e("div",E,[t[4]||(t[4]=e("p",{class:"text-sm font-medium text-gray-600"},"Total Quizzes",-1)),e("p",O,d(i.quizzes.data.length),1)])])]),e("div",G,[e("div",J,[t[7]||(t[7]=e("div",{class:"p-3 rounded-full bg-green-100 text-green-600"},[e("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1)),e("div",K,[t[6]||(t[6]=e("p",{class:"text-sm font-medium text-gray-600"},"Completed",-1)),e("p",W,d(r.completedQuizzes),1)])])]),e("div",X,[e("div",Y,[t[9]||(t[9]=e("div",{class:"p-3 rounded-full bg-yellow-100 text-yellow-600"},[e("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1)),e("div",Z,[t[8]||(t[8]=e("p",{class:"text-sm font-medium text-gray-600"},"Pending",-1)),e("p",$,d(r.pendingQuizzes),1)])])])])):c("",!0),i.quizzes.data&&i.quizzes.data.length?(n(),a("div",ee,[e("div",te,[e("div",se,[e("div",oe,[_(e("input",{"onUpdate:modelValue":t[0]||(t[0]=s=>r.searchQuery=s),type:"text",placeholder:"Search quizzes...",class:"w-full sm:w-64 pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"},null,512),[[S,r.searchQuery]]),t[10]||(t[10]=e("div",{class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},[e("svg",{class:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})])],-1))]),_(e("select",{"onUpdate:modelValue":t[1]||(t[1]=s=>r.selectedCourse=s),class:"w-full sm:w-48 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"},[t[11]||(t[11]=e("option",{value:""},"All Courses",-1)),(n(!0),a(z,null,k(r.uniqueCourses,s=>(n(),a("option",{key:s.id,value:s.id},d(s.name),9,re))),128))],512),[[L,r.selectedCourse]])]),e("div",ie,[e("button",{onClick:t[2]||(t[2]=(...s)=>r.toggleView&&r.toggleView(...s)),class:"p-2 text-gray-400 hover:text-gray-600",title:r.viewMode==="grid"?"Switch to list view":"Switch to grid view"},[r.viewMode==="grid"?(n(),a("svg",ne,t[12]||(t[12]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 10h16M4 14h16M4 18h16"},null,-1)]))):(n(),a("svg",ae,t[13]||(t[13]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"},null,-1)])))],8,le)])])])):c("",!0),r.filteredQuizzes.length?(n(),a("div",de,[e("div",{class:g(r.viewMode==="grid"?"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6":"space-y-4")},[(n(!0),a(z,null,k(r.filteredQuizzes,s=>(n(),a("div",{key:s.id,class:"bg-white rounded-xl shadow-sm border border-gray-100 hover:shadow-md hover:border-gray-200 transition-all duration-200 overflow-hidden"},[e("div",ue,[e("div",{class:g(["w-1 flex-shrink-0",r.getQuizStatusColor(s)])},null,2),e("div",ge,[e("div",ce,[e("div",me,[e("h2",fe,d(s.title),1),e("p",xe,d(s.description||"No description available"),1)]),e("div",{class:g(["px-3 py-1 rounded-full text-xs font-medium flex-shrink-0",r.getQuizStatusBadge(s)])},d(r.getQuizStatus(s)),3)]),e("div",he,[e("div",ve,[t[14]||(t[14]=e("p",{class:"text-xs text-gray-500 mb-1"},"Course",-1)),e("p",be,d(s.course.name),1)]),e("div",pe,[t[15]||(t[15]=e("p",{class:"text-xs text-gray-500 mb-1"},"Total Points",-1)),e("p",ye,d(s.total_points),1)])]),e("div",we,[e("div",_e,[t[16]||(t[16]=e("span",{class:"text-xs text-gray-500"},"Progress",-1)),e("span",ze,d(s.attempts)+"/3 attempts",1)]),e("div",ke,[e("div",{class:g(["h-2 rounded-full transition-all duration-300",s.has_passed?"bg-green-500":"bg-gradient-to-r from-indigo-500 to-purple-600"]),style:T({width:s.has_passed?"100%":`${s.attempts/3*100}%`})},null,6)])]),e("div",Ce,[e("span",null,"Pass: "+d(s.pass_threshold)+"%",1),s.time_limit?(n(),a("span",Qe,d(s.time_limit)+" min",1)):c("",!0)]),C(f,{href:l.route("quizzes.show",s.id),class:g(["w-full inline-flex items-center justify-center px-4 py-3 rounded-lg font-medium text-sm transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2",r.canTakeQuiz(s)?"bg-gradient-to-r from-indigo-600 to-purple-600 hover:from-indigo-700 hover:to-purple-700 text-white focus:ring-indigo-500":"bg-gray-100 text-gray-400 cursor-not-allowed"])},{default:w(()=>[t[17]||(t[17]=e("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M14.828 14.828a4 4 0 01-5.656 0M9 10h1m4 0h1m-6 4h.01M19 10a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),P(" "+d(r.getButtonText(s)),1)]),_:2},1032,["href","class"])])])]))),128))],2)])):!i.quizzes.data||!i.quizzes.data.length?(n(),a("div",Me,t[18]||(t[18]=[e("div",{class:"mx-auto w-24 h-24 bg-gray-100 rounded-full flex items-center justify-center mb-4"},[e("svg",{class:"w-12 h-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})])],-1),e("h3",{class:"text-lg font-medium text-gray-900 mb-2"},"No quizzes available",-1),e("p",{class:"text-gray-500 mb-4"},"There are no quizzes available for your enrolled courses at the moment.",-1)]))):(n(),a("div",je,[t[19]||(t[19]=e("div",{class:"mx-auto w-24 h-24 bg-gray-100 rounded-full flex items-center justify-center mb-4"},[e("svg",{class:"w-12 h-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})])],-1)),t[20]||(t[20]=e("h3",{class:"text-lg font-medium text-gray-900 mb-2"},"No quizzes found",-1)),t[21]||(t[21]=e("p",{class:"text-gray-500 mb-4"},"Try adjusting your search or filter criteria.",-1)),e("button",{onClick:t[3]||(t[3]=(...s)=>r.clearFilters&&r.clearFilters(...s)),class:"inline-flex items-center px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700"}," Clear Filters ")])),i.quizzes.links&&i.quizzes.data&&i.quizzes.data.length?(n(),a("div",Be,[C(x,{links:i.quizzes.links},null,8,["links"])])):c("",!0)])])]),_:1},8,["breadcrumbs"])}const qe=A(H,[["render",Ve],["__scopeId","data-v-909174f1"]]);export{qe as default};
