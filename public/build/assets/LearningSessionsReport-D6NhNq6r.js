import{d as _e,r as A,W as ve,l as ge,g as f,o as d,w as o,e as l,b as s,u as e,f as n,t as i,a as g,F as V,i as R,h as x,k as L,y as pe}from"./app-MXdxrpBP.js";import{_ as xe}from"./AdminLayout.vue_vue_type_script_setup_true_lang-Cko1X1nL.js";import{l as ye}from"./lodash-Dj_2E-MZ.js";import{_ as E}from"./Button.vue_vue_type_script_setup_true_lang-BKr8K4x3.js";import{_ as G}from"./Input.vue_vue_type_script_setup_true_lang-DoOWngRm.js";import{_ as h}from"./Label.vue_vue_type_script_setup_true_lang-CMg33l_g.js";import{_ as c}from"./Card.vue_vue_type_script_setup_true_lang-DoQFXKAt.js";import{_ as v}from"./CardContent.vue_vue_type_script_setup_true_lang-ClX6NZUE.js";import{_ as we}from"./CardDescription.vue_vue_type_script_setup_true_lang-DfVH0C_I.js";import{_ as J}from"./CardHeader.vue_vue_type_script_setup_true_lang-Iarz0SgV.js";import{_ as Q}from"./CardTitle.vue_vue_type_script_setup_true_lang-BuAAUoQF.js";import{_ as he}from"./Checkbox.vue_vue_type_script_setup_true_lang-DDaYBwEu.js";import{_ as T,a as z,b as B,c as F,d as b}from"./SelectValue.vue_vue_type_script_setup_true_lang-A55hJkry.js";import{_ as ke,a as be,b as N,c as w,d as Ce,e as y}from"./TableHeader.vue_vue_type_script_setup_true_lang-64qyV9Mz.js";import{_ as p}from"./index-CM7dsTQQ.js";import{_ as Se,a as $e,b as Ae,c as Ve}from"./DialogTitle.vue_vue_type_script_setup_true_lang-DBwHzxol.js";import{_ as Re}from"./DialogDescription.vue_vue_type_script_setup_true_lang-v_b5MS1a.js";import{D as Ue}from"./download-BYC6wGmO.js";import{A as $}from"./activity-CCWf6d4r.js";import{T as C}from"./triangle-alert-BwZFYJX_.js";import{T as X}from"./target-CPAquLQv.js";import{C as Y}from"./clock-3FpBgrtN.js";import{Z as De}from"./zap--CFEKcOf.js";import{F as Le}from"./filter-DK5ud8ov.js";import{R as Ee}from"./rotate-ccw-DhGsZVcy.js";import{U as Te}from"./user-DfaLo6xZ.js";import{C as ze}from"./calendar-Dm6egiIA.js";import{B as ee}from"./brain-09kOwY5e.js";import{P as Be}from"./play-fEZkz90P.js";import{S as te}from"./AppLayout.vue_vue_type_script_setup_true_lang-tiastS8M.js";import{S as Fe}from"./skip-forward-BJSYjC8M.js";import{E as se}from"./eye-D36jGuxM.js";import{C as j}from"./circle-check-big-CkUvsTYQ.js";import"./index-s_lgDGGZ.js";import"./index-DAJ2Iuju.js";import"./check-BXNNc96s.js";import"./useForwardPropsEmits-BwNf-sle.js";import"./Presence-BI-_cLG3.js";import"./ConfigProvider-7p_MgCLL.js";import"./useForwardExpose-CG67Mv1I.js";import"./Teleport-CEozeWaF.js";import"./handleAndDispatchCustomEvent-ChOKVcqp.js";import"./chevron-up-Byih8-4m.js";import"./Collection-qE3ok-Ub.js";import"./usePrimitiveElement-B-8GFYP9.js";import"./useSize-D_w5fcov.js";import"./ohash.D__AXeF1-DHF4M4F_.js";import"./nullish-CHIgUVhi.js";import"./VisuallyHidden-CMI4D6XY.js";import"./_plugin-vue_export-helper-BDH3hSXr.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-DOvyjOLF.js";const Ne={class:"px-4 sm:px-0 space-y-6"},je={class:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4"},Me={class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-5 gap-4"},Oe={class:"flex items-center"},Pe={class:"ml-4"},qe={class:"text-2xl font-bold text-foreground"},Ie={class:"flex items-center"},We={class:"ml-4"},Ze={class:"text-2xl font-bold text-foreground"},He={class:"flex items-center"},Ke={class:"ml-4"},Ge={class:"text-2xl font-bold text-foreground"},Je={class:"flex items-center"},Qe={class:"ml-4"},Xe={class:"text-2xl font-bold text-foreground"},Ye={class:"flex items-center"},et={class:"ml-4"},tt={class:"text-2xl font-bold text-foreground"},st={class:"flex items-center"},lt={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-6 gap-4"},ot={class:"space-y-2"},at={class:"space-y-2"},nt={class:"space-y-2"},rt={class:"space-y-2"},it={class:"space-y-2"},dt={class:"space-y-2"},ut={class:"flex items-center space-x-2"},mt={class:"flex justify-end mt-4"},ft={class:"overflow-x-auto"},ct={class:"flex items-center"},_t={class:"flex items-center"},vt={class:"flex items-center"},gt={class:"flex items-center"},pt={class:"flex items-center"},xt={class:"flex items-center"},yt={class:"flex items-center"},wt={class:"flex flex-col items-center"},ht={class:"space-y-1"},kt={class:"font-medium text-foreground"},bt={class:"text-sm text-muted-foreground hidden sm:block"},Ct={class:"text-sm text-muted-foreground sm:hidden"},St={class:"space-y-1"},$t={class:"text-sm text-muted-foreground"},At={class:"space-y-1"},Vt={class:"text-sm text-foreground"},Rt={key:0,class:"text-sm text-muted-foreground"},Ut={class:"space-y-1"},Dt={class:"text-sm font-medium text-foreground"},Lt={key:0,class:"text-xs text-muted-foreground"},Et={class:"space-y-2"},Tt={class:"text-xs text-muted-foreground"},zt={class:"space-y-1 text-xs text-muted-foreground"},Bt={key:0,class:"flex items-center"},Ft={key:1,class:"flex items-center"},Nt={key:2,class:"text-muted-foreground"},jt={class:"flex flex-col space-y-1"},Mt={key:0,class:"space-y-6 mt-4"},Ot={class:"bg-muted/50 rounded-lg p-4"},Pt={class:"grid grid-cols-2 md:grid-cols-4 gap-4"},qt={class:"font-medium"},It={class:"font-medium"},Wt={class:"font-medium"},Zt={class:"grid grid-cols-1 md:grid-cols-3 gap-6"},Ht={class:"text-3xl font-bold text-primary mb-2"},Kt={class:"text-3xl font-bold text-green-600 mb-2"},Gt={class:"w-full bg-muted rounded-full h-2 mt-2"},Jt={class:"text-3xl font-bold text-red-600 mb-2"},Qt={class:"grid grid-cols-2 md:grid-cols-4 gap-4 text-center"},Xt={class:"p-3 bg-muted rounded-lg"},Yt={class:"text-2xl font-bold text-orange-600"},es={class:"p-3 bg-muted rounded-lg"},ts={class:"text-2xl font-bold text-blue-600"},ss={class:"flex items-start"},ls={class:"flex-shrink-0"},sl=_e({__name:"LearningSessionsReport",props:{sessions:Object,courses:Array,users:Array,departments:Array,filters:Object,stats:Object},setup(_){var q,I,W,Z,H,K;const k=_,le=[{name:"Dashboard",href:route("dashboard")},{name:"Reports & Analytics",href:route("admin.reports.index")},{name:"Learning Sessions",href:route("admin.reports.course-online.learning-sessions")}],m=A({course_id:((q=k.filters)==null?void 0:q.course_id)||"",user_id:((I=k.filters)==null?void 0:I.user_id)||"",department_id:((W=k.filters)==null?void 0:W.department_id)||"",date_from:((Z=k.filters)==null?void 0:Z.date_from)||"",date_to:((H=k.filters)==null?void 0:H.date_to)||"",suspicious_only:((K=k.filters)==null?void 0:K.suspicious_only)||!1}),S=A(!1),U=A(""),u=A(null),D=r=>{switch(r?r.toLowerCase():"unknown"){case"high":return"default";case"medium":return"secondary";case"low":return"outline";case"very low":return"destructive";default:return"secondary"}},M=r=>{switch(r?r.toLowerCase():"unknown"){case"high":return X;case"medium":return $;case"low":return C;case"very low":return C;default:return $}},O=r=>{switch(r?r.toLowerCase():"none"){case"critical":case"very high":return"destructive";case"high":return"destructive";case"medium":return"outline";case"low":return"secondary";default:return"secondary"}},oe=r=>{switch(r?r.toLowerCase():"none"){case"critical":case"very high":return te;case"high":return C;case"medium":return se;case"low":return j;default:return j}},ae=r=>{m.value.course_id=r==="all"?"":r},ne=r=>{m.value.user_id=r==="all"?"":r},P=ye.debounce(()=>{const r={...m.value};r.date_from&&(r.date_from=r.date_from.trim()),r.date_to&&(r.date_to=r.date_to.trim()),ve.get(route("admin.reports.course-online.learning-sessions"),r,{preserveState:!0,replace:!0})},500);ge(m,()=>{P()},{deep:!0});const re=()=>{m.value={course_id:"",user_id:"",department_id:"",date_from:"",date_to:"",suspicious_only:!1},P()},ie=()=>{const r=new URLSearchParams(m.value).toString();window.location.href=route("admin.reports.course-online.export.learning-sessions")+"?"+r},de=r=>{if(!r||r<=0)return"0 min";if(r<60)return`${Math.round(r)} min`;const t=Math.floor(r/60),a=Math.round(r%60);return a>0?`${t}h ${a}m`:`${t}h`},ue=r=>{u.value=r,U.value=`Session Details - ${r.user_name}`,S.value=!0},me=()=>{S.value=!1,u.value=null,U.value=""},fe=r=>{r.key==="Escape"&&S.value&&me()};return typeof window<"u"&&window.addEventListener("keydown",fe),(r,t)=>(d(),f(xe,{breadcrumbs:le},{default:o(()=>[l("div",Ne,[l("div",je,[t[6]||(t[6]=l("div",null,[l("h1",{class:"text-xl sm:text-2xl font-bold text-foreground"},"Learning Sessions Report"),l("p",{class:"text-sm text-muted-foreground mt-1"},"Comprehensive reporting interface for tracking learning sessions and engagement metrics")],-1)),s(e(E),{onClick:ie,class:"w-full sm:w-auto"},{default:o(()=>[s(e(Ue),{class:"mr-2 h-4 w-4"}),t[5]||(t[5]=n(" Export to CSV "))]),_:1})]),l("div",Me,[s(e(c),null,{default:o(()=>[s(e(v),{class:"p-6"},{default:o(()=>{var a;return[l("div",Oe,[s(e($),{class:"h-8 w-8 text-blue-600"}),l("div",Pe,[t[7]||(t[7]=l("p",{class:"text-sm font-medium text-muted-foreground"},"Total Sessions",-1)),l("p",qe,i(((a=_.stats)==null?void 0:a.total_sessions)||0),1)])])]}),_:1})]),_:1}),s(e(c),null,{default:o(()=>[s(e(v),{class:"p-6"},{default:o(()=>{var a;return[l("div",Ie,[s(e(C),{class:"h-8 w-8 text-red-600"}),l("div",We,[t[8]||(t[8]=l("p",{class:"text-sm font-medium text-muted-foreground"},"Suspicious Sessions",-1)),l("p",Ze,i(((a=_.stats)==null?void 0:a.suspicious_sessions)||0),1)])])]}),_:1})]),_:1}),s(e(c),null,{default:o(()=>[s(e(v),{class:"p-6"},{default:o(()=>{var a;return[l("div",He,[s(e(X),{class:"h-8 w-8 text-yellow-600"}),l("div",Ke,[t[9]||(t[9]=l("p",{class:"text-sm font-medium text-muted-foreground"},"Avg Attention",-1)),l("p",Ge,i(((a=_.stats)==null?void 0:a.average_attention_score)||0)+"%",1)])])]}),_:1})]),_:1}),s(e(c),null,{default:o(()=>[s(e(v),{class:"p-6"},{default:o(()=>{var a;return[l("div",Je,[s(e(Y),{class:"h-8 w-8 text-green-600"}),l("div",Qe,[t[10]||(t[10]=l("p",{class:"text-sm font-medium text-muted-foreground"},"Avg Duration",-1)),l("p",Xe,i(de((a=_.stats)==null?void 0:a.average_session_duration)),1)])])]}),_:1})]),_:1}),s(e(c),null,{default:o(()=>[s(e(v),{class:"p-6"},{default:o(()=>{var a;return[l("div",Ye,[s(e(De),{class:"h-8 w-8 text-purple-600"}),l("div",et,[t[11]||(t[11]=l("p",{class:"text-sm font-medium text-muted-foreground"},"High Engagement",-1)),l("p",tt,i(((a=_.stats)==null?void 0:a.high_engagement_sessions)||0),1)])])]}),_:1})]),_:1})]),s(e(c),null,{default:o(()=>[s(e(J),null,{default:o(()=>[l("div",st,[s(e(Le),{class:"mr-2 h-5 w-5 text-primary"}),l("div",null,[s(e(Q),null,{default:o(()=>t[12]||(t[12]=[n("Filter Sessions")])),_:1}),s(e(we),null,{default:o(()=>t[13]||(t[13]=[n("Use the filters below to narrow down the session records")])),_:1})])])]),_:1}),s(e(v),null,{default:o(()=>[l("div",lt,[l("div",ot,[s(e(h),{for:"course_filter"},{default:o(()=>t[14]||(t[14]=[n("Course")])),_:1}),s(e(T),{"model-value":m.value.course_id||"all","onUpdate:modelValue":ae},{default:o(()=>[s(e(z),{id:"course_filter"},{default:o(()=>[s(e(B),{placeholder:"All Courses"})]),_:1}),s(e(F),null,{default:o(()=>[s(e(b),{value:"all"},{default:o(()=>t[15]||(t[15]=[n("All Courses")])),_:1}),(d(!0),g(V,null,R(_.courses,a=>(d(),f(e(b),{key:a.id,value:a.id.toString()},{default:o(()=>[n(i(a.name),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["model-value"])]),l("div",at,[s(e(h),{for:"user_filter"},{default:o(()=>t[16]||(t[16]=[n("User")])),_:1}),s(e(T),{"model-value":m.value.user_id||"all","onUpdate:modelValue":ne},{default:o(()=>[s(e(z),{id:"user_filter"},{default:o(()=>[s(e(B),{placeholder:"All Users"})]),_:1}),s(e(F),null,{default:o(()=>[s(e(b),{value:"all"},{default:o(()=>t[17]||(t[17]=[n("All Users")])),_:1}),(d(!0),g(V,null,R(_.users,a=>(d(),f(e(b),{key:a.id,value:a.id.toString()},{default:o(()=>[n(i(a.name),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["model-value"])]),l("div",nt,[s(e(h),{for:"department_filter"},{default:o(()=>t[18]||(t[18]=[n("Department")])),_:1}),s(e(T),{"model-value":m.value.department_id||"all","onUpdate:modelValue":t[0]||(t[0]=a=>m.value.department_id=a==="all"?"":a)},{default:o(()=>[s(e(z),{id:"department_filter"},{default:o(()=>[s(e(B),{placeholder:"All Departments"})]),_:1}),s(e(F),null,{default:o(()=>[s(e(b),{value:"all"},{default:o(()=>t[19]||(t[19]=[n("All Departments")])),_:1}),(d(!0),g(V,null,R(_.departments,a=>(d(),f(e(b),{key:a.id,value:a.id.toString()},{default:o(()=>[n(i(a.name),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["model-value"])]),l("div",rt,[s(e(h),{for:"date_from"},{default:o(()=>t[20]||(t[20]=[n("Session From")])),_:1}),s(e(G),{id:"date_from",type:"date",modelValue:m.value.date_from,"onUpdate:modelValue":t[1]||(t[1]=a=>m.value.date_from=a)},null,8,["modelValue"])]),l("div",it,[s(e(h),{for:"date_to"},{default:o(()=>t[21]||(t[21]=[n("Session To")])),_:1}),s(e(G),{id:"date_to",type:"date",modelValue:m.value.date_to,"onUpdate:modelValue":t[2]||(t[2]=a=>m.value.date_to=a)},null,8,["modelValue"])]),l("div",dt,[s(e(h),null,{default:o(()=>t[22]||(t[22]=[n("Options")])),_:1}),l("div",ut,[s(e(he),{id:"suspicious_only",checked:m.value.suspicious_only,"onUpdate:checked":t[3]||(t[3]=a=>m.value.suspicious_only=a)},null,8,["checked"]),s(e(h),{for:"suspicious_only",class:"text-sm font-normal"},{default:o(()=>t[23]||(t[23]=[n(" Suspicious Only ")])),_:1})])])]),l("div",mt,[s(e(E),{onClick:re,variant:"outline"},{default:o(()=>[s(e(Ee),{class:"mr-2 h-4 w-4"}),t[24]||(t[24]=n(" Reset Filters "))]),_:1})])]),_:1})]),_:1}),s(e(c),null,{default:o(()=>[l("div",ft,[s(e(ke),null,{default:o(()=>[s(e(be),null,{default:o(()=>[s(e(N),null,{default:o(()=>[s(e(w),null,{default:o(()=>[l("div",ct,[s(e(Te),{class:"mr-2 h-4 w-4"}),t[25]||(t[25]=n(" User "))])]),_:1}),s(e(w),{class:"hidden sm:table-cell"},{default:o(()=>[l("div",_t,[s(e($),{class:"mr-2 h-4 w-4"}),t[26]||(t[26]=n(" Course & Content "))])]),_:1}),s(e(w),null,{default:o(()=>[l("div",vt,[s(e(ze),{class:"mr-2 h-4 w-4"}),t[27]||(t[27]=n(" Session Time "))])]),_:1}),s(e(w),null,{default:o(()=>[l("div",gt,[s(e(Y),{class:"mr-2 h-4 w-4"}),t[28]||(t[28]=n(" Duration "))])]),_:1}),s(e(w),null,{default:o(()=>[l("div",pt,[s(e(ee),{class:"mr-2 h-4 w-4"}),t[29]||(t[29]=n(" Engagement "))])]),_:1}),s(e(w),{class:"hidden md:table-cell"},{default:o(()=>[l("div",xt,[s(e(Be),{class:"mr-2 h-4 w-4"}),t[30]||(t[30]=n(" Activities "))])]),_:1}),s(e(w),null,{default:o(()=>[l("div",yt,[s(e(te),{class:"mr-2 h-4 w-4"}),t[31]||(t[31]=n(" Status "))])]),_:1}),s(e(w),null,{default:o(()=>t[32]||(t[32]=[n("Actions")])),_:1})]),_:1})]),_:1}),s(e(Ce),null,{default:o(()=>[_.sessions.data.length===0?(d(),f(e(N),{key:0},{default:o(()=>[s(e(y),{colspan:"8",class:"text-center text-muted-foreground py-8"},{default:o(()=>[l("div",wt,[s(e($),{class:"h-12 w-12 text-muted-foreground mb-2"}),t[33]||(t[33]=n(" No learning sessions found "))])]),_:1})]),_:1})):(d(!0),g(V,{key:1},R(_.sessions.data,(a,ce)=>(d(),f(e(N),{key:ce,class:"hover:bg-muted/50"},{default:o(()=>[s(e(y),null,{default:o(()=>[l("div",ht,[l("div",kt,i(a.user_name),1),l("div",bt,i(a.user_email),1),l("div",Ct,i(a.course_name),1)])]),_:2},1024),s(e(y),{class:"hidden sm:table-cell"},{default:o(()=>[l("div",St,[s(e(p),{variant:"outline"},{default:o(()=>[n(i(a.course_name),1)]),_:2},1024),l("div",$t,i(a.content_title),1)])]),_:2},1024),s(e(y),null,{default:o(()=>[l("div",At,[l("div",Vt,i(a.session_start),1),a.session_end?(d(),g("div",Rt," Ended: "+i(a.session_end),1)):(d(),f(e(p),{key:1,variant:"destructive",class:"text-xs"},{default:o(()=>t[34]||(t[34]=[n(" Active ")])),_:1}))])]),_:2},1024),s(e(y),null,{default:o(()=>[l("div",Ut,[l("div",Dt,i(a.duration),1),a.video_completion>0?(d(),g("div",Lt,i(a.video_completion)+"% watched ",1)):x("",!0)])]),_:2},1024),s(e(y),null,{default:o(()=>[l("div",Et,[s(e(p),{variant:D(a.engagement_level),class:"flex items-center w-fit"},{default:o(()=>[(d(),f(L(M(a.engagement_level)),{class:"mr-1 h-3 w-3"})),n(" "+i(a.engagement_level),1)]),_:2},1032,["variant"]),l("div",Tt,i(a.attention_score)+"% attention",1)])]),_:2},1024),s(e(y),{class:"hidden md:table-cell"},{default:o(()=>[l("div",zt,[a.skip_count>0?(d(),g("div",Bt,[s(e(Fe),{class:"mr-1 h-3 w-3 text-orange-600"}),n(" "+i(a.skip_count)+" skips ",1)])):x("",!0),a.seek_count>0?(d(),g("div",Ft,[s(e(se),{class:"mr-1 h-3 w-3 text-blue-600"}),n(" "+i(a.seek_count)+" seeks ",1)])):x("",!0),a.skip_count===0&&a.seek_count===0?(d(),g("div",Nt," No activity ")):x("",!0)])]),_:2},1024),s(e(y),null,{default:o(()=>[l("div",jt,[a.cheating_score>20?(d(),f(e(p),{key:0,variant:O(a.cheating_risk),class:"flex items-center w-fit"},{default:o(()=>[(d(),f(L(oe(a.cheating_risk)),{class:"mr-1 h-3 w-3"})),n(" "+i(a.cheating_risk)+" Risk ",1)]),_:2},1032,["variant"])):x("",!0),a.is_suspicious?(d(),f(e(p),{key:1,variant:"destructive",class:"flex items-center w-fit"},{default:o(()=>[s(e(C),{class:"mr-1 h-3 w-3"}),t[35]||(t[35]=n(" Suspicious "))]),_:1})):x("",!0),!a.is_suspicious&&a.cheating_score<=20?(d(),f(e(p),{key:2,variant:"secondary",class:"flex items-center w-fit"},{default:o(()=>[s(e(j),{class:"mr-1 h-3 w-3"}),t[36]||(t[36]=n(" Normal "))]),_:1})):x("",!0)])]),_:2},1024),s(e(y),null,{default:o(()=>[s(e(E),{onClick:os=>ue(a),variant:"link",size:"sm",class:"h-auto p-0"},{default:o(()=>t[37]||(t[37]=[n(" View Details ")])),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})])]),_:1})]),s(e(Se),{open:S.value,"onUpdate:open":t[4]||(t[4]=a=>S.value=a)},{default:o(()=>[s(e($e),{class:"max-w-4xl"},{default:o(()=>[s(e(Ae),null,{default:o(()=>[s(e(Ve),{class:"flex items-center"},{default:o(()=>[s(e(ee),{class:"mr-2 h-5 w-5 text-primary"}),n(" "+i(U.value),1)]),_:1}),s(e(Re),null,{default:o(()=>t[38]||(t[38]=[n(" Detailed session analytics and engagement metrics ")])),_:1})]),_:1}),u.value?(d(),g("div",Mt,[l("div",Ot,[t[43]||(t[43]=l("h4",{class:"text-sm font-semibold text-foreground mb-3"},"Session Overview",-1)),l("div",Pt,[l("div",null,[t[39]||(t[39]=l("span",{class:"text-sm text-muted-foreground"},"User:",-1)),l("div",qt,i(u.value.user_name),1)]),l("div",null,[t[40]||(t[40]=l("span",{class:"text-sm text-muted-foreground"},"Course:",-1)),l("div",It,i(u.value.course_name),1)]),l("div",null,[t[41]||(t[41]=l("span",{class:"text-sm text-muted-foreground"},"Duration:",-1)),l("div",Wt,i(u.value.duration),1)]),l("div",null,[t[42]||(t[42]=l("span",{class:"text-sm text-muted-foreground"},"Engagement:",-1)),s(e(p),{variant:D(u.value.engagement_level),class:"flex items-center w-fit"},{default:o(()=>[(d(),f(L(M(u.value.engagement_level)),{class:"mr-1 h-3 w-3"})),n(" "+i(u.value.engagement_level),1)]),_:1},8,["variant"])])])]),l("div",Zt,[s(e(c),null,{default:o(()=>[s(e(v),{class:"p-6 text-center"},{default:o(()=>[l("div",Ht,i(u.value.attention_score)+"%",1),t[44]||(t[44]=l("div",{class:"text-sm text-muted-foreground"},"Attention Score",-1)),s(e(p),{variant:D(u.value.engagement_level),class:"mt-2"},{default:o(()=>[n(i(u.value.engagement_level),1)]),_:1},8,["variant"])]),_:1})]),_:1}),s(e(c),null,{default:o(()=>[s(e(v),{class:"p-6 text-center"},{default:o(()=>[l("div",Kt,i(u.value.video_completion||0)+"%",1),t[45]||(t[45]=l("div",{class:"text-sm text-muted-foreground"},"Video Completion",-1)),l("div",Gt,[l("div",{class:"bg-green-500 h-2 rounded-full transition-all duration-300",style:pe({width:(u.value.video_completion||0)+"%"})},null,4)])]),_:1})]),_:1}),s(e(c),null,{default:o(()=>[s(e(v),{class:"p-6 text-center"},{default:o(()=>[l("div",Jt,i(u.value.cheating_score||0)+"%",1),t[47]||(t[47]=l("div",{class:"text-sm text-muted-foreground"},"Cheating Score",-1)),u.value.cheating_score>20?(d(),f(e(p),{key:0,variant:O(u.value.cheating_risk),class:"mt-2"},{default:o(()=>[n(i(u.value.cheating_risk)+" Risk ",1)]),_:1},8,["variant"])):(d(),f(e(p),{key:1,variant:"secondary",class:"mt-2"},{default:o(()=>t[46]||(t[46]=[n(" Low Risk ")])),_:1}))]),_:1})]),_:1})]),s(e(c),null,{default:o(()=>[s(e(J),null,{default:o(()=>[s(e(Q),{class:"text-base"},{default:o(()=>t[48]||(t[48]=[n("Activity Breakdown")])),_:1})]),_:1}),s(e(v),null,{default:o(()=>[l("div",Qt,[l("div",Xt,[l("div",Yt,i(u.value.skip_count||0),1),t[49]||(t[49]=l("div",{class:"text-sm text-muted-foreground"},"Video Skips",-1))]),l("div",es,[l("div",ts,i(u.value.seek_count||0),1),t[50]||(t[50]=l("div",{class:"text-sm text-muted-foreground"},"Seeks",-1))]),t[51]||(t[51]=l("div",{class:"p-3 bg-muted rounded-lg"},[l("div",{class:"text-2xl font-bold text-green-600"},"0"),l("div",{class:"text-sm text-muted-foreground"},"Pauses")],-1)),t[52]||(t[52]=l("div",{class:"p-3 bg-muted rounded-lg"},[l("div",{class:"text-2xl font-bold text-purple-600"},"0"),l("div",{class:"text-sm text-muted-foreground"},"Replays")],-1))])]),_:1})]),_:1}),u.value.is_suspicious?(d(),f(e(c),{key:0,class:"border-orange-200 bg-orange-50 dark:bg-orange-950"},{default:o(()=>[s(e(v),{class:"p-4"},{default:o(()=>[l("div",ss,[l("div",ls,[s(e(C),{class:"h-5 w-5 text-orange-500"})]),t[53]||(t[53]=l("div",{class:"ml-3"},[l("h3",{class:"text-sm font-medium text-orange-800 dark:text-orange-200"},"Attention Required"),l("div",{class:"mt-2 text-sm text-orange-700 dark:text-orange-300"},[l("p",null,"This session shows signs of unusual activity that may require review.")])],-1))])]),_:1})]),_:1})):x("",!0)])):x("",!0)]),_:1})]),_:1},8,["open"])]),_:1}))}});export{sl as default};
