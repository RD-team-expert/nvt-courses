import{d as Q,r as T,c as W,g as y,o as n,w as a,e as t,b as s,u as e,P as A,f as i,t as o,a as m,F as D,i as j,n as L,h as M}from"./app-DvESifdT.js";import{_ as X}from"./AdminLayout.vue_vue_type_script_setup_true_lang-CTHgpUi1.js";import{_ as N}from"./Button.vue_vue_type_script_setup_true_lang-CEpF3qtW.js";import{_}from"./Card.vue_vue_type_script_setup_true_lang-BiCDAzlM.js";import{_ as g}from"./CardContent.vue_vue_type_script_setup_true_lang-smW2hG8u.js";import{_ as w}from"./index-Bdi3z1dZ.js";import{U as Y,_ as I,a as ee,q as te,b as se,c as U,e as B}from"./AppLayout.vue_vue_type_script_setup_true_lang-BjRKJUfr.js";import{_ as ae,a as re,b as E,c as C,d as le,e as V}from"./TableHeader.vue_vue_type_script_setup_true_lang-DXNujWhE.js";import{_ as ne,a as oe,b as z,c as F}from"./TabsTrigger.vue_vue_type_script_setup_true_lang-C8-VO4AK.js";import{P as Z}from"./plus-C-zdzffq.js";import{L as de}from"./list-CesGsV-p.js";import{B as R}from"./building-nWDRgy9H.js";import{U as q}from"./_plugin-vue_export-helper-BD6AW0L4.js";import{C as ie}from"./circle-check-big-DFMqv-MZ.js";import{Z as me}from"./zap-BUmlee4x.js";import{C as G}from"./crown-Bw_Nthmo.js";import{A as ue}from"./arrow-right-DSxkfbqC.js";import"./index-C83yD4X2.js";import"./index-B3ghWQKD.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-BwZx7090.js";import"./clock-BiVRP5oK.js";import"./useForwardPropsEmits-BEnXobQf.js";import"./useForwardExpose-DZczOEf-.js";import"./Presence-Bhij4dqb.js";import"./ConfigProvider-DUGoRN6f.js";import"./RovingFocusItem-CWjISiPu.js";import"./Collection-CKgbHBNW.js";import"./usePrimitiveElement-e9xeZsi3.js";const fe={class:"px-4 sm:px-0 space-y-6"},ce={class:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4"},_e={class:"flex flex-col sm:flex-row gap-2 w-full sm:w-auto"},xe={class:"grid grid-cols-2 md:grid-cols-5 gap-4"},ge={class:"flex items-center"},pe={class:"shrink-0"},ve={class:"w-8 h-8 bg-primary rounded-md flex items-center justify-center"},he={class:"ml-3"},ye={class:"text-lg font-semibold text-foreground"},we={class:"flex items-center"},be={class:"shrink-0"},ke={class:"w-8 h-8 bg-green-500 rounded-md flex items-center justify-center"},$e={class:"ml-3"},De={class:"text-lg font-semibold text-foreground"},Me={class:"flex items-center"},Ce={class:"shrink-0"},Ve={class:"w-8 h-8 bg-purple-500 rounded-md flex items-center justify-center"},je={class:"ml-3"},Re={class:"text-lg font-semibold text-foreground"},Ae={class:"flex items-center"},Le={class:"shrink-0"},Ne={class:"w-8 h-8 bg-red-500 rounded-md flex items-center justify-center"},Ue={class:"ml-3"},Be={class:"text-lg font-semibold text-foreground"},Pe={class:"flex items-center"},He={class:"shrink-0"},Se={class:"w-8 h-8 bg-orange-500 rounded-md flex items-center justify-center"},Te={class:"ml-3"},Ee={class:"text-lg font-semibold text-foreground"},ze={class:"space-y-4"},Fe={class:"flex items-center justify-between"},Ze={class:"flex items-center space-x-4"},qe={class:"shrink-0"},Ge={class:"w-12 h-12 bg-primary/10 rounded-lg flex items-center justify-center"},Je={class:"text-left"},Ke={class:"text-lg font-semibold text-foreground"},Oe={class:"text-sm text-muted-foreground"},Qe={class:"flex items-center"},We={class:"mr-3 text-sm text-muted-foreground"},Xe={class:"px-6 pb-6"},Ye={key:0,class:"text-center py-8 text-muted-foreground"},Ie={key:1,class:"grid gap-4"},et={key:0,class:"absolute top-2 right-2"},tt={class:"flex items-center justify-between"},st={class:"flex items-center space-x-4 flex-1"},at={class:"min-w-0 flex-1"},rt={class:"flex items-center space-x-2"},lt={class:"text-sm font-medium text-foreground"},nt={class:"mt-1"},ot={key:0,class:"shrink-0"},dt={key:1,class:"shrink-0"},it={class:"flex items-center space-x-2"},mt={class:"text-xs font-medium text-foreground"},ut={key:0,class:"text-xs text-muted-foreground"},ft={key:2,class:"shrink-0 text-center"},ct={class:"w-8 h-8 bg-muted rounded-full flex items-center justify-center"},_t={class:"overflow-x-auto"},xt={class:"font-medium text-foreground"},gt={class:"flex items-center"},pt={class:"ml-3"},vt={class:"font-medium text-foreground"},ht={class:"text-sm text-muted-foreground"},yt={key:0},wt={class:"font-medium text-foreground"},bt={class:"text-sm text-muted-foreground"},kt={key:1,class:"text-sm text-muted-foreground"},$t={key:0,class:"text-center py-12"},Dt={class:"mt-6"},es=Q({__name:"Matrix",props:{departments:Array},setup(b){const P=b,v=T(new Set),H=T("hierarchy"),J=u=>{v.value.has(u)?v.value.delete(u):v.value.add(u)},S=u=>({"Direct Manager":"default","Project Manager":"secondary","Department Head":"outline","Senior Manager":"destructive","Team Lead":"secondary"})[u]||"outline",K=u=>u&&{L1:"default",L2:"secondary",L3:"outline",L4:"destructive"}[u]||"secondary",k=W(()=>{var h,x;let u=0,r=0,d=0,l=0;return(h=P.departments)==null||h.forEach(p=>{var c;(c=p.roles)==null||c.forEach(f=>{u++,f.managed_user&&r++,f.role_type==="Department Head"&&d++,f.role_type==="Direct Manager"&&l++})}),{totalDepartments:((x=P.departments)==null?void 0:x.length)||0,totalManagers:u,totalReports:r,departmentHeads:d,directManagers:l}}),O=[{name:"Dashboard",href:route("dashboard")},{name:"Manager Roles",href:route("admin.manager-roles.index")},{name:"Matrix View",href:route("admin.manager-roles.matrix")}];return(u,r)=>(n(),y(X,{breadcrumbs:O},{default:a(()=>[t("div",fe,[t("div",ce,[r[3]||(r[3]=t("div",null,[t("h1",{class:"text-xl sm:text-2xl font-bold text-foreground"},"Manager Roles Matrix"),t("p",{class:"text-sm text-muted-foreground mt-1"},"Visual representation of management hierarchy and department organization")],-1)),t("div",_e,[s(e(N),{as:e(A),href:u.route("admin.manager-roles.create"),class:"w-full sm:w-auto"},{default:a(()=>[s(e(Z),{class:"mr-2 h-4 w-4"}),r[1]||(r[1]=i(" Assign New Role "))]),_:1},8,["as","href"]),s(e(N),{as:e(A),href:u.route("admin.manager-roles.index"),variant:"secondary",class:"w-full sm:w-auto"},{default:a(()=>[s(e(de),{class:"mr-2 h-4 w-4"}),r[2]||(r[2]=i(" List View "))]),_:1},8,["as","href"])])]),t("div",xe,[s(e(_),null,{default:a(()=>[s(e(g),{class:"p-4"},{default:a(()=>[t("div",ge,[t("div",pe,[t("div",ve,[s(e(R),{class:"h-5 w-5 text-primary-foreground"})])]),t("div",he,[r[4]||(r[4]=t("div",{class:"text-xs font-medium text-muted-foreground"},"Departments",-1)),t("div",ye,o(k.value.totalDepartments),1)])])]),_:1})]),_:1}),s(e(_),null,{default:a(()=>[s(e(g),{class:"p-4"},{default:a(()=>[t("div",we,[t("div",be,[t("div",ke,[s(e(q),{class:"h-5 w-5 text-white"})])]),t("div",$e,[r[5]||(r[5]=t("div",{class:"text-xs font-medium text-muted-foreground"},"Managers",-1)),t("div",De,o(k.value.totalManagers),1)])])]),_:1})]),_:1}),s(e(_),null,{default:a(()=>[s(e(g),{class:"p-4"},{default:a(()=>[t("div",Me,[t("div",Ce,[t("div",Ve,[s(e(Y),{class:"h-5 w-5 text-white"})])]),t("div",je,[r[6]||(r[6]=t("div",{class:"text-xs font-medium text-muted-foreground"},"Direct Reports",-1)),t("div",Re,o(k.value.totalReports),1)])])]),_:1})]),_:1}),s(e(_),null,{default:a(()=>[s(e(g),{class:"p-4"},{default:a(()=>[t("div",Ae,[t("div",Le,[t("div",Ne,[s(e(ie),{class:"h-5 w-5 text-white"})])]),t("div",Ue,[r[7]||(r[7]=t("div",{class:"text-xs font-medium text-muted-foreground"},"Dept Heads",-1)),t("div",Be,o(k.value.departmentHeads),1)])])]),_:1})]),_:1}),s(e(_),null,{default:a(()=>[s(e(g),{class:"p-4"},{default:a(()=>[t("div",Pe,[t("div",He,[t("div",Se,[s(e(me),{class:"h-5 w-5 text-white"})])]),t("div",Te,[r[8]||(r[8]=t("div",{class:"text-xs font-medium text-muted-foreground"},"Direct Mgrs",-1)),t("div",Ee,o(k.value.directManagers),1)])])]),_:1})]),_:1})]),s(e(_),null,{default:a(()=>[s(e(g),{class:"p-6"},{default:a(()=>[s(e(ne),{modelValue:H.value,"onUpdate:modelValue":r[0]||(r[0]=d=>H.value=d),class:"w-full"},{default:a(()=>[s(e(oe),{class:"grid w-full grid-cols-2 max-w-md"},{default:a(()=>[s(e(z),{value:"hierarchy"},{default:a(()=>r[9]||(r[9]=[i("Hierarchy View")])),_:1}),s(e(z),{value:"table"},{default:a(()=>r[10]||(r[10]=[i("Table View")])),_:1})]),_:1}),s(e(F),{value:"hierarchy",class:"mt-6"},{default:a(()=>[t("div",ze,[(n(!0),m(D,null,j(b.departments,d=>(n(),m("div",{key:d.id},[s(e(I),{open:v.value.has(d.id),"onUpdate:open":()=>J(d.id)},{default:a(()=>[s(e(_),null,{default:a(()=>[s(e(ee),{class:"w-full"},{default:a(()=>[s(e(g),{class:"p-6"},{default:a(()=>{var l;return[t("div",Fe,[t("div",Ze,[t("div",qe,[t("div",Ge,[s(e(R),{class:"w-6 h-6 text-primary"})])]),t("div",Je,[t("h3",Ke,o(d.name),1),t("p",Oe,o(((l=d.roles)==null?void 0:l.length)||0)+" manager roles",1)])]),t("div",Qe,[t("span",We,o(v.value.has(d.id)?"Collapse":"Expand"),1),s(e(te),{class:L([{"rotate-90":v.value.has(d.id)},"w-5 h-5 text-muted-foreground transition-transform duration-200"])},null,8,["class"])])])]}),_:2},1024)]),_:2},1024),s(e(se),null,{default:a(()=>[t("div",Xe,[!d.roles||d.roles.length===0?(n(),m("div",Ye,[s(e(q),{class:"mx-auto h-12 w-12 text-muted-foreground"}),r[11]||(r[11]=t("h3",{class:"mt-2 text-sm font-medium text-foreground"},"No managers assigned",-1)),r[12]||(r[12]=t("p",{class:"mt-1 text-sm text-muted-foreground"},"This department doesn't have any manager roles yet.",-1))])):(n(),m("div",Ie,[(n(!0),m(D,null,j(d.roles,(l,h)=>(n(),y(e(_),{key:h,class:L(["relative",l.is_primary?"border-primary bg-primary/5":""])},{default:a(()=>[s(e(g),{class:"p-4"},{default:a(()=>{var x,p;return[l.is_primary?(n(),m("div",et,[s(e(w),{variant:"default"},{default:a(()=>[s(e(G),{class:"mr-1 h-3 w-3"}),r[13]||(r[13]=i(" Primary "))]),_:1})])):M("",!0),t("div",tt,[t("div",st,[s(e(U),{class:"h-10 w-10"},{default:a(()=>[s(e(B),null,{default:a(()=>{var c,f,$;return[i(o(($=(f=(c=l.manager)==null?void 0:c.name)==null?void 0:f.charAt(0))==null?void 0:$.toUpperCase()),1)]}),_:2},1024)]),_:2},1024),t("div",at,[t("div",rt,[t("p",lt,o((x=l.manager)==null?void 0:x.name),1),(p=l.manager)!=null&&p.level?(n(),y(e(w),{key:0,variant:K(l.manager.level),class:"text-xs"},{default:a(()=>[i(o(l.manager.level),1)]),_:2},1032,["variant"])):M("",!0)]),t("div",nt,[s(e(w),{variant:S(l.role_type),class:"text-xs"},{default:a(()=>[i(o(l.role_type),1)]),_:2},1032,["variant"])])]),l.managed_user?(n(),m("div",ot,[s(e(ue),{class:"w-5 h-5 text-muted-foreground"})])):M("",!0),l.managed_user?(n(),m("div",dt,[t("div",it,[s(e(U),{class:"h-8 w-8"},{default:a(()=>[s(e(B),{class:"bg-green-100 text-green-600 text-xs"},{default:a(()=>{var c,f;return[i(o((f=(c=l.managed_user.name)==null?void 0:c.charAt(0))==null?void 0:f.toUpperCase()),1)]}),_:2},1024)]),_:2},1024),t("div",null,[t("p",mt,o(l.managed_user.name),1),l.managed_user.level?(n(),m("p",ut,o(l.managed_user.level),1)):M("",!0)])])])):(n(),m("div",ft,[t("div",ct,[s(e(R),{class:"w-4 h-4 text-muted-foreground"})]),r[14]||(r[14]=t("p",{class:"text-xs text-muted-foreground mt-1"},"Department-wide",-1))]))])])]}),_:2},1024)]),_:2},1032,["class"]))),128))]))])]),_:2},1024)]),_:2},1024)]),_:2},1032,["open","onUpdate:open"])]))),128))])]),_:1}),s(e(F),{value:"table",class:"mt-6"},{default:a(()=>[s(e(_),null,{default:a(()=>[t("div",_t,[s(e(ae),null,{default:a(()=>[s(e(re),null,{default:a(()=>[s(e(E),null,{default:a(()=>[s(e(C),null,{default:a(()=>r[15]||(r[15]=[i("Department")])),_:1}),s(e(C),null,{default:a(()=>r[16]||(r[16]=[i("Manager")])),_:1}),s(e(C),null,{default:a(()=>r[17]||(r[17]=[i("Role Type")])),_:1}),s(e(C),null,{default:a(()=>r[18]||(r[18]=[i("Manages")])),_:1}),s(e(C),null,{default:a(()=>r[19]||(r[19]=[i("Status")])),_:1})]),_:1})]),_:1}),s(e(le),null,{default:a(()=>[(n(!0),m(D,null,j(b.departments,d=>(n(),m(D,{key:d.id},[(n(!0),m(D,null,j(d.roles,(l,h)=>(n(),y(e(E),{key:`${d.id}-${h}`,class:L({"bg-primary/5":l.is_primary})},{default:a(()=>[s(e(V),null,{default:a(()=>[t("div",xt,o(d.name),1)]),_:2},1024),s(e(V),null,{default:a(()=>{var x,p;return[t("div",gt,[s(e(U),{class:"h-8 w-8"},{default:a(()=>[s(e(B),{class:"text-xs"},{default:a(()=>{var c,f,$;return[i(o(($=(f=(c=l.manager)==null?void 0:c.name)==null?void 0:f.charAt(0))==null?void 0:$.toUpperCase()),1)]}),_:2},1024)]),_:2},1024),t("div",pt,[t("div",vt,o((x=l.manager)==null?void 0:x.name),1),t("div",ht,o(((p=l.manager)==null?void 0:p.level)||"N/A"),1)])])]}),_:2},1024),s(e(V),null,{default:a(()=>[s(e(w),{variant:S(l.role_type)},{default:a(()=>[i(o(l.role_type),1)]),_:2},1032,["variant"])]),_:2},1024),s(e(V),null,{default:a(()=>[l.managed_user?(n(),m("div",yt,[t("div",wt,o(l.managed_user.name),1),t("div",bt,o(l.managed_user.level||"N/A"),1)])):(n(),m("div",kt," Department-wide role "))]),_:2},1024),s(e(V),null,{default:a(()=>[l.is_primary?(n(),y(e(w),{key:0,variant:"default"},{default:a(()=>[s(e(G),{class:"mr-1 h-3 w-3"}),r[20]||(r[20]=i(" Primary "))]),_:1})):(n(),y(e(w),{key:1,variant:"secondary"},{default:a(()=>r[21]||(r[21]=[i(" Secondary ")])),_:1}))]),_:2},1024)]),_:2},1032,["class"]))),128))],64))),128))]),_:1})]),_:1})]),!b.departments||b.departments.length===0?(n(),m("div",$t,[s(e(R),{class:"mx-auto h-12 w-12 text-muted-foreground"}),r[23]||(r[23]=t("h3",{class:"mt-2 text-sm font-medium text-foreground"},"No manager roles found",-1)),r[24]||(r[24]=t("p",{class:"mt-1 text-sm text-muted-foreground"},"Start by assigning manager roles to users.",-1)),t("div",Dt,[s(e(N),{as:e(A),href:u.route("admin.manager-roles.create")},{default:a(()=>[s(e(Z),{class:"mr-2 h-4 w-4"}),r[22]||(r[22]=i(" Assign New Role "))]),_:1},8,["as","href"])])])):M("",!0)]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})])]),_:1}))}});export{es as default};
