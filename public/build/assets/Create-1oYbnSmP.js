import{d as B,a as d,o,x as K,n as $,u as e,r as h,c as A,C as ae,k as P,w as r,e as l,f as m,b as a,F as N,h as F,j as u,t as n,p as re,l as oe,g as q,y as O,P as ie}from"./app-iYB6CK9s.js";import{_ as de}from"./AdminLayout.vue_vue_type_script_setup_true_lang-BmAEUQ0k.js";import{E as ne}from"./Editor-DwVqN609.js";import{_ as L,a as R,b as ue,c as me}from"./CardTitle.vue_vue_type_script_setup_true_lang-I7s4fTue.js";import{a as Q,b as ce,_ as V}from"./AppLogoIcon.vue_vue_type_script_setup_true_lang-B3PnW6xU.js";import{_ as ve}from"./index-DtvWDrDS.js";import{_ as k}from"./Input.vue_vue_type_script_setup_true_lang-CluRSO0O.js";import{_ as g}from"./Label.vue_vue_type_script_setup_true_lang-DyyG2Z7t.js";import{_ as T,a as H,b as G,c as J,d as U}from"./SelectValue.vue_vue_type_script_setup_true_lang-Dk196kS3.js";import"./AppLayout.vue_vue_type_script_setup_true_lang-BOHGZ_58.js";import"./index-BHiy4VMt.js";import"./chevron-down-CwfBg4LM.js";import"./check-CHod0wEF.js";const D=B({__name:"Alert",props:{class:{},variant:{}},setup(j){const _=j;return(x,f)=>(o(),d("div",{class:$(e(Q)(e(pe)({variant:x.variant}),_.class)),role:"alert"},[K(x.$slots,"default")],2))}}),I=B({__name:"AlertDescription",props:{class:{}},setup(j){const _=j;return(x,f)=>(o(),d("div",{class:$(e(Q)("text-sm [&_p]:leading-relaxed",_.class))},[K(x.$slots,"default")],2))}}),pe=ce("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),fe={class:"px-4 sm:px-0"},be={key:0,class:"fixed top-4 right-4 z-50 space-y-2 max-w-md"},ge={class:"flex items-start justify-between"},_e={class:"flex items-start space-x-3"},xe={key:0,class:"mt-2"},ye={key:1,class:"fixed inset-0 bg-black/50 flex items-center justify-center z-50"},ke={class:"text-center"},we={class:"relative w-32 h-32 mx-auto mb-6"},he={class:"w-32 h-32 transform -rotate-90",viewBox:"0 0 36 36"},Ce=["stroke-dasharray"],Ve={class:"absolute inset-0 flex items-center justify-center"},$e={class:"text-2xl font-bold text-foreground"},Se={class:"mb-6"},Pe={class:"flex justify-center"},Ue={class:"relative"},je={key:1,class:"h-6 w-6 text-orange-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},Me={key:2,class:"h-6 w-6 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},Ee={class:"text-xl font-bold mb-3 text-foreground"},ze={class:"text-muted-foreground mb-4 leading-relaxed"},De={class:"bg-gray-50 rounded-lg p-4 mb-6"},Ie={class:"flex justify-between text-sm text-gray-600 mb-2"},Be={class:"w-full bg-gray-200 rounded-full h-2"},Ae={class:"text-xs text-muted-foreground mt-4"},Ne={class:"grid grid-cols-1 md:grid-cols-2 gap-4 sm:gap-6 mb-6"},Fe={class:"col-span-full"},qe={key:0,class:"text-destructive text-sm mt-1"},Oe={class:"col-span-full"},Le={class:"mt-1 flex flex-col sm:flex-row items-start sm:items-center sm:space-x-4 space-y-3 sm:space-y-0"},Re={key:0,class:"h-32 w-full sm:w-48 overflow-hidden rounded-md"},Te=["src"],He={key:1,class:"h-32 w-full sm:w-48 flex items-center justify-center bg-gray-100 rounded-md"},Ge={class:"flex items-center"},Je=["disabled"],Ke={key:0,class:"text-destructive text-sm mt-1"},Qe={class:"col-span-full"},We={key:0,class:"text-destructive text-sm mt-1"},Xe={class:"col-span-1"},Ye={key:0,class:"text-destructive text-sm mt-1"},Ze={class:"col-span-1"},es={key:0,class:"text-destructive text-sm mt-1"},ss={class:"col-span-1"},ts={key:0,class:"text-destructive text-sm mt-1"},ls={class:"col-span-1"},as={class:"flex items-center space-x-4"},rs={class:"flex items-center"},os=["disabled"],is={class:"flex items-center"},ds=["disabled"],ns={key:0,class:"mt-2 p-2 bg-blue-50 border border-blue-200 rounded text-xs text-blue-700"},us={key:1,class:"mt-1 text-sm text-destructive"},ms={class:"col-span-1"},cs={key:0,class:"text-destructive text-sm mt-1"},vs={class:"col-span-1"},ps={key:0,class:"text-destructive text-sm mt-1"},fs={class:"mb-6"},bs={class:"flex justify-between items-center mb-4"},gs={class:"space-y-4"},_s={class:"flex justify-between items-center mb-3"},xs={class:"font-medium"},ys={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},ks={key:0,class:"text-destructive text-sm mt-1"},ws={key:0,class:"text-destructive text-sm mt-1"},hs={key:0,class:"text-destructive text-sm mt-1"},Cs={key:0,class:"text-destructive text-sm mt-1"},Vs={class:"md:col-span-2"},$s={key:0,class:"text-destructive text-sm mt-1"},Ss={key:0,class:"text-destructive text-sm mt-2"},Ps={class:"flex flex-col sm:flex-row gap-2 mb-4"},Us={key:0,class:"animate-spin h-4 w-4",fill:"none",viewBox:"0 0 24 24"},js={key:1},Ms={key:2},Hs=B({__name:"Create",setup(j){const _=h(null),x=h(!1),f=h(0),y=h(4),C=h([]),v=h(!1),S=h(0),M=h(0),E=p=>p?new Date(p).toISOString().split("T")[0]:"",z=A(()=>y.value===0?0:Math.round(f.value/y.value*100)),w=A(()=>t.privacy==="public"),t=ae({name:"",description:"",start_date:"",end_date:"",status:"pending",level:"",duration:"",privacy:"public",image:null,availabilities:[{start_date:"",end_date:"",capacity:25,sessions:1,notes:""}]});function W(p){const s=p.target.files[0];if(s){t.image=s;const i=new FileReader;i.onload=c=>{_.value=c.target.result},i.readAsDataURL(s)}}function X(){t.image=null,_.value=null}function Y(){t.availabilities.length<5&&t.availabilities.push({start_date:"",end_date:"",capacity:25,sessions:1,notes:""})}function Z(p){t.availabilities.length>1&&t.availabilities.splice(p,1)}function ee(){C.value=[],v.value=!1,S.value=0,M.value=0}function se(p){C.value.splice(p,1),C.value.length===0&&(v.value=!1)}function te(){if(w.value){x.value=!0,f.value=0,ee();const p=setInterval(()=>{f.value<y.value&&f.value++},1500);t.start_date&&(t.start_date=E(t.start_date)),t.end_date&&(t.end_date=E(t.end_date)),t.post("/admin/courses",{forceFormData:!0,onSuccess:s=>{var i,c;clearInterval(p),f.value=y.value,(c=(i=s.props)==null?void 0:i.flash)!=null&&c.emailErrors&&(v.value=!0,C.value=s.props.flash.emailErrors,S.value=s.props.flash.emailFailures||0,M.value=s.props.flash.emailSuccesses||0),setTimeout(()=>{x.value=!1},v.value?5e3:3e3)},onError:s=>{clearInterval(p),x.value=!1,v.value=!0,C.value=Object.values(s).flat()},onFinish:()=>{clearInterval(p)}})}else t.start_date&&(t.start_date=E(t.start_date)),t.end_date&&(t.end_date=E(t.end_date)),t.post("/admin/courses",{forceFormData:!0})}function le(){if(!w.value)return"";switch(f.value){case 0:return"Preparing course data...";case 1:return"Saving course information...";case 2:return"Setting up session schedules...";case 3:return"Sending announcement emails to all users...";case 4:return v.value?`Course created with ${S.value} email failures!`:"Public course created and announced successfully!";default:return"Processing..."}}return(p,s)=>(o(),P(de,null,{default:r(()=>[l("div",fe,[s[57]||(s[57]=l("h1",{class:"text-xl sm:text-2xl font-bold mb-4"},"Create New Course",-1)),v.value&&C.value.length>0?(o(),d("div",be,[(o(!0),d(N,null,F(C.value,(i,c)=>(o(),P(e(D),{key:c,variant:"destructive",class:"shadow-lg"},{default:r(()=>[l("div",ge,[l("div",_e,[s[11]||(s[11]=l("svg",{class:"h-6 w-6 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),l("div",null,[s[10]||(s[10]=l("h4",{class:"font-semibold text-sm"},"Email Sending Error",-1)),a(e(I),{class:"mt-1"},{default:r(()=>[u(n(i),1)]),_:2},1024),S.value>0?(o(),d("div",xe,[a(e(ve),{variant:"destructive",class:"text-xs"},{default:r(()=>[u(n(S.value)+" failed, "+n(M.value)+" successful ",1)]),_:1})])):m("",!0)])]),a(e(V),{onClick:b=>se(c),variant:"ghost",size:"sm",class:"h-auto p-1 hover:bg-destructive/20"},{default:r(()=>s[12]||(s[12]=[l("svg",{class:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])),_:2},1032,["onClick"])])]),_:2},1024))),128))])):m("",!0),x.value&&w.value?(o(),d("div",ye,[a(e(L),{class:"max-w-md w-full mx-4 shadow-2xl"},{default:r(()=>[a(e(R),{class:"p-8"},{default:r(()=>[l("div",ke,[l("div",we,[(o(),d("svg",he,[s[13]||(s[13]=l("path",{class:"text-muted",fill:"none",stroke:"currentColor","stroke-width":"2",d:"M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831"},null,-1)),l("path",{class:$(v.value?"text-orange-500":"text-green-500"),fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-dasharray":`${z.value}, 100`,d:"M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831",style:{transition:"stroke-dasharray 0.3s ease-in-out"}},null,10,Ce)])),l("div",Ve,[l("span",$e,n(z.value)+"%",1)])]),l("div",Se,[l("div",Pe,[l("div",Ue,[l("div",{class:$([v.value?"bg-orange-100":"bg-green-100","w-12 h-12 rounded-full flex items-center justify-center"])},[f.value<y.value?(o(),d("svg",{key:0,class:$(["animate-spin h-6 w-6",v.value?"text-orange-500":"text-green-500"]),fill:"none",viewBox:"0 0 24 24"},s[14]||(s[14]=[l("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),l("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)]),2)):v.value?(o(),d("svg",je,s[15]||(s[15]=[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"},null,-1)]))):(o(),d("svg",Me,s[16]||(s[16]=[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"},null,-1)])))],2)])])]),l("h3",Ee,n(f.value===y.value?v.value?"Course Created with Issues!":"Public Course Created!":"Creating Public Course"),1),l("p",ze,n(le()),1),l("div",De,[l("div",Ie,[s[17]||(s[17]=l("span",null,"Progress",-1)),l("span",null,n(f.value)+" / "+n(y.value),1)]),l("div",Be,[l("div",{class:$([v.value?"bg-orange-500":"bg-green-500","h-2 rounded-full transition-all duration-300 ease-out"]),style:re({width:z.value+"%"})},null,6)])]),v.value&&f.value===y.value?(o(),P(e(D),{key:0,class:"mb-4",variant:"destructive"},{default:r(()=>[a(e(I),null,{default:r(()=>[s[18]||(s[18]=l("strong",null,"⚠️ Email Issues Detected:",-1)),s[19]||(s[19]=l("br",null,null,-1)),u(" "+n(S.value)+" emails failed to send, "+n(M.value)+" sent successfully.",1),s[20]||(s[20]=l("br",null,null,-1)),s[21]||(s[21]=u(" Check error notifications for details. "))]),_:1})]),_:1})):(o(),P(e(D),{key:1,class:"border-blue-200 bg-blue-50 mb-4"},{default:r(()=>[a(e(I),{class:"text-xs text-blue-700"},{default:r(()=>s[22]||(s[22]=[l("strong",null,"📧 Public Course:",-1),u(" Announcement emails are being sent to all registered users ")])),_:1})]),_:1})),l("p",Ae,n(f.value===y.value?v.value?"Course created! Please review email sending errors above.":"Course created successfully with email notifications sent!":"Please wait while we create your public course and notify users..."),1)])]),_:1})]),_:1})])):m("",!0),a(e(L),{class:"shadow-lg max-w-4xl"},{default:r(()=>[a(e(ue),null,{default:r(()=>[a(e(me),{class:"text-2xl"},{default:r(()=>s[23]||(s[23]=[u("Course Information")])),_:1})]),_:1}),a(e(R),null,{default:r(()=>[l("form",{onSubmit:oe(te,["prevent"])},[l("div",Ne,[l("div",Fe,[a(e(g),{for:"name",class:"mb-2"},{default:r(()=>s[24]||(s[24]=[u("Course Name")])),_:1}),a(e(k),{id:"name",modelValue:e(t).name,"onUpdate:modelValue":s[0]||(s[0]=i=>e(t).name=i),type:"text",placeholder:"Enter course name",disabled:e(t).processing,required:""},null,8,["modelValue","disabled"]),e(t).errors.name?(o(),d("div",qe,n(e(t).errors.name),1)):m("",!0)]),l("div",Oe,[a(e(g),{class:"mb-2"},{default:r(()=>s[25]||(s[25]=[u("Course Image")])),_:1}),l("div",Le,[_.value?(o(),d("div",Re,[l("img",{src:_.value,alt:"Course image preview",class:"h-full w-full object-cover"},null,8,Te)])):(o(),d("div",He,s[26]||(s[26]=[l("span",{class:"text-gray-400"},"No image",-1)]))),l("div",Ge,[a(e(V),{type:"button",variant:"outline",size:"sm",onClick:s[1]||(s[1]=()=>p.$refs.imageUpload.click()),disabled:e(t).processing},{default:r(()=>s[27]||(s[27]=[u(" Upload Image ")])),_:1},8,["disabled"]),l("input",{ref:"imageUpload",type:"file",class:"hidden",onChange:W,accept:"image/*",disabled:e(t).processing},null,40,Je),_.value?(o(),P(e(V),{key:0,type:"button",variant:"ghost",size:"sm",onClick:X,disabled:e(t).processing,class:"ml-2 text-destructive hover:text-destructive/80"},{default:r(()=>s[28]||(s[28]=[u(" Remove ")])),_:1},8,["disabled"])):m("",!0)])]),e(t).errors.image?(o(),d("div",Ke,n(e(t).errors.image),1)):m("",!0)]),l("div",Qe,[a(e(g),{class:"mb-2"},{default:r(()=>s[29]||(s[29]=[u("Description")])),_:1}),a(e(ne),{modelValue:e(t).description,"onUpdate:modelValue":s[2]||(s[2]=i=>e(t).description=i),disabled:e(t).processing,"api-key":"r1racrxd2joy9wp9xp9sj91ka9j4m3humenifqvwtx9s6i3y",init:{toolbar_mode:"sliding",plugins:"anchor autolink charmap codesample emoticons image link lists media searchreplace table visualblocks wordcount",toolbar:"undo redo | blocks fontfamily fontsize | bold italic underline strikethrough | link image media table | align lineheight | numlist bullist indent outdent | emoticons charmap | removeformat",mobile:{menubar:!1,toolbar:"undo redo | bold italic | link | bullist numlist",toolbar_mode:"scrolling"}}},null,8,["modelValue","disabled"]),e(t).errors.description?(o(),d("div",We,n(e(t).errors.description),1)):m("",!0)]),l("div",Xe,[a(e(g),{class:"mb-2"},{default:r(()=>s[30]||(s[30]=[u("Overall Start Date")])),_:1}),a(e(k),{type:"date",modelValue:e(t).start_date,"onUpdate:modelValue":s[3]||(s[3]=i=>e(t).start_date=i),disabled:e(t).processing},null,8,["modelValue","disabled"]),e(t).errors.start_date?(o(),d("div",Ye,n(e(t).errors.start_date),1)):m("",!0)]),l("div",Ze,[a(e(g),{class:"mb-2"},{default:r(()=>s[31]||(s[31]=[u("Overall End Date")])),_:1}),a(e(k),{type:"date",modelValue:e(t).end_date,"onUpdate:modelValue":s[4]||(s[4]=i=>e(t).end_date=i),disabled:e(t).processing},null,8,["modelValue","disabled"]),e(t).errors.end_date?(o(),d("div",es,n(e(t).errors.end_date),1)):m("",!0)]),l("div",ss,[a(e(g),{class:"mb-2"},{default:r(()=>s[32]||(s[32]=[u("Status")])),_:1}),a(e(T),{modelValue:e(t).status,"onUpdate:modelValue":s[5]||(s[5]=i=>e(t).status=i),disabled:e(t).processing},{default:r(()=>[a(e(H),null,{default:r(()=>[a(e(G),{placeholder:"Select status"})]),_:1}),a(e(J),null,{default:r(()=>[a(e(U),{value:"pending"},{default:r(()=>s[33]||(s[33]=[u("Pending")])),_:1}),a(e(U),{value:"in_progress"},{default:r(()=>s[34]||(s[34]=[u("In Progress")])),_:1}),a(e(U),{value:"completed"},{default:r(()=>s[35]||(s[35]=[u("Completed")])),_:1})]),_:1})]),_:1},8,["modelValue","disabled"]),e(t).errors.status?(o(),d("div",ts,n(e(t).errors.status),1)):m("",!0)]),l("div",ls,[a(e(g),{class:"mb-2"},{default:r(()=>s[36]||(s[36]=[u("Course Privacy")])),_:1}),l("div",as,[l("div",rs,[q(l("input",{id:"privacy-public",name:"privacy",type:"radio",value:"public","onUpdate:modelValue":s[6]||(s[6]=i=>e(t).privacy=i),class:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300",disabled:e(t).processing},null,8,os),[[O,e(t).privacy]]),a(e(g),{for:"privacy-public",class:"ml-2 text-sm"},{default:r(()=>s[37]||(s[37]=[u(" 🌍 Public ")])),_:1})]),l("div",is,[q(l("input",{id:"privacy-private",name:"privacy",type:"radio",value:"private","onUpdate:modelValue":s[7]||(s[7]=i=>e(t).privacy=i),class:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300",disabled:e(t).processing},null,8,ds),[[O,e(t).privacy]]),a(e(g),{for:"privacy-private",class:"ml-2 text-sm"},{default:r(()=>s[38]||(s[38]=[u(" 🔒 Private ")])),_:1})])]),s[40]||(s[40]=l("p",{class:"mt-1 text-xs text-gray-500"}," Public courses are visible to everyone and trigger announcement emails. Private courses are only visible to enrolled users. ",-1)),w.value?(o(),d("div",ns,s[39]||(s[39]=[l("strong",null,"📧 Note:",-1),u(" Creating a public course will automatically send announcement emails to all registered users. ")]))):m("",!0),e(t).errors.privacy?(o(),d("div",us,n(e(t).errors.privacy),1)):m("",!0)]),l("div",ms,[a(e(g),{class:"mb-2"},{default:r(()=>s[41]||(s[41]=[u("Level")])),_:1}),a(e(T),{modelValue:e(t).level,"onUpdate:modelValue":s[8]||(s[8]=i=>e(t).level=i),disabled:e(t).processing},{default:r(()=>[a(e(H),null,{default:r(()=>[a(e(G),{placeholder:"Select Level"})]),_:1}),a(e(J),null,{default:r(()=>[a(e(U),{value:"beginner"},{default:r(()=>s[42]||(s[42]=[u("Beginner")])),_:1}),a(e(U),{value:"intermediate"},{default:r(()=>s[43]||(s[43]=[u("Intermediate")])),_:1}),a(e(U),{value:"advanced"},{default:r(()=>s[44]||(s[44]=[u("Advanced")])),_:1})]),_:1})]),_:1},8,["modelValue","disabled"]),e(t).errors.level?(o(),d("div",cs,n(e(t).errors.level),1)):m("",!0)]),l("div",vs,[a(e(g),{class:"mb-2"},{default:r(()=>s[45]||(s[45]=[u("Duration (hours)")])),_:1}),a(e(k),{type:"number",modelValue:e(t).duration,"onUpdate:modelValue":s[9]||(s[9]=i=>e(t).duration=i),min:"0.5",step:"0.5",disabled:e(t).processing},null,8,["modelValue","disabled"]),e(t).errors.duration?(o(),d("div",ps,n(e(t).errors.duration),1)):m("",!0)])]),l("div",fs,[l("div",bs,[s[46]||(s[46]=l("h2",{class:"text-lg font-semibold"},"Course Session Schedules",-1)),a(e(V),{type:"button",onClick:Y,disabled:e(t).availabilities.length>=5||e(t).processing},{default:r(()=>[u(" Add Session Schedule ("+n(e(t).availabilities.length)+"/5) ",1)]),_:1},8,["disabled"])]),l("div",gs,[(o(!0),d(N,null,F(e(t).availabilities,(i,c)=>(o(),d("div",{key:c,class:"border border-gray-300 rounded-lg p-4 bg-gray-50"},[l("div",_s,[l("h3",xs,"Session Schedule "+n(c+1),1),e(t).availabilities.length>1?(o(),P(e(V),{key:0,type:"button",onClick:b=>Z(c),variant:"ghost",size:"sm",class:"text-red-600 hover:text-red-800",disabled:e(t).processing},{default:r(()=>s[47]||(s[47]=[u(" Remove ")])),_:2},1032,["onClick","disabled"])):m("",!0)]),l("div",ys,[l("div",null,[s[48]||(s[48]=l("label",{class:"block font-medium mb-1"},"Start Date",-1)),a(e(k),{type:"datetime-local",modelValue:i.start_date,"onUpdate:modelValue":b=>i.start_date=b,disabled:e(t).processing,required:""},null,8,["modelValue","onUpdate:modelValue","disabled"]),e(t).errors[`availabilities.${c}.start_date`]?(o(),d("div",ks,n(e(t).errors[`availabilities.${c}.start_date`]),1)):m("",!0)]),l("div",null,[s[49]||(s[49]=l("label",{class:"block font-medium mb-1"},"End Date",-1)),a(e(k),{type:"datetime-local",modelValue:i.end_date,"onUpdate:modelValue":b=>i.end_date=b,disabled:e(t).processing,required:""},null,8,["modelValue","onUpdate:modelValue","disabled"]),e(t).errors[`availabilities.${c}.end_date`]?(o(),d("div",ws,n(e(t).errors[`availabilities.${c}.end_date`]),1)):m("",!0)]),l("div",null,[s[50]||(s[50]=l("label",{class:"block font-medium mb-1"},"Seats Available",-1)),a(e(k),{type:"number",modelValue:i.capacity,"onUpdate:modelValue":b=>i.capacity=b,min:"1",max:"1000",disabled:e(t).processing,required:""},null,8,["modelValue","onUpdate:modelValue","disabled"]),s[51]||(s[51]=l("p",{class:"text-xs text-muted-foreground mt-1"},"Maximum number of seats available for this schedule",-1)),e(t).errors[`availabilities.${c}.capacity`]?(o(),d("div",hs,n(e(t).errors[`availabilities.${c}.capacity`]),1)):m("",!0)]),l("div",null,[s[52]||(s[52]=l("label",{class:"block font-medium mb-1"},"Sessions",-1)),a(e(k),{type:"number",modelValue:i.sessions,"onUpdate:modelValue":b=>i.sessions=b,min:"1",max:"100",disabled:e(t).processing,required:""},null,8,["modelValue","onUpdate:modelValue","disabled"]),s[53]||(s[53]=l("p",{class:"text-xs text-muted-foreground mt-1"},"Number of sessions in this schedule",-1)),e(t).errors[`availabilities.${c}.sessions`]?(o(),d("div",Cs,n(e(t).errors[`availabilities.${c}.sessions`]),1)):m("",!0)]),l("div",Vs,[s[54]||(s[54]=l("label",{class:"block font-medium mb-1"},"Notes (Optional)",-1)),a(e(k),{type:"text",modelValue:i.notes,"onUpdate:modelValue":b=>i.notes=b,placeholder:"Special instructions or requirements",disabled:e(t).processing},null,8,["modelValue","onUpdate:modelValue","disabled"]),e(t).errors[`availabilities.${c}.notes`]?(o(),d("div",$s,n(e(t).errors[`availabilities.${c}.notes`]),1)):m("",!0)])])]))),128))]),e(t).errors.availabilities?(o(),d("div",Ss,n(e(t).errors.availabilities),1)):m("",!0)]),l("div",Ps,[a(e(V),{type:"submit",disabled:e(t).processing,class:$([{"bg-green-500 hover:bg-green-600":w.value,"bg-blue-500 hover:bg-blue-600":!w.value},"w-full sm:w-auto flex items-center justify-center gap-2"])},{default:r(()=>[e(t).processing?(o(),d("svg",Us,s[55]||(s[55]=[l("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),l("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)]))):m("",!0),e(t).processing?(o(),d("span",js,n(w.value?"Creating Public Course & Sending Emails...":"Creating Course..."),1)):(o(),d("span",Ms,n(w.value?"🌍 Create Public Course":"🔒 Create Private Course"),1))]),_:1},8,["disabled","class"]),a(e(V),{variant:"secondary","as-child":"",class:"w-full sm:w-auto",disabled:e(t).processing},{default:r(()=>[a(e(ie),{href:"/admin/courses"},{default:r(()=>s[56]||(s[56]=[u(" Cancel ")])),_:1})]),_:1},8,["disabled"])])],32)]),_:1})]),_:1})])]),_:1}))}});export{Hs as default};
