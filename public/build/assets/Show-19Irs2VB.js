import{d as se,c as h,a as u,o as d,b as s,u as e,m as ne,w as n,e as l,P as le,f as i,t as r,h as v,n as b,F as C,i as j,g as m,k as oe}from"./app-DvESifdT.js";import{f as ae}from"./AppLayout.vue_vue_type_script_setup_true_lang-BjRKJUfr.js";import{_ as P}from"./Button.vue_vue_type_script_setup_true_lang-CEpF3qtW.js";import{_}from"./Card.vue_vue_type_script_setup_true_lang-BiCDAzlM.js";import{_ as c}from"./CardContent.vue_vue_type_script_setup_true_lang-smW2hG8u.js";import{_ as D}from"./CardDescription.vue_vue_type_script_setup_true_lang-CnjjdY-Q.js";import{_ as p}from"./CardHeader.vue_vue_type_script_setup_true_lang-DlYXJLS4.js";import{_ as x}from"./CardTitle.vue_vue_type_script_setup_true_lang-DXaAOkkZ.js";import{_ as w}from"./index-Bdi3z1dZ.js";import{_ as M}from"./Progress.vue_vue_type_script_setup_true_lang-BLkclevB.js";import{_ as E,a as L,b as S,c as f,d as B,e as g}from"./TableHeader.vue_vue_type_script_setup_true_lang-DXNujWhE.js";import{_ as re,a as ie,b as A,c as N}from"./TabsTrigger.vue_vue_type_script_setup_true_lang-C8-VO4AK.js";import{_ as de,a as ue}from"./index-cF4hGvTS.js";import{A as me}from"./arrow-left-q3Ss_FV8.js";import{M as fe}from"./mail-DwVOvOMO.js";import{E as ge}from"./eye-CV6uJ8Cr.js";import{U as _e}from"./user-CXc_RSns.js";import{B as I}from"./book-open-C62t0gr-.js";import{T as ce}from"./target-DbE1SZdn.js";import{C as pe}from"./clock-BiVRP5oK.js";import{A as F}from"./activity-ed_etGiJ.js";import{C as xe}from"./chart-column-Dwft45a9.js";import{C as V}from"./circle-check-big-DFMqv-MZ.js";import{T as ye}from"./triangle-alert-Dy-FUL6L.js";import{F as T}from"./file-text-Clu00e0q.js";import{P as ve}from"./play-BoXoDVsX.js";import{_ as be}from"./_plugin-vue_export-helper-BD6AW0L4.js";import"./index-C83yD4X2.js";import"./index-B3ghWQKD.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-BwZx7090.js";import"./useForwardExpose-DZczOEf-.js";import"./nullish-CHIgUVhi.js";import"./useForwardPropsEmits-BEnXobQf.js";import"./Presence-Bhij4dqb.js";import"./ConfigProvider-DUGoRN6f.js";import"./RovingFocusItem-CWjISiPu.js";import"./Collection-CKgbHBNW.js";import"./usePrimitiveElement-e9xeZsi3.js";const we={class:"flex h-full flex-1 flex-col gap-4 overflow-x-auto rounded-xl p-4"},ke={class:"flex items-center justify-between"},he={class:"flex items-center gap-4"},Ce={class:"text-muted-foreground"},Se={class:"flex gap-2"},$e={class:"grid gap-6 md:grid-cols-2"},je={class:"flex items-center justify-between"},Pe={class:"font-medium"},De={class:"flex items-center justify-between"},Me={class:"font-medium"},Ae={class:"flex items-center justify-between"},Ne={class:"flex items-center justify-between"},Te={class:"font-medium"},Ee={class:"flex items-center justify-between"},Le={class:"font-medium"},Be={key:0,class:"flex items-center justify-between"},Ie={class:"font-medium"},Fe={key:1,class:"flex items-center justify-between"},Ve={class:"font-medium"},ze={class:"font-medium"},Oe={class:"text-sm text-muted-foreground mt-1"},Re={class:"flex items-center justify-between"},Ue={class:"flex items-center justify-between"},We={class:"font-medium"},qe={class:"flex items-center justify-between"},Ge={class:"font-medium"},He={class:"flex items-center justify-between"},Je={class:"font-medium"},Ke={class:"grid gap-4 md:grid-cols-4"},Qe={class:"text-2xl font-bold"},Xe={class:"text-xs text-muted-foreground mt-2"},Ye={class:"text-2xl font-bold"},Ze={class:"text-xs text-muted-foreground"},et={class:"text-2xl font-bold"},tt={class:"text-2xl font-bold"},st={class:"text-xs text-muted-foreground"},nt={key:0,class:"text-center py-8 text-muted-foreground"},lt={key:1,class:"space-y-4"},ot={class:"flex items-center justify-between mb-3"},at={class:"flex items-center gap-3"},rt={class:"font-medium"},it={class:"flex items-center gap-2 text-sm text-muted-foreground"},dt={key:0,class:"text-orange-600"},ut={class:"text-right"},mt={class:"font-semibold"},ft={key:1,class:"text-center py-8 text-muted-foreground"},gt={class:"font-medium"},_t={class:"text-sm"},ct={key:0,class:"text-xs text-muted-foreground"},pt={class:"text-xs text-muted-foreground"},xt={key:0,class:"text-xs text-red-600"},yt={key:0,class:"text-center py-8 text-muted-foreground"},vt={class:"font-medium"},bt={class:"text-xs text-muted-foreground"},wt={class:"flex items-center gap-2"},kt={class:"capitalize"},ht={class:"space-y-1"},Ct={class:"flex items-center justify-between text-sm"},St={key:0,class:"text-sm"},$t={key:1,class:"text-sm text-muted-foreground"},jt=se({__name:"Show",props:{assignment:{},moduleProgress:{},userProgress:{},learningSessions:{}},setup(z){const y=z,O=[{title:"Online Courses",href:"/admin/course-online"},{title:"Course Assignments",href:"/admin/course-assignments"},{title:"Assignment Details",href:"#"}],R=()=>{alert(`Send message to ${y.assignment.user.name}`)},U=()=>{window.open(`/courses-online/${y.assignment.course.id}`,"_blank")},W=h(()=>y.moduleProgress.filter(o=>o.progress.is_completed).length),q=h(()=>y.moduleProgress.length),G=h(()=>{if(y.learningSessions.length===0)return 0;const o=y.learningSessions.reduce((t,a)=>t+a.attention_score,0);return Math.round(o/y.learningSessions.length)}),$=h(()=>y.learningSessions.filter(o=>o.is_suspicious).length),H=o=>{switch(o){case"assigned":return"bg-gray-100 text-gray-800 dark:bg-gray-800 dark:text-gray-300";case"in_progress":return"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-300";case"completed":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300";default:return"bg-gray-100 text-gray-800 dark:bg-gray-800 dark:text-gray-300"}},J=o=>{switch(o){case"assigned":return"Not Started";case"in_progress":return"In Progress";case"completed":return"Completed";default:return o}},K=o=>{switch(o){case"beginner":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300";case"intermediate":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-300";case"advanced":return"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300";default:return"bg-gray-100 text-gray-800 dark:bg-gray-800 dark:text-gray-300"}},Q=o=>{switch(o.toLowerCase()){case"high":return"text-green-600";case"medium":return"text-yellow-600";case"low":return"text-orange-600";case"very low":return"text-red-600";default:return"text-gray-600"}},X=o=>{switch(o.toLowerCase()){case"none":return"text-green-600";case"low":return"text-yellow-600";case"medium":return"text-orange-600";case"high":return"text-red-600";case"very high":return"text-red-700";default:return"text-gray-600"}},k=o=>o?new Date(o).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit"}):"Not available",Y=o=>{switch(o){case"video":return ve;case"pdf":return T;default:return T}},Z=o=>{if(!o||o<=0)return"0 min";if(o<60)return`${o}m`;const t=Math.floor(o/60),a=o%60;return a>0?`${t}h ${a}m`:`${t}h`},ee=o=>!o||o==="null"||o==="undefined"?"0 min":o.startsWith("-")?o.substring(1).trim()||"0 min":o;return(o,t)=>(d(),u(C,null,[s(e(ne),{title:"Assignment Details"}),s(ae,{breadcrumbs:O},{default:n(()=>[l("div",we,[l("div",ke,[l("div",he,[s(e(P),{asChild:"",variant:"ghost"},{default:n(()=>[s(e(le),{href:"/admin/course-assignments"},{default:n(()=>[s(e(me),{class:"h-4 w-4 mr-2"}),t[0]||(t[0]=i(" Back to Assignments "))]),_:1})]),_:1}),l("div",null,[t[1]||(t[1]=l("h1",{class:"text-3xl font-bold tracking-tight"},"Assignment Details",-1)),l("p",Ce,r(o.assignment.user.name)+" • "+r(o.assignment.course.name),1)])]),l("div",Se,[s(e(P),{variant:"outline",size:"sm",onClick:R},{default:n(()=>[s(e(fe),{class:"mr-2 h-4 w-4"}),t[2]||(t[2]=i(" Send Message "))]),_:1}),s(e(P),{variant:"outline",size:"sm",onClick:U},{default:n(()=>[s(e(ge),{class:"mr-2 h-4 w-4"}),t[3]||(t[3]=i(" View as Student "))]),_:1})])]),l("div",$e,[s(e(_),null,{default:n(()=>[s(e(p),null,{default:n(()=>[s(e(x),{class:"flex items-center gap-2"},{default:n(()=>[s(e(_e),{class:"h-5 w-5 text-primary"}),t[4]||(t[4]=i(" Student Information "))]),_:1})]),_:1}),s(e(c),{class:"space-y-4"},{default:n(()=>[l("div",je,[t[5]||(t[5]=l("span",{class:"text-sm text-muted-foreground"},"Name",-1)),l("span",Pe,r(o.assignment.user.name),1)]),l("div",De,[t[6]||(t[6]=l("span",{class:"text-sm text-muted-foreground"},"Email",-1)),l("span",Me,r(o.assignment.user.email),1)]),l("div",Ae,[t[7]||(t[7]=l("span",{class:"text-sm text-muted-foreground"},"Status",-1)),s(e(w),{class:b(H(o.assignment.status))},{default:n(()=>[i(r(J(o.assignment.status)),1)]),_:1},8,["class"])]),l("div",Ne,[t[8]||(t[8]=l("span",{class:"text-sm text-muted-foreground"},"Assigned by",-1)),l("span",Te,r(o.assignment.assigned_by.name),1)]),l("div",Ee,[t[9]||(t[9]=l("span",{class:"text-sm text-muted-foreground"},"Assigned Date",-1)),l("span",Le,r(k(o.assignment.assigned_at)),1)]),o.assignment.started_at?(d(),u("div",Be,[t[10]||(t[10]=l("span",{class:"text-sm text-muted-foreground"},"Started Date",-1)),l("span",Ie,r(k(o.assignment.started_at)),1)])):v("",!0),o.assignment.completed_at?(d(),u("div",Fe,[t[11]||(t[11]=l("span",{class:"text-sm text-muted-foreground"},"Completed Date",-1)),l("span",Ve,r(k(o.assignment.completed_at)),1)])):v("",!0)]),_:1})]),_:1}),s(e(_),null,{default:n(()=>[s(e(p),null,{default:n(()=>[s(e(x),{class:"flex items-center gap-2"},{default:n(()=>[s(e(I),{class:"h-5 w-5 text-primary"}),t[12]||(t[12]=i(" Course Information "))]),_:1})]),_:1}),s(e(c),{class:"space-y-4"},{default:n(()=>[l("div",null,[l("div",ze,r(o.assignment.course.name),1),l("div",Oe,r(o.assignment.course.description),1)]),l("div",Re,[t[13]||(t[13]=l("span",{class:"text-sm text-muted-foreground"},"Difficulty",-1)),s(e(w),{class:b(K(o.assignment.course.difficulty_level))},{default:n(()=>[i(r(o.assignment.course.difficulty_level),1)]),_:1},8,["class"])]),l("div",Ue,[t[14]||(t[14]=l("span",{class:"text-sm text-muted-foreground"},"Duration",-1)),l("span",We,r(o.assignment.course.estimated_duration)+" minutes",1)]),l("div",qe,[t[15]||(t[15]=l("span",{class:"text-sm text-muted-foreground"},"Modules",-1)),l("span",Ge,r(o.assignment.course.modules_count),1)]),l("div",He,[t[16]||(t[16]=l("span",{class:"text-sm text-muted-foreground"},"Current Module",-1)),l("span",Je,r(o.assignment.current_module?`Module ${o.assignment.current_module.order_number}: ${o.assignment.current_module.name}`:"Not started"),1)])]),_:1})]),_:1})]),l("div",Ke,[s(e(_),null,{default:n(()=>[s(e(p),{class:"flex flex-row items-center justify-between space-y-0 pb-2"},{default:n(()=>[s(e(x),{class:"text-sm font-medium"},{default:n(()=>t[17]||(t[17]=[i("Overall Progress")])),_:1}),s(e(ce),{class:"h-4 w-4 text-muted-foreground"})]),_:1}),s(e(c),null,{default:n(()=>[l("div",Qe,r(Math.round(o.assignment.progress_percentage))+"%",1),s(e(M),{value:o.assignment.progress_percentage,class:"mt-2"},null,8,["value"]),l("p",Xe,r(W.value)+" of "+r(q.value)+" modules completed ",1)]),_:1})]),_:1}),s(e(_),null,{default:n(()=>[s(e(p),{class:"flex flex-row items-center justify-between space-y-0 pb-2"},{default:n(()=>[s(e(x),{class:"text-sm font-medium"},{default:n(()=>t[18]||(t[18]=[i("Time Spent")])),_:1}),s(e(pe),{class:"h-4 w-4 text-muted-foreground"})]),_:1}),s(e(c),null,{default:n(()=>[l("div",Ye,r(o.assignment.time_spent||"0 min"),1),l("p",Ze," Est. "+r(o.assignment.course.estimated_duration)+" min total ",1)]),_:1})]),_:1}),s(e(_),null,{default:n(()=>[s(e(p),{class:"flex flex-row items-center justify-between space-y-0 pb-2"},{default:n(()=>[s(e(x),{class:"text-sm font-medium"},{default:n(()=>t[19]||(t[19]=[i("Engagement")])),_:1}),s(e(F),{class:"h-4 w-4 text-muted-foreground"})]),_:1}),s(e(c),null,{default:n(()=>[l("div",et,r(G.value)+"%",1),t[20]||(t[20]=l("p",{class:"text-xs text-muted-foreground"},"Average attention score",-1))]),_:1})]),_:1}),s(e(_),null,{default:n(()=>[s(e(p),{class:"flex flex-row items-center justify-between space-y-0 pb-2"},{default:n(()=>[s(e(x),{class:"text-sm font-medium"},{default:n(()=>t[21]||(t[21]=[i("Sessions")])),_:1}),s(e(xe),{class:"h-4 w-4 text-muted-foreground"})]),_:1}),s(e(c),null,{default:n(()=>[l("div",tt,r(o.learningSessions.length),1),l("p",st,r($.value)+" suspicious ",1)]),_:1})]),_:1})]),s(e(re),{"default-value":"modules",class:"space-y-4"},{default:n(()=>[s(e(ie),null,{default:n(()=>[s(e(A),{value:"modules"},{default:n(()=>t[22]||(t[22]=[i("Module Progress")])),_:1}),s(e(A),{value:"sessions"},{default:n(()=>t[23]||(t[23]=[i("Learning Sessions")])),_:1}),s(e(A),{value:"content"},{default:n(()=>t[24]||(t[24]=[i("Content Progress")])),_:1})]),_:1}),s(e(N),{value:"modules",class:"space-y-4"},{default:n(()=>[s(e(_),null,{default:n(()=>[s(e(p),null,{default:n(()=>[s(e(x),null,{default:n(()=>t[25]||(t[25]=[i("Module Progress")])),_:1}),s(e(D),null,{default:n(()=>t[26]||(t[26]=[i(" Detailed progress through each course module ")])),_:1})]),_:1}),s(e(c),null,{default:n(()=>[o.moduleProgress.length===0?(d(),u("div",nt,[s(e(I),{class:"h-12 w-12 mx-auto mb-4 opacity-50"}),t[27]||(t[27]=l("p",null,"No module progress data available",-1))])):(d(),u("div",lt,[(d(!0),u(C,null,j(o.moduleProgress,a=>(d(),u("div",{key:a.id,class:b(["border rounded-lg p-4",a.progress.is_completed?"bg-green-50 border-green-200 dark:bg-green-950":"bg-gray-50 dark:bg-gray-900"])},[l("div",ot,[l("div",at,[l("div",{class:b(["w-8 h-8 rounded-full flex items-center justify-center text-sm font-semibold",a.progress.is_completed?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300":"bg-gray-200 text-gray-700 dark:bg-gray-700 dark:text-gray-300"])},r(a.order_number),3),l("div",null,[l("h4",rt,r(a.name),1),l("div",it,[l("span",null,r(a.progress.completed_content)+"/"+r(a.progress.total_content)+" content items",1),a.progress.is_unlocked?v("",!0):(d(),u("span",dt,"🔒 Locked"))])])]),l("div",ut,[l("div",mt,r(Math.round(a.progress.completion_percentage))+"%",1),a.progress.is_completed?(d(),m(e(w),{key:0,class:"bg-green-100 text-green-800"},{default:n(()=>[s(e(V),{class:"w-3 h-3 mr-1"}),t[28]||(t[28]=i(" Completed "))]),_:1})):v("",!0)])]),s(e(M),{value:a.progress.completion_percentage,class:"h-2"},null,8,["value"])],2))),128))]))]),_:1})]),_:1})]),_:1}),s(e(N),{value:"sessions",class:"space-y-4"},{default:n(()=>[s(e(_),null,{default:n(()=>[s(e(p),null,{default:n(()=>[s(e(x),null,{default:n(()=>t[29]||(t[29]=[i("Learning Sessions")])),_:1}),s(e(D),null,{default:n(()=>t[30]||(t[30]=[i(" Detailed activity log of student learning sessions ")])),_:1})]),_:1}),s(e(c),null,{default:n(()=>[$.value>0?(d(),m(e(de),{key:0,class:"mb-4"},{default:n(()=>[s(e(ye),{class:"h-4 w-4"}),s(e(ue),null,{default:n(()=>[l("strong",null,r($.value),1),t[31]||(t[31]=i(" suspicious learning sessions detected. Review for potential academic dishonesty. "))]),_:1})]),_:1})):v("",!0),o.learningSessions.length===0?(d(),u("div",ft,[s(e(F),{class:"h-12 w-12 mx-auto mb-4 opacity-50"}),t[32]||(t[32]=l("p",null,"No learning sessions recorded yet",-1))])):(d(),m(e(E),{key:2},{default:n(()=>[s(e(L),null,{default:n(()=>[s(e(S),null,{default:n(()=>[s(e(f),null,{default:n(()=>t[33]||(t[33]=[i("Content")])),_:1}),s(e(f),null,{default:n(()=>t[34]||(t[34]=[i("Session Time")])),_:1}),s(e(f),null,{default:n(()=>t[35]||(t[35]=[i("Duration")])),_:1}),s(e(f),null,{default:n(()=>t[36]||(t[36]=[i("Engagement")])),_:1}),s(e(f),null,{default:n(()=>t[37]||(t[37]=[i("Risk Level")])),_:1})]),_:1})]),_:1}),s(e(B),null,{default:n(()=>[(d(!0),u(C,null,j(o.learningSessions,a=>(d(),m(e(S),{key:a.id,class:b(a.is_suspicious?"bg-red-50 dark:bg-red-950":"")},{default:n(()=>[s(e(g),null,{default:n(()=>[l("div",gt,r(a.content_title),1)]),_:2},1024),s(e(g),null,{default:n(()=>[l("div",_t,r(k(a.session_start)),1),a.session_end?(d(),u("div",ct," Ended "+r(a.session_end),1)):v("",!0)]),_:2},1024),s(e(g),null,{default:n(()=>[i(r(ee(a.duration)),1)]),_:2},1024),s(e(g),null,{default:n(()=>[l("div",{class:b([Q(a.engagement_level),"font-medium"])},r(a.engagement_level),3),l("div",pt,r(a.attention_score)+"% attention",1)]),_:2},1024),s(e(g),null,{default:n(()=>[l("div",{class:b([X(a.cheating_risk),"font-medium"])},r(a.cheating_risk),3),a.is_suspicious?(d(),u("div",xt," ⚠️ Flagged ")):v("",!0)]),_:2},1024)]),_:2},1032,["class"]))),128))]),_:1})]),_:1}))]),_:1})]),_:1})]),_:1}),s(e(N),{value:"content",class:"space-y-4"},{default:n(()=>[s(e(_),null,{default:n(()=>[s(e(p),null,{default:n(()=>[s(e(x),null,{default:n(()=>t[38]||(t[38]=[i("Content Progress")])),_:1}),s(e(D),null,{default:n(()=>t[39]||(t[39]=[i(" Individual content item completion status ")])),_:1})]),_:1}),s(e(c),null,{default:n(()=>[o.userProgress.length===0?(d(),u("div",yt,[s(e(T),{class:"h-12 w-12 mx-auto mb-4 opacity-50"}),t[40]||(t[40]=l("p",null,"No content progress data available",-1))])):(d(),m(e(E),{key:1},{default:n(()=>[s(e(L),null,{default:n(()=>[s(e(S),null,{default:n(()=>[s(e(f),null,{default:n(()=>t[41]||(t[41]=[i("Content")])),_:1}),s(e(f),null,{default:n(()=>t[42]||(t[42]=[i("Type")])),_:1}),s(e(f),null,{default:n(()=>t[43]||(t[43]=[i("Progress")])),_:1}),s(e(f),null,{default:n(()=>t[44]||(t[44]=[i("Time Spent")])),_:1}),s(e(f),null,{default:n(()=>t[45]||(t[45]=[i("Last Accessed")])),_:1}),s(e(f),null,{default:n(()=>t[46]||(t[46]=[i("Status")])),_:1})]),_:1})]),_:1}),s(e(B),null,{default:n(()=>[(d(!0),u(C,null,j(o.userProgress,(a,te)=>(d(),m(e(S),{key:a.id||te},{default:n(()=>[s(e(g),null,{default:n(()=>[l("div",vt,r(a.content.title),1),l("div",bt,r(a.content.module_name),1)]),_:2},1024),s(e(g),null,{default:n(()=>[l("div",wt,[(d(),m(oe(Y(a.content.content_type)),{class:"w-4 h-4 text-blue-600"})),l("span",kt,r(a.content.content_type),1)])]),_:2},1024),s(e(g),null,{default:n(()=>[l("div",ht,[l("div",Ct,[l("span",null,r(Math.round(a.completion_percentage))+"%",1),a.is_completed?(d(),m(e(w),{key:0,class:"bg-green-100 text-green-800"},{default:n(()=>[s(e(V),{class:"w-3 h-3"})]),_:1})):v("",!0)]),s(e(M),{value:a.completion_percentage,class:"h-2"},null,8,["value"])])]),_:2},1024),s(e(g),null,{default:n(()=>[i(r(Z(a.watch_time)),1)]),_:2},1024),s(e(g),null,{default:n(()=>[a.last_accessed?(d(),u("div",St,r(k(a.last_accessed)),1)):(d(),u("div",$t,"Never"))]),_:2},1024),s(e(g),null,{default:n(()=>[a.is_completed?(d(),m(e(w),{key:0,class:"bg-green-100 text-green-800"},{default:n(()=>t[47]||(t[47]=[i(" Completed ")])),_:1})):a.completion_percentage>0?(d(),m(e(w),{key:1,class:"bg-blue-100 text-blue-800"},{default:n(()=>t[48]||(t[48]=[i(" In Progress ")])),_:1})):(d(),m(e(w),{key:2,class:"bg-gray-100 text-gray-800"},{default:n(()=>t[49]||(t[49]=[i(" Not Started ")])),_:1}))]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1}))]),_:1})]),_:1})]),_:1})]),_:1})])]),_:1})],64))}}),fs=be(jt,[["__scopeId","data-v-fbddb7ab"]]);export{fs as default};
