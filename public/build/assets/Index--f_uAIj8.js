import{d as A,a as i,o as r,b as n,u as a,m as E,w as c,e as s,h as m,t as d,F as C,i as U,g as w,f as g,P as I}from"./app-DvESifdT.js";import{U as L,f as M}from"./AppLayout.vue_vue_type_script_setup_true_lang-BjRKJUfr.js";import{_ as F}from"./Pagination2.vue_vue_type_script_setup_true_lang-D21nWZ5S.js";import{_ as O}from"./Button.vue_vue_type_script_setup_true_lang-CEpF3qtW.js";import{_ as R}from"./Card.vue_vue_type_script_setup_true_lang-BiCDAzlM.js";import{_ as W}from"./CardContent.vue_vue_type_script_setup_true_lang-smW2hG8u.js";import{_ as p}from"./index-Bdi3z1dZ.js";import{B as D}from"./book-open-C62t0gr-.js";import{C as S}from"./calendar-BD71jGan.js";import{C as z}from"./calendar-days-BVelaQk6.js";import{C as y}from"./clock-BiVRP5oK.js";import{T as q}from"./timer-BhEFl6g8.js";import{U as G,_ as H}from"./_plugin-vue_export-helper-BD6AW0L4.js";import{C as J}from"./circle-check-big-DFMqv-MZ.js";import{C as K}from"./clipboard-list-BtRocp7M.js";import{A as Q}from"./arrow-right-DSxkfbqC.js";import"./index-C83yD4X2.js";import"./index-B3ghWQKD.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-BwZx7090.js";const X={class:"container mx-auto px-4 py-6 sm:py-8 max-w-7xl"},Y={class:"flex flex-col space-y-6"},Z={class:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4"},ee={key:0,class:"text-sm text-muted-foreground mt-1"},te={class:"grid gap-6 grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4"},se={class:"relative bg-muted overflow-hidden aspect-video"},ae=["src","alt"],ne={key:1,class:"absolute inset-0 flex items-center justify-center bg-gradient-to-br from-muted to-muted/80"},re={class:"absolute top-3 right-3"},oe={class:"absolute top-3 left-3"},le={class:"text-lg font-semibold mb-3 text-foreground line-clamp-2 leading-snug"},ie={class:"space-y-2 mb-4 flex-grow text-sm text-muted-foreground"},de={class:"flex items-center"},me={class:"flex items-center"},ue={key:0,class:"border-t pt-2 mt-3"},ce={key:0,class:"flex items-center mb-1"},fe={key:1,class:"flex items-center mb-1"},ge={key:2,class:"flex items-center mb-1"},xe={key:3,class:"flex items-center"},pe={key:1,class:"flex items-center pt-2"},he={key:2,class:"flex items-center"},_e={key:3,class:"flex items-center"},we={key:0,class:"mb-4"},ye={key:1,class:"mb-4"},ke={key:0,class:"text-center py-16 px-4"},ve={key:1,class:"flex justify-center items-center mt-8"},be=A({__name:"Index",props:{courses:{type:Object,default:()=>({data:[],links:[],meta:{}})}},setup(l){var b;const k=l;console.log("Courses prop:",k.courses),console.log("Pagination links:",((b=k.courses)==null?void 0:b.links)||"No links provided");const T=o=>({pending:"Pending",in_progress:"In Progress",completed:"Completed"})[o]||o,$=o=>{switch(o){case"in_progress":return"default";case"pending":return"secondary";case"completed":return"outline";default:return"outline"}},B=o=>{switch(o){case"enrolled":return"default";case"completed":return"outline";default:return"secondary"}},P=o=>{switch(o){case"pending":return"secondary";case"accepted":return"default";case"declined":return"destructive";case"completed":return"outline";default:return"outline"}},v=o=>o?new Date(o).toLocaleDateString():"—",V=(o,t=0)=>o===1?"1 Session":`${o} seats`,f=o=>{if(!o.availabilities||o.availabilities.length===0)return null;const t=new Set;let x=0,h=null,_=null;o.availabilities.forEach(u=>{u.selected_days&&u.selected_days.length>0&&u.selected_days.forEach(j=>t.add(j)),u.duration_weeks&&(x=Math.max(x,u.duration_weeks)),u.formatted_session_time&&(h=u.formatted_session_time),u.formatted_session_duration&&(_=u.formatted_session_duration)});const e={monday:"Mon",tuesday:"Tue",wednesday:"Wed",thursday:"Thu",friday:"Fri",saturday:"Sat",sunday:"Sun"};return{days:Array.from(t).map(u=>e[u]||u).join(", ")||"TBD",weeks:x||null,sessionTime:h,sessionDuration:_}},N=[{name:"Dashboard",href:route("dashboard")},{name:"Courses",href:route("courses.index")}];return(o,t)=>(r(),i(C,null,[n(a(E),{title:"Courses"}),n(M,{breadcrumbs:N},{default:c(()=>{var x,h,_;return[s("div",X,[s("div",Y,[s("div",Z,[s("div",null,[t[1]||(t[1]=s("h1",{class:"text-2xl sm:text-3xl lg:text-4xl font-bold text-foreground tracking-tight"},"Available Courses",-1)),l.courses.data&&l.courses.data.length>0?(r(),i("p",ee," Showing "+d(((x=l.courses.meta)==null?void 0:x.from)||l.courses.from)+" to "+d(((h=l.courses.meta)==null?void 0:h.to)||l.courses.to)+" of "+d(((_=l.courses.meta)==null?void 0:_.total)||l.courses.total)+" courses ",1)):m("",!0)])]),s("div",te,[(r(!0),i(C,null,U(l.courses.data,e=>(r(),w(a(R),{key:e.id,class:"group hover:shadow-lg transition-all duration-200 hover:-translate-y-1 overflow-hidden"},{default:c(()=>[s("div",se,[e.image_path?(r(),i("img",{key:0,src:`/storage/${e.image_path}`,alt:e.name,class:"absolute inset-0 w-full h-full object-fill transition-transform duration-500 group-hover:scale-105",loading:"lazy"},null,8,ae)):(r(),i("div",ne,[n(a(D),{class:"w-12 h-12 text-muted-foreground"})])),s("div",re,[n(a(p),{variant:$(e.status),class:"backdrop-blur-sm bg-blue-50"},{default:c(()=>[g(d(T(e.status)),1)]),_:2},1032,["variant"])]),s("div",oe,[n(a(p),{variant:e.privacy==="public"?"default":"secondary",class:"backdrop-blur-sm bg-blue-50 text-black"},{default:c(()=>[g(d(e.privacy==="public"?"🌍 Public":"🔒 Private"),1)]),_:2},1032,["variant"])])]),n(a(W),{class:"p-4 sm:p-5 flex flex-col flex-grow"},{default:c(()=>[s("h2",le,d(e.name),1),s("div",ie,[s("div",de,[n(a(S),{class:"w-4 h-4 mr-2 text-muted-foreground"}),t[2]||(t[2]=s("span",{class:"font-medium mr-2 min-w-[3rem]"},"Start:",-1)),s("span",null,d(v(e.start_date)),1)]),s("div",me,[n(a(S),{class:"w-4 h-4 mr-2 text-muted-foreground"}),t[3]||(t[3]=s("span",{class:"font-medium mr-2 min-w-[3rem]"},"End:",-1)),s("span",null,d(v(e.end_date)),1)]),f(e)?(r(),i("div",ue,[t[8]||(t[8]=s("h4",{class:"text-xs font-semibold text-foreground mb-2"},"Schedule",-1)),f(e).days!=="TBD"?(r(),i("div",ce,[n(a(z),{class:"w-4 h-4 mr-2 text-muted-foreground"}),t[4]||(t[4]=s("span",{class:"font-medium mr-2 min-w-[3rem]"},"Days:",-1)),n(a(p),{variant:"outline",class:"text-xs"},{default:c(()=>[g(d(f(e).days),1)]),_:2},1024)])):m("",!0),f(e).weeks?(r(),i("div",fe,[n(a(y),{class:"w-4 h-4 mr-2 text-muted-foreground"}),t[5]||(t[5]=s("span",{class:"font-medium mr-2 min-w-[3rem]"},"Duration:",-1)),s("span",null,d(f(e).weeks)+" weeks",1)])):m("",!0),f(e).sessionTime?(r(),i("div",ge,[n(a(q),{class:"w-4 h-4 mr-2 text-muted-foreground"}),t[6]||(t[6]=s("span",{class:"font-medium mr-2 min-w-[3rem]"},"Time:",-1)),s("span",null,d(f(e).sessionTime),1)])):m("",!0),f(e).sessionDuration?(r(),i("div",xe,[n(a(y),{class:"w-4 h-4 mr-2 text-muted-foreground"}),t[7]||(t[7]=s("span",{class:"font-medium mr-2 min-w-[3rem]"},"Length:",-1)),s("span",null,d(f(e).sessionDuration),1)])):m("",!0)])):m("",!0),e.level?(r(),i("div",pe,[n(a(p),{variant:"outline",class:"text-xs"},{default:c(()=>[g(d(e.level),1)]),_:2},1024)])):m("",!0),e.duration?(r(),i("div",he,[n(a(y),{class:"w-4 h-4 mr-2 text-muted-foreground"}),t[9]||(t[9]=s("span",{class:"font-medium mr-2 min-w-[3rem]"},"Total:",-1)),s("span",null,d(e.duration)+" hours",1)])):m("",!0),e.total_capacity?(r(),i("div",_e,[n(a(G),{class:"w-4 h-4 mr-2 text-muted-foreground"}),t[10]||(t[10]=s("span",{class:"font-medium mr-2 min-w-[4rem]"},"Seats:",-1)),s("span",null,d(V(e.total_capacity)),1)])):m("",!0)]),e.user_status?(r(),i("div",we,[n(a(p),{variant:B(e.user_status),class:"w-fit"},{default:c(()=>[e.user_status==="enrolled"?(r(),w(a(L),{key:0,class:"mr-1 h-3 w-3"})):e.user_status==="completed"?(r(),w(a(J),{key:1,class:"mr-1 h-3 w-3"})):m("",!0),g(" "+d(e.user_status==="enrolled"?"Enrolled":"Completed"),1)]),_:2},1032,["variant"])])):m("",!0),e.user_assignment?(r(),i("div",ye,[n(a(p),{variant:P(e.user_assignment.status),class:"w-fit"},{default:c(()=>[n(a(K),{class:"mr-1 h-3 w-3"}),g(" Assigned by "+d(e.user_assignment.assigned_by),1)]),_:2},1032,["variant"])])):m("",!0),n(a(O),{as:a(I),href:`/courses/${e.id}`,class:"w-full mt-auto group"},{default:c(()=>[t[11]||(t[11]=g(" View Details ")),n(a(Q),{class:"ml-2 h-4 w-4 transition-transform group-hover:translate-x-1"})]),_:2},1032,["as","href"])]),_:2},1024)]),_:2},1024))),128))]),!l.courses.data||l.courses.data.length===0?(r(),i("div",ke,[n(a(D),{class:"h-16 w-16 mx-auto mb-4 text-muted-foreground"}),t[12]||(t[12]=s("p",{class:"text-lg text-muted-foreground font-medium"},"No courses available at the moment",-1)),t[13]||(t[13]=s("p",{class:"text-muted-foreground mt-2"},"Check back later for new courses",-1))])):m("",!0),l.courses.data&&l.courses.data.length>0&&l.courses.links&&l.courses.links.length>0?(r(),i("div",ve,[n(F,{links:l.courses.links,onRendered:t[0]||(t[0]=e=>console.log("Pagination component rendered with links:",l.courses.links))},null,8,["links"])])):m("",!0)])])]}),_:1})],64))}}),ze=H(be,[["__scopeId","data-v-809468ab"]]);export{ze as default};
