import{i as S}from"./ConfigProvider-DOXS0eOl.js";import{r as u,c as f,a8 as h,a1 as T,d as p,T as k,ah as w,M as d,l as P}from"./app-Bf83lhVz.js";import{S as M}from"./Button.vue_vue_type_script_setup_true_lang-BDGEo7Yo.js";import{u as C}from"./usePrimitiveElement-Cp-kZNWx.js";function z(n){const m=S({dir:u("ltr")});return f(()=>{var s;return(n==null?void 0:n.value)||((s=m.dir)==null?void 0:s.value)||"ltr"})}const A="data-reka-collection-item";function D(n={}){const{key:m="",isProvider:s=!1}=n,v=`${m}CollectionProvider`;let e;if(s){const o=u(new Map);e={collectionRef:u(),itemMap:o},h(v,e)}else e=T(v);const y=(o=!1)=>{const t=e.collectionRef.value;if(!t)return[];const r=Array.from(t.querySelectorAll(`[${A}]`)),l=Array.from(e.itemMap.value.values()).sort((i,c)=>r.indexOf(i.ref)-r.indexOf(c.ref));return o?l:l.filter(i=>i.ref.dataset.disabled!=="")},E=p({name:"CollectionSlot",setup(o,{slots:t}){const{primitiveElement:r,currentElement:a}=C();return P(a,()=>{e.collectionRef.value=a.value}),()=>d(M,{ref:r},t)}}),x=p({name:"CollectionItem",inheritAttrs:!1,props:{value:{validator:()=>!0}},setup(o,{slots:t,attrs:r}){const{primitiveElement:a,currentElement:l}=C();return k(i=>{if(l.value){const c=w(l.value);e.itemMap.value.set(c,{ref:l.value,value:o.value}),i(()=>e.itemMap.value.delete(c))}}),()=>d(M,{...r,[A]:"",ref:a},t)}}),I=f(()=>Array.from(e.itemMap.value.values())),R=f(()=>e.itemMap.value.size);return{getItems:y,reactiveItems:I,itemMapSize:R,CollectionSlot:E,CollectionItem:x}}export{z as a,D as u};
