import{d as ee,a as r,o as i,J as fe,n as x,u as e,r as T,k as G,C as V,c as H,g as f,w as a,h as g,e as l,b as o,f as c,t as d,P as M,F as B,i as N,W as R}from"./app-sfv6CYbu.js";import{c as ge}from"./AppLayout.vue_vue_type_script_setup_true_lang-BqoVmqtq.js";import{a as he,_ as v}from"./Button.vue_vue_type_script_setup_true_lang-Ccdh52Vd.js";import{_ as y}from"./Card.vue_vue_type_script_setup_true_lang-C1bT-eXd.js";import{_ as $}from"./CardContent.vue_vue_type_script_setup_true_lang-Khif222k.js";import{_ as pe}from"./CardDescription.vue_vue_type_script_setup_true_lang-Du745yLv.js";import{_ as K}from"./CardHeader.vue_vue_type_script_setup_true_lang-DnS62nQf.js";import{_ as J}from"./CardTitle.vue_vue_type_script_setup_true_lang-BUNiHSkD.js";import{_ as D}from"./index-Dq640zwT.js";import{_ as U}from"./Label.vue_vue_type_script_setup_true_lang-BH1zqArT.js";import{_ as be}from"./Textarea.vue_vue_type_script_setup_true_lang-rDCsa1Rq.js";import{_ as ye,a as xe}from"./RadioGroupItem.vue_vue_type_script_setup_true_lang-BRhI8ok6.js";import{_ as S,a as w}from"./index-B6tKGzdl.js";import{T as X}from"./triangle-alert-BvMIqfKd.js";import{X as j}from"./x-BJKYekbZ.js";import{C as ve}from"./clipboard-list-8o-CI1G3.js";import{C as Q}from"./check-Bs2OgQiG.js";import{B as O}from"./book-open-FPj6PwVf.js";import{C as Z}from"./calendar-B-HlzXxC.js";import{C as Ae}from"./clock-DTvpSLd-.js";import{L as Y}from"./loader-circle-Bs3wlpar.js";import{A as ke}from"./arrow-right-CtSGXLnH.js";import{S as q}from"./star-Trfrp6Jg.js";import{C as Se}from"./circle-check-big-Dm31aE_G.js";import{T as we}from"./trophy-Be0q_1XM.js";import{M as Ce}from"./map-pin-CtjBMi5Z.js";import{_ as _e}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./index-DdH2r2B8.js";import"./index-C4PRPqD0.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-DttcJlkw.js";import"./useForwardPropsEmits--cawDwsm.js";import"./useForwardExpose-C32JnqdD.js";import"./RovingFocusItem-WKShskIl.js";import"./Presence-CHrFqoPB.js";import"./ConfigProvider-CuMY5RD4.js";import"./Collection-DekOIFXO.js";import"./usePrimitiveElement-BTNjppil.js";import"./VisuallyHidden-oKHpmjgu.js";import"./VisuallyHiddenInput-DlgXvBvW.js";import"./handleAndDispatchCustomEvent-ChOKVcqp.js";import"./ohash.D__AXeF1-DHF4M4F_.js";const C=ee({__name:"AlertTitle",props:{class:{}},setup(s){const m=s;return(A,P)=>(i(),r("h5",{class:x(e(he)("mb-1 font-medium leading-none tracking-tight",m.class))},[fe(A.$slots,"default")],2))}}),Ee={class:"container px-4 mx-auto py-6 sm:py-8 max-w-7xl space-y-6"},Te={class:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4"},Re={class:"text-2xl sm:text-3xl font-bold text-foreground"},$e={class:"flex items-start justify-between"},De={class:"flex items-start space-x-3"},Pe={key:0},Fe={key:1},Le={key:2},Ve={key:3},Me={class:"flex gap-3"},Be={class:"grid grid-cols-1 lg:grid-cols-3 gap-6 sm:gap-8"},Ne={class:"relative bg-muted overflow-hidden aspect-video"},Ue=["src","alt"],je={key:1,class:"absolute inset-0 flex items-center justify-center bg-gradient-to-br from-muted to-muted/80"},Oe=["innerHTML"],Ye={class:"grid grid-cols-1 sm:grid-cols-2 gap-4"},qe={class:"flex items-center space-x-2 text-muted-foreground mb-2"},ze={class:"font-semibold text-foreground"},Ie={class:"flex items-center space-x-2 text-muted-foreground mb-2"},We={class:"font-semibold text-foreground"},Ge={class:"flex items-center space-x-2 text-muted-foreground mb-2"},He={class:"font-semibold text-foreground capitalize"},Ke={class:"flex items-center space-x-2 text-muted-foreground mb-2"},Je={class:"font-semibold text-foreground"},Xe={key:0},Qe={key:0},Ze={key:3},es={class:"flex justify-between items-start"},ss={class:"font-medium text-foreground"},ts={class:"text-sm text-muted-foreground mt-1"},ns={key:0,class:"text-sm text-muted-foreground mt-1"},os={class:"mt-2 space-y-1"},as={class:"text-sm text-primary font-medium"},ls={class:"text-sm text-green-600 font-medium"},is={key:0,class:"text-xs text-muted-foreground"},rs={key:5},us={key:1},ds={key:2},cs={key:3},ms={key:4},fs={class:"space-y-4"},gs={class:"flex items-center p-4 bg-muted rounded-lg"},hs={class:"font-medium text-foreground"},ps={class:"space-y-4"},bs={class:"flex space-x-1 mt-2"},ys={key:0,class:"text-destructive text-sm mt-1"},xs={key:1},vs={key:2},As={key:0,class:"mb-4"},ks={class:"flex items-center space-x-2"},Ss={class:"flex"},ws={key:2},Cs={key:3},_s={class:"flex items-center space-x-2 mb-2"},Es={class:"font-semibold text-foreground"},Ts={class:"text-sm text-muted-foreground mt-1"},Rs={class:"mt-2 space-y-1 text-xs"},$s={class:"text-primary font-medium"},Ds={class:"text-green-600 font-medium"},Ps={class:"text-muted-foreground"},Fs=ee({__name:"Show",props:{course:Object,isEnrolled:Boolean,userStatus:String,selectedAvailability:Object,availabilities:Array,userAssignment:Object,completion:Object},setup(s){const m=s,A=T(!1),P=T(""),z=T(""),p=(n,t)=>{z.value=n,P.value=t,A.value=!0,setTimeout(()=>{A.value=!1},6e3)},se=()=>{A.value=!1},F=T(0);G(()=>m.completion,(n,t)=>{console.log("Completion changed:",t,"->",n),F.value+=1},{deep:!0}),G(()=>m.userStatus,(n,t)=>{console.log("UserStatus changed:",t,"->",n),F.value+=1});const h=V({rating:0,feedback:""}),L=H(()=>{const n=m.completion&&m.completion.rating!==null;return console.log("hasRated computed:",n,"completion:",m.completion),n});H(()=>m.isEnrolled&&(m.userStatus==="pending"||m.userStatus==="in_progress")&&L.value);function te(){console.log("=== VUE SUBMIT RATING START ==="),console.log("Rating form data:",h.data()),h.post(route("courses.submitRating",m.course.id),{onSuccess:n=>{console.log("âœ… Rating submitted successfully"),R.reload({only:["completion","userStatus","isEnrolled"]})},onError:n=>{console.error("âŒ Rating submission failed:",n),n.message?p("Rating Submission Failed",n.message):n.feedback?p("Feedback Required",n.feedback):p("Rating Error","There was an error submitting your rating. Please try again.")}})}const b=V({course_availability_id:null});function ne(){if(console.log("=== ENROLLMENT DEBUG START ==="),m.availabilities&&m.availabilities.length>0&&!b.course_availability_id){p("Session Selection Required","Please select a session schedule before enrolling in this course.");return}b.post(route("courses.enroll",m.course.id),{preserveState:!0,onSuccess:n=>{console.log("âœ… Enrollment SUCCESS!"),R.reload({only:["isEnrolled","userStatus","selectedAvailability"]})},onError:n=>{console.error("âŒ Enrollment FAILED!",n),n.message?n.message.includes("no longer available")?p("ðŸ“… Session No Longer Available","Sorry, the selected session schedule is no longer available. Please choose a different session or refresh the page to see updated availability."):n.message.includes("fully booked")?p("ðŸ“‹ Session Fully Booked","This session is now fully booked. Please select a different session schedule with available spots."):n.message.includes("already enrolled")?p("âœ… Already Enrolled","You are already enrolled in this course. Please refresh the page to see your current enrollment status."):p("Enrollment Error",n.message):n.course_availability_id?p("Session Selection Error",n.course_availability_id):p("âš ï¸ Enrollment Failed","We encountered an issue while processing your enrollment. Please refresh the page and try again, or contact support if the problem persists."),setTimeout(()=>{R.reload({only:["availabilities","isEnrolled","userStatus"]})},3e3)}})}const _=V({});function oe(){console.log("=== VUE MARK COMPLETED START ==="),_.post(route("courses.markCompleted",m.course.id),{onSuccess:n=>{console.log("âœ… Course marked as completed"),R.reload({only:["userStatus"]})},onError:n=>{console.error("âŒ Failed to mark course as completed:",n),n.message?p("Completion Error",n.message):p("Unable to Complete","There was an error marking this course as completed. Please try again.")}})}const ae=n=>{switch(n){case"in_progress":return"default";case"pending":return"secondary";case"completed":return"outline";default:return"outline"}},le=n=>{switch(n){case"pending":return"secondary";case"accepted":return"default";case"declined":return"destructive";case"completed":return"outline";default:return"outline"}},ie=n=>n?n===1?"1 Total Session":`${n} seats available`:"Capacity not specified",re=n=>n==null?"Sessions not available":n===0?"No sessions available":n===1?"1 Session Available":`${n} Total Sessions`,ue=n=>{const t=(n==null?void 0:n.sessions)||0;return t<=0?"destructive":t<=2?"secondary":"default"},de=n=>{const t=(n==null?void 0:n.sessions)||0;return t<=0?"Fully Booked":t===1?"1 Session Available":`${t} Sessions Available`},ce=n=>({pending:"Pending",in_progress:"In Progress",completed:"Completed"})[n]||n,E=n=>{if(!n)return"â€”";const t=new Date(n);return t.toLocaleDateString()+" at "+t.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})},I=n=>n?new Date(n).toLocaleDateString():"â€”",W=n=>((n==null?void 0:n.sessions)||0)<=0||!(n!=null&&n.is_available)||m.userAssignment&&m.userAssignment.status==="pending",me=[{name:"Dashboard",href:route("dashboard")},{name:"Courses",href:route("courses.index")},{name:m.course.name,href:route("courses.show",m.course.id)}];return(n,t)=>(i(),f(ge,{breadcrumbs:me},{default:a(()=>[A.value?(i(),f(e(S),{key:0,class:"fixed top-4 right-4 z-50 max-w-md border-destructive"},{default:a(()=>[o(e(X),{class:"h-4 w-4"}),o(e(C),null,{default:a(()=>[c(d(z.value),1)]),_:1}),o(e(w),null,{default:a(()=>[c(d(P.value),1)]),_:1}),o(e(v),{onClick:se,variant:"ghost",size:"sm",class:"absolute top-2 right-2"},{default:a(()=>[o(e(j),{class:"h-4 w-4"})]),_:1})]),_:1})):g("",!0),l("div",Ee,[l("div",Te,[l("h1",Re,d(s.course.name),1),o(e(D),{variant:ae(s.course.status)},{default:a(()=>[c(d(ce(s.course.status)),1)]),_:1},8,["variant"])]),s.userAssignment?(i(),f(e(y),{key:0,class:x(["border-l-4",{"border-l-yellow-500":s.userAssignment.status==="pending","border-l-green-500":s.userAssignment.status==="accepted","border-l-red-500":s.userAssignment.status==="declined","border-l-blue-500":s.userAssignment.status==="completed"}])},{default:a(()=>[o(e(K),null,{default:a(()=>[l("div",$e,[l("div",De,[o(e(ve),{class:x(["h-5 w-5 mt-0.5",{"text-yellow-500":s.userAssignment.status==="pending","text-green-500":s.userAssignment.status==="accepted","text-red-500":s.userAssignment.status==="declined","text-blue-500":s.userAssignment.status==="completed"}])},null,8,["class"]),l("div",null,[o(e(J),{class:"text-lg"},{default:a(()=>[s.userAssignment.status==="pending"?(i(),r("span",Pe,"ðŸ“‹ Course Assignment - Action Required")):s.userAssignment.status==="accepted"?(i(),r("span",Fe,"âœ… Course Assignment - Accepted")):s.userAssignment.status==="declined"?(i(),r("span",Le,"âŒ Course Assignment - Declined")):s.userAssignment.status==="completed"?(i(),r("span",Ve,"ðŸŽ‰ Course Assignment - Completed")):g("",!0)]),_:1}),s.userAssignment.assigned_by?(i(),f(e(pe),{key:0},{default:a(()=>[c(" Assigned by: "+d(s.userAssignment.assigned_by),1)]),_:1})):g("",!0)])]),o(e(D),{variant:le(s.userAssignment.status)},{default:a(()=>[c(d(s.userAssignment.status.charAt(0).toUpperCase()+s.userAssignment.status.slice(1)),1)]),_:1},8,["variant"])])]),_:1}),s.userAssignment.status==="pending"?(i(),f(e($),{key:0},{default:a(()=>[l("div",Me,[o(e(v),{as:e(M),href:n.route("assignments.accept",s.userAssignment.id),method:"post"},{default:a(()=>[o(e(Q),{class:"mr-2 h-4 w-4"}),t[2]||(t[2]=c(" Accept Assignment "))]),_:1},8,["as","href"]),o(e(v),{as:e(M),href:n.route("assignments.decline",s.userAssignment.id),method:"post",variant:"outline"},{default:a(()=>[o(e(j),{class:"mr-2 h-4 w-4"}),t[3]||(t[3]=c(" Decline Assignment "))]),_:1},8,["as","href"])])]),_:1})):g("",!0)]),_:1},8,["class"])):g("",!0),l("div",Be,[o(e(y),{class:"lg:col-span-2 group hover:shadow-lg transition-all duration-200"},{default:a(()=>[l("div",Ne,[s.course.image_path?(i(),r("img",{key:0,src:`/storage/${s.course.image_path}`,alt:s.course.name,class:"absolute inset-0 w-full h-full object-fill transition-transform duration-500 group-hover:scale-105",loading:"lazy"},null,8,Ue)):(i(),r("div",je,[o(e(O),{class:"w-12 h-12 text-muted-foreground"})]))]),o(e($),{class:"p-6 sm:p-8"},{default:a(()=>[l("div",{class:"prose max-w-none mb-8 text-foreground",innerHTML:s.course.description},null,8,Oe),l("div",Ye,[o(e(y),{class:"p-4"},{default:a(()=>[l("div",qe,[o(e(Z),{class:"h-4 w-4"}),t[4]||(t[4]=l("span",{class:"text-sm font-medium"},"Start Date",-1))]),l("p",ze,d(I(s.course.start_date)),1)]),_:1}),o(e(y),{class:"p-4"},{default:a(()=>[l("div",Ie,[o(e(Z),{class:"h-4 w-4"}),t[5]||(t[5]=l("span",{class:"text-sm font-medium"},"End Date",-1))]),l("p",We,d(I(s.course.end_date)),1)]),_:1}),s.course.level?(i(),f(e(y),{key:0,class:"p-4"},{default:a(()=>[l("div",Ge,[o(e(D),{variant:"outline",class:"text-xs"},{default:a(()=>t[6]||(t[6]=[c("Level")])),_:1})]),l("p",He,d(s.course.level),1)]),_:1})):g("",!0),s.course.duration?(i(),f(e(y),{key:1,class:"p-4"},{default:a(()=>[l("div",Ke,[o(e(Ae),{class:"h-4 w-4"}),t[7]||(t[7]=l("span",{class:"text-sm font-medium"},"Duration",-1))]),l("p",Je,d(s.course.duration)+" hours",1)]),_:1})):g("",!0)])]),_:1})]),_:1}),o(e(y),{class:"h-fit"},{default:a(()=>[o(e(K),null,{default:a(()=>[o(e(J),{class:"flex items-center"},{default:a(()=>[o(e(O),{class:"mr-2 h-5 w-5"}),t[8]||(t[8]=c(" Course Enrollment "))]),_:1})]),_:1}),o(e($),{class:"space-y-6"},{default:a(()=>[s.isEnrolled?(i(),r("div",{class:"space-y-6",key:F.value},[l("div",fs,[l("div",gs,[l("div",{class:x(["w-3 h-3 rounded-full mr-3",{"bg-green-500":s.userStatus==="completed","bg-primary":s.userStatus==="pending"||s.userStatus==="in_progress"}])},null,2),l("span",hs," Status: "+d(s.userStatus==="completed"?"Completed":"Enrolled"),1)]),(s.userStatus==="pending"||s.userStatus==="in_progress")&&!L.value?(i(),f(e(S),{key:0,class:"border-yellow-200"},{default:a(()=>{var u;return[o(e(q),{class:"h-4 w-4"}),o(e(C),null,{default:a(()=>t[17]||(t[17]=[c("ðŸ“‹ Rate This Course First")])),_:1}),o(e(w),{class:"mb-4"},{default:a(()=>t[18]||(t[18]=[c(" Please rate this course before marking it as complete. ")])),_:1}),l("div",ps,[l("div",null,[o(e(U),{class:"text-sm font-medium"},{default:a(()=>t[19]||(t[19]=[c("Your Rating")])),_:1}),l("div",bs,[(i(),r(B,null,N(5,k=>o(e(v),{key:k,type:"button",onClick:Ls=>e(h).rating=k,variant:"ghost",size:"sm",class:"p-1"},{default:a(()=>[o(e(q),{class:x(["h-6 w-6",{"text-yellow-400 fill-current":k<=e(h).rating,"text-muted-foreground":k>e(h).rating}])},null,8,["class"])]),_:2},1032,["onClick"])),64))])]),l("div",null,[o(e(U),{class:"text-sm font-medium"},{default:a(()=>t[20]||(t[20]=[c(" Feedback "),l("span",{class:"text-destructive"},"*",-1)])),_:1}),o(e(be),{modelValue:e(h).feedback,"onUpdate:modelValue":t[1]||(t[1]=k=>e(h).feedback=k),placeholder:"Please share your thoughts about this course... (required)",class:x(["mt-2",{"border-destructive":e(h).errors.feedback}]),required:""},null,8,["modelValue","class"]),e(h).errors.feedback?(i(),r("div",ys,d(e(h).errors.feedback),1)):g("",!0),t[21]||(t[21]=l("p",{class:"text-xs text-muted-foreground mt-1"},"Minimum 10 characters required",-1))]),o(e(v),{onClick:te,disabled:e(h).processing||e(h).rating===0||!((u=e(h).feedback)!=null&&u.trim())||e(h).feedback.trim().length<10,class:"w-full"},{default:a(()=>[e(h).processing?(i(),f(e(Y),{key:0,class:"mr-2 h-4 w-4 animate-spin"})):g("",!0),e(h).processing?(i(),r("span",xs,"Submitting Rating...")):(i(),r("span",vs,"Submit Rating"))]),_:1},8,["disabled"])])]}),_:1})):(s.userStatus==="pending"||s.userStatus==="in_progress")&&L.value?(i(),f(e(S),{key:1,class:"border-green-200"},{default:a(()=>[o(e(Se),{class:"h-4 w-4"}),o(e(C),null,{default:a(()=>t[22]||(t[22]=[c("âœ… Ready to Complete")])),_:1}),o(e(w),{class:"mb-4"},{default:a(()=>t[23]||(t[23]=[c(" Thank you for rating! You can now mark this course as completed. ")])),_:1}),s.completion&&s.completion.rating?(i(),r("div",As,[l("div",ks,[t[24]||(t[24]=l("span",{class:"text-sm"},"Your rating:",-1)),l("div",Ss,[(i(),r(B,null,N(5,u=>o(e(q),{key:u,class:x(["h-4 w-4",u<=s.completion.rating?"text-yellow-400 fill-current":"text-muted-foreground"])},null,8,["class"])),64))])])])):g("",!0),o(e(v),{onClick:oe,disabled:e(_).processing,class:"w-full"},{default:a(()=>[e(_).processing?(i(),f(e(Y),{key:0,class:"mr-2 h-4 w-4 animate-spin"})):(i(),f(e(Q),{key:1,class:"mr-2 h-4 w-4"})),e(_).processing?(i(),r("span",ws,"Processing...")):(i(),r("span",Cs,"Mark as Completed"))]),_:1},8,["disabled"])]),_:1})):s.userStatus==="completed"?(i(),f(e(S),{key:2,class:"border-green-200"},{default:a(()=>[o(e(we),{class:"h-4 w-4"}),o(e(C),null,{default:a(()=>t[25]||(t[25]=[c("ðŸŽ‰ Course Completed!")])),_:1}),o(e(w),{class:"mb-4"},{default:a(()=>t[26]||(t[26]=[c(" Congratulations! You've successfully completed all sessions in this course. ")])),_:1}),o(e(v),{as:e(M),href:"/courses",class:"w-full"},{default:a(()=>[o(e(O),{class:"mr-2 h-4 w-4"}),t[27]||(t[27]=c(" Browse More Courses "))]),_:1},8,["as"])]),_:1})):g("",!0),s.selectedAvailability?(i(),f(e(y),{key:3,class:"bg-primary/5 border-primary/20"},{default:a(()=>[o(e($),{class:"p-4"},{default:a(()=>[l("div",_s,[o(e(Ce),{class:"h-4 w-4 text-primary"}),t[28]||(t[28]=l("span",{class:"text-sm font-medium text-primary"},"Your Selected Session Schedule:",-1))]),l("p",Es,d(s.selectedAvailability.formatted_date_range),1),l("p",Ts,d(E(s.selectedAvailability.start_date))+" - "+d(E(s.selectedAvailability.end_date)),1),l("div",Rs,[l("p",$s," Total Capacity: "+d(s.selectedAvailability.capacity)+" sessions ",1),l("p",Ds," Available: "+d(s.selectedAvailability.sessions)+" sessions ",1),l("p",Ps," Enrolled: "+d(s.selectedAvailability.capacity-s.selectedAvailability.sessions)+" sessions ",1)])]),_:1})]),_:1})):g("",!0)])])):(i(),r("div",Xe,[s.userAssignment&&s.userAssignment.status==="accepted"?(i(),r("div",Qe,t[9]||(t[9]=[l("p",{class:"text-muted-foreground mb-6 leading-relaxed"}," This course has been assigned to you. Select a session schedule to complete your enrollment. ",-1)]))):s.userAssignment&&s.userAssignment.status==="pending"?(i(),f(e(S),{key:1,class:"border-yellow-200"},{default:a(()=>[o(e(X),{class:"h-4 w-4"}),o(e(C),null,{default:a(()=>t[10]||(t[10]=[c("Assignment Pending")])),_:1}),o(e(w),null,{default:a(()=>t[11]||(t[11]=[c(" Please accept your course assignment above to proceed with enrollment. ")])),_:1})]),_:1})):s.userAssignment&&s.userAssignment.status==="declined"?(i(),f(e(S),{key:2,class:"border-destructive"},{default:a(()=>[o(e(j),{class:"h-4 w-4"}),o(e(C),null,{default:a(()=>t[12]||(t[12]=[c("Assignment Declined")])),_:1}),o(e(w),null,{default:a(()=>t[13]||(t[13]=[c(" You have declined this course assignment. Contact your administrator if you'd like to reconsider. ")])),_:1})]),_:1})):(i(),r("div",Ze,t[14]||(t[14]=[l("p",{class:"text-muted-foreground mb-6 leading-relaxed"}," Select a session schedule and enroll in this course to track your progress. ",-1)]))),s.availabilities&&s.availabilities.length>0?(i(),r("div",{key:4,class:x(["space-y-4",{"opacity-50":s.userAssignment&&s.userAssignment.status==="pending"}])},[o(e(U),{class:"text-base font-semibold"},{default:a(()=>t[15]||(t[15]=[c("Available Session Schedules:")])),_:1}),o(e(ye),{modelValue:e(b).course_availability_id,"onUpdate:modelValue":t[0]||(t[0]=u=>e(b).course_availability_id=u),disabled:s.userAssignment&&s.userAssignment.status==="pending",class:"space-y-3"},{default:a(()=>[(i(!0),r(B,null,N(s.availabilities,u=>(i(),r("div",{key:u.id,class:"flex items-start space-x-3"},[o(e(xe),{value:u.id.toString(),disabled:W(u),class:"mt-1"},null,8,["value","disabled"]),o(e(y),{class:x(["flex-1 p-4",{"border-primary":e(b).course_availability_id===u.id.toString(),"opacity-50":W(u)}])},{default:a(()=>[l("div",es,[l("div",null,[l("p",ss,d(u.formatted_date_range),1),l("p",ts,d(E(u.start_date))+" - "+d(E(u.end_date)),1),u.notes?(i(),r("p",ns,d(u.notes),1)):g("",!0),l("div",os,[l("p",as,d(ie(u.capacity)),1),l("p",ls,d(re(u.sessions)),1),u.capacity-u.sessions>0?(i(),r("p",is,d(u.capacity-u.sessions)+" sessions enrolled ",1)):g("",!0)])]),o(e(D),{variant:ue(u)},{default:a(()=>[c(d(de(u)),1)]),_:2},1032,["variant"])])]),_:2},1032,["class"])]))),128))]),_:1},8,["modelValue","disabled"])],2)):!s.availabilities||s.availabilities.length===0?(i(),r("div",rs,t[16]||(t[16]=[l("p",{class:"text-muted-foreground mb-6 leading-relaxed"}," Enroll in this course to track your progress and get access to course materials. ",-1)]))):g("",!0),o(e(v),{onClick:ne,class:"w-full",disabled:e(b).processing||s.availabilities&&s.availabilities.length>0&&!e(b).course_availability_id||s.userAssignment&&s.userAssignment.status==="pending"},{default:a(()=>[e(b).processing?(i(),f(e(Y),{key:0,class:"mr-2 h-4 w-4 animate-spin"})):g("",!0),e(b).processing?(i(),r("span",us,"Enrolling...")):s.userAssignment&&s.userAssignment.status==="pending"?(i(),r("span",ds,"Accept Assignment First")):s.userAssignment&&s.userAssignment.status==="declined"?(i(),r("span",cs,"Assignment Declined")):(i(),r("span",ms,"Enroll Now")),!e(b).processing&&(!s.userAssignment||s.userAssignment.status==="accepted")?(i(),f(e(ke),{key:5,class:"ml-2 h-4 w-4"})):g("",!0)]),_:1},8,["disabled"])]))]),_:1})]),_:1})])])]),_:1}))}}),kt=_e(Fs,[["__scopeId","data-v-57281079"]]);export{kt as default};
