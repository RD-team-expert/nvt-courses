import{d as ve,r as Q,C as ge,c as S,a as p,o as c,b as s,u as e,m as ye,w as d,e as l,P as W,f as n,t as m,j as be,h as _,n as b,s as V,v as A,F as T,i as R,g as h,k as xe,G as Y}from"./app-BMyidKIh.js";import{m as he,C as ke,f as we}from"./AppLayout.vue_vue_type_script_setup_true_lang-CeyhSayX.js";import{c as Ce,_ as y}from"./Button.vue_vue_type_script_setup_true_lang-Fk6a1Vva.js";import{_ as U}from"./Card.vue_vue_type_script_setup_true_lang-CQovGjFq.js";import{_ as $}from"./CardContent.vue_vue_type_script_setup_true_lang-Dyzxu5FP.js";import{_ as P}from"./CardDescription.vue_vue_type_script_setup_true_lang-CvcJ_Am_.js";import{_ as D}from"./CardHeader.vue_vue_type_script_setup_true_lang-_dtBwzkO.js";import{_ as M}from"./CardTitle.vue_vue_type_script_setup_true_lang-zaBMsOvU.js";import{_ as x}from"./Input.vue_vue_type_script_setup_true_lang-BnRJBFP3.js";import{_ as v}from"./Label.vue_vue_type_script_setup_true_lang-Coq7pT1m.js";import{_ as Z}from"./Textarea.vue_vue_type_script_setup_true_lang-7L_wYbMO.js";import{_ as q}from"./Switch.vue_vue_type_script_setup_true_lang-29U-kBq1.js";import{_ as I,a as ee}from"./index-yEoCS5nH.js";import{_ as B}from"./index-C3o0bvIk.js";import{A as Ve}from"./arrow-left-WoxIE4Hy.js";import{B as E}from"./book-open-CrgjHHRr.js";import{F as z}from"./file-text-3242xgL4.js";import{C as Ue}from"./calendar-CBip7zgp.js";import{T as te}from"./triangle-alert-BGzxpn4P.js";import{U as L}from"./upload-5U2hmNXZ.js";import{X as $e}from"./_plugin-vue_export-helper-Cg8ARLjz.js";import{P as G}from"./plus-vzUMYyIt.js";import{C as De}from"./chevron-up-BQjwjK-c.js";import{T as se}from"./trash-2-DdRoljCP.js";import{V as le}from"./video-nzTe1Af1.js";import{C as Me}from"./clock-C9ZtgHl0.js";import{S as Pe}from"./save-AWffgFEF.js";import"./index-B9hR5wOz.js";import"./index-C3Bn3h4x.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-CPGGLHXe.js";import"./useForwardPropsEmits-DPcO4mtR.js";import"./useForwardExpose-DMAVYlpA.js";import"./VisuallyHidden-hOZS4qMA.js";import"./VisuallyHiddenInput-BJXawX5X.js";import"./usePrimitiveElement-s00YWk2f.js";/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qe=Ce("CalendarClockIcon",[["path",{d:"M21 7.5V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h3.5",key:"1osxxc"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M3 10h5",key:"r794hk"}],["path",{d:"M17.5 17.5 16 16.3V14",key:"akvzfd"}],["circle",{cx:"16",cy:"16",r:"6",key:"qoo3c4"}]]),Fe={class:"max-w-4xl mx-auto space-y-6"},Se={class:"flex items-center gap-4"},Ae={class:"hidden sm:flex items-center gap-4 text-sm text-muted-foreground"},Te={class:"flex items-center gap-2"},Be={class:"flex items-center gap-2"},ze={class:"space-y-2"},je={key:0,class:"text-sm text-destructive"},Ne={class:"space-y-2"},Re={key:0,class:"text-sm text-destructive"},Ee={class:"grid grid-cols-1 md:grid-cols-3 gap-6"},Le={class:"space-y-2"},Ge={key:0,class:"text-sm text-destructive"},Oe={class:"space-y-2"},He={key:0,class:"text-sm text-destructive"},Je={class:"space-y-2"},Xe={class:"flex items-center space-x-2 pt-2"},Ke={class:"text-sm text-muted-foreground"},Qe={class:"space-y-2"},We={key:0,class:"text-sm text-destructive"},Ye={key:1,class:"text-sm text-destructive"},Ze={class:"space-y-2"},Ie={key:0,class:"bg-blue-50 dark:bg-blue-950 p-4 rounded-lg border"},et={class:"flex items-start gap-3"},tt={class:"flex-1"},st={class:"font-medium text-blue-900 dark:text-blue-100"},lt={class:"text-sm text-blue-700 dark:text-blue-300 mt-1"},ot={class:"text-xs text-muted-foreground mt-2"},it={key:1,class:"space-y-4"},dt={class:"relative w-48 h-32 rounded-lg overflow-hidden border mx-auto"},rt=["src"],at={class:"text-center"},nt={key:2,class:"text-sm text-destructive"},ut={class:"flex items-center justify-between"},ct={key:0,class:"text-center py-12 border-2 border-dashed border-input rounded-lg"},mt={key:1,class:"space-y-6"},pt={class:"flex items-center justify-between"},ft={class:"flex items-center gap-3"},_t={class:"w-8 h-8 bg-primary/10 text-primary rounded-full flex items-center justify-center text-sm font-semibold"},vt={class:"flex items-center gap-1"},gt={class:"space-y-4"},yt={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},bt={class:"space-y-2"},xt={key:0,class:"text-sm text-destructive"},ht={class:"space-y-2"},kt={key:0,class:"text-sm text-destructive"},wt={class:"space-y-2"},Ct={key:0,class:"text-sm text-destructive"},Vt={class:"flex items-center gap-6"},Ut={class:"flex items-center space-x-2"},$t={class:"flex items-center space-x-2"},Dt={class:"border rounded-lg p-4 bg-muted/20"},Mt={class:"flex items-center justify-between mb-4"},Pt={class:"flex items-center gap-2"},qt={key:0,class:"text-center py-8 border-2 border-dashed border-input rounded-lg"},Ft={key:1,class:"space-y-4"},St={class:"flex items-center justify-between"},At={class:"flex items-center gap-2"},Tt={class:"w-6 h-6 bg-primary/10 text-primary rounded-full flex items-center justify-center text-xs font-medium"},Bt={class:"grid grid-cols-1 lg:grid-cols-2 gap-4"},zt={class:"space-y-2"},jt=["onUpdate:modelValue","onChange"],Nt={class:"space-y-2"},Rt={key:0,class:"space-y-4"},Et={class:"space-y-2"},Lt=["onUpdate:modelValue"],Gt=["value"],Ot={key:0,class:"p-3 bg-blue-50 dark:bg-blue-950 rounded-lg"},Ht={class:"flex items-center gap-3"},Jt=["src","alt"],Xt={class:"flex-1"},Kt={class:"font-medium text-sm"},Qt={class:"flex items-center gap-2 text-xs text-muted-foreground"},Wt={key:1,class:"space-y-4"},Yt={class:"space-y-3"},Zt={class:"flex gap-6"},It={class:"flex items-center space-x-2"},es=["onUpdate:modelValue"],ts={class:"flex items-center space-x-2"},ss=["onUpdate:modelValue"],ls={key:0},os=["onChange"],is={key:1,class:"space-y-2"},ds={class:"space-y-2"},rs={class:"space-y-2"},as={key:0,class:"text-sm text-destructive"},ns={key:1,class:"p-3 bg-purple-50 dark:bg-purple-950 rounded-lg"},us={class:"flex items-center gap-3"},cs={class:"flex-1"},ms={class:"font-medium text-sm"},ps={class:"text-xs text-muted-foreground"},fs={key:0},_s={class:"flex items-center gap-6 pt-2 border-t"},vs={class:"flex items-center space-x-2"},gs={class:"flex items-center space-x-2"},ys={class:"flex justify-between items-center py-6"},bs={class:"flex items-center gap-4"},xs={key:0,class:"text-sm text-muted-foreground hidden sm:block"},sl=ve({__name:"Create",props:{availableVideos:{}},setup(oe){const ie=oe,de=[{title:"Course Online",href:"/admin/course-online"},{title:"Create Course",href:"/admin/course-online/create"}],F=Q(null),k=Q(null),o=ge({name:"",description:"",image:null,difficulty_level:"",estimated_duration:null,is_active:!0,deadline:null,deadline_type:"flexible",modules:[]}),re=S(()=>!o.name||!o.difficulty_level||o.modules.length===0||!o.deadline?!1:o.modules.every(a=>a.name.trim()?!a.content||a.content.length===0?!0:a.content.every(t=>{const r=t.title&&t.content_type;return t.content_type==="pdf"?r&&t.pdf_page_count&&t.pdf_page_count>0&&t.pdf_page_count<=1e3&&(t.pdf_source_type==="upload"&&t.pdf_file||t.pdf_source_type==="google_drive"&&t.google_drive_pdf_url.trim()):r}):!1)),O=S(()=>o.modules.reduce((a,t)=>{var r;return a+(((r=t.content)==null?void 0:r.length)||0)},0)),ae=S(()=>{const a=new Date;return a.setDate(a.getDate()+1),a.toISOString().slice(0,16)}),j=S(()=>{if(!o.deadline)return null;const a=new Date(o.deadline);return{formatted:a.toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}),relative:Math.ceil((a.getTime()-new Date().getTime())/(1e3*60*60*24))}}),ne=a=>{var u;const t=a.target,r=(u=t.files)==null?void 0:u[0];if(r){if(r.size>2*1024*1024){alert("File size must be less than 2MB"),t.value="";return}o.image=r;const i=new FileReader;i.onload=g=>{var C;k.value=(C=g.target)==null?void 0:C.result},i.readAsDataURL(r)}},ue=()=>{o.image=null,k.value=null,F.value&&(F.value.value="")},H=()=>{var a;(a=F.value)==null||a.click()},J=()=>{o.modules.push({name:"",description:"",order_number:o.modules.length+1,estimated_duration:null,is_required:!0,is_active:!0,content:[]})},ce=a=>{confirm("Are you sure you want to remove this module and all its content?")&&(o.modules.splice(a,1),o.modules.forEach((t,r)=>{t.order_number=r+1}))},X=(a,t)=>{const r=t==="up"?a-1:a+1;if(r<0||r>=o.modules.length)return;const u=o.modules[a];o.modules[a]=o.modules[r],o.modules[r]=u,o.modules.forEach((i,g)=>{i.order_number=g+1})},K=a=>{o.modules[a].content||(o.modules[a].content=[]),o.modules[a].content.push({title:"",content_type:"video",order_number:o.modules[a].content.length+1,is_required:!0,is_active:!0,video_id:null,pdf_source_type:"upload",pdf_file:null,google_drive_pdf_url:"",pdf_name:"",pdf_page_count:null})},me=(a,t)=>{confirm("Are you sure you want to remove this content item?")&&(o.modules[a].content.splice(t,1),o.modules[a].content.forEach((r,u)=>{r.order_number=u+1}))},pe=(a,t)=>{const r=o.modules[a].content[t];r.video_id=null,r.pdf_file=null,r.google_drive_pdf_url="",r.pdf_source_type="upload",r.pdf_name="",r.pdf_page_count=null},fe=(a,t,r)=>{var g;const i=(g=a.target.files)==null?void 0:g[0];i&&i.type==="application/pdf"&&(o.modules[t].content[r].pdf_file=i,o.modules[t].content[r].pdf_name=i.name)},w=a=>{var t;return(t=ie.availableVideos)==null?void 0:t.find(r=>r.id===a)},N=a=>{if(a.content_type==="pdf"){if(!a.pdf_page_count||a.pdf_page_count<1)return"PDF page count is required and must be at least 1";if(a.pdf_page_count>1e3)return"Page count cannot exceed 1000";if(a.pdf_source_type==="upload"&&!a.pdf_file)return"Please upload a PDF file";if(a.pdf_source_type==="google_drive"&&!a.google_drive_pdf_url.trim())return"Please provide Google Drive URL"}return null},_e=()=>{var a;for(let t=0;t<o.modules.length;t++){const r=o.modules[t];for(let u=0;u<(((a=r.content)==null?void 0:a.length)||0);u++){const i=r.content[u],g=N(i);if(g){alert(`Module ${t+1}, Content ${u+1}: ${g}`);return}}}o.post("/admin/course-online",{onSuccess:()=>{o.reset(),k.value=null}})};return(a,t)=>(c(),p(T,null,[s(e(ye),{title:"Create Complete Course"}),s(we,{breadcrumbs:de},{default:d(()=>[l("div",Fe,[l("div",Se,[s(e(y),{"as-child":"",variant:"ghost"},{default:d(()=>[s(e(W),{href:"/admin/course-online"},{default:d(()=>[s(e(Ve),{class:"h-4 w-4 mr-2"}),t[7]||(t[7]=n(" Back to Courses "))]),_:1})]),_:1}),t[8]||(t[8]=l("div",{class:"flex-1"},[l("h1",{class:"text-3xl font-bold"},"Create Complete Course"),l("p",{class:"text-muted-foreground"},"Build course, modules, and content all in one place")],-1)),l("div",Ae,[l("div",Te,[s(e(E),{class:"h-4 w-4"}),n(" "+m(e(o).modules.length)+" modules ",1)]),l("div",Be,[s(e(z),{class:"h-4 w-4"}),n(" "+m(O.value)+" content items ",1)])])]),l("form",{onSubmit:be(_e,["prevent"]),class:"space-y-6"},[s(e(U),null,{default:d(()=>[s(e(D),null,{default:d(()=>[s(e(M),{class:"flex items-center gap-2"},{default:d(()=>[s(e(E),{class:"h-5 w-5 text-primary"}),t[9]||(t[9]=n(" Course Information "))]),_:1}),s(e(P),null,{default:d(()=>t[10]||(t[10]=[n(" Enter the basic details for your online course ")])),_:1})]),_:1}),s(e($),{class:"space-y-6"},{default:d(()=>[l("div",ze,[s(e(v),{for:"name"},{default:d(()=>t[11]||(t[11]=[n("Course Name")])),_:1}),s(e(x),{id:"name",modelValue:e(o).name,"onUpdate:modelValue":t[0]||(t[0]=r=>e(o).name=r),type:"text",placeholder:"Enter course name",class:b({"border-destructive":e(o).errors.name}),required:""},null,8,["modelValue","class"]),e(o).errors.name?(c(),p("div",je,m(e(o).errors.name),1)):_("",!0)]),l("div",Ne,[s(e(v),{for:"description"},{default:d(()=>t[12]||(t[12]=[n("Course Description")])),_:1}),s(e(Z),{id:"description",modelValue:e(o).description,"onUpdate:modelValue":t[1]||(t[1]=r=>e(o).description=r),placeholder:"Describe what students will learn in this course...",rows:4,class:b({"border-destructive":e(o).errors.description})},null,8,["modelValue","class"]),e(o).errors.description?(c(),p("div",Re,m(e(o).errors.description),1)):_("",!0)]),l("div",Ee,[l("div",Le,[s(e(v),{for:"difficulty_level"},{default:d(()=>t[13]||(t[13]=[n("Difficulty Level")])),_:1}),V(l("select",{id:"difficulty_level","onUpdate:modelValue":t[2]||(t[2]=r=>e(o).difficulty_level=r),required:"",class:b(["flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",{"border-destructive":e(o).errors.difficulty_level}])},t[14]||(t[14]=[l("option",{value:""},"Select difficulty",-1),l("option",{value:"beginner"},"Beginner",-1),l("option",{value:"intermediate"},"Intermediate",-1),l("option",{value:"advanced"},"Advanced",-1)]),2),[[A,e(o).difficulty_level]]),e(o).errors.difficulty_level?(c(),p("div",Ge,m(e(o).errors.difficulty_level),1)):_("",!0)]),l("div",Oe,[s(e(v),{for:"estimated_duration"},{default:d(()=>t[15]||(t[15]=[n("Duration (minutes)")])),_:1}),s(e(x),{id:"estimated_duration",modelValue:e(o).estimated_duration,"onUpdate:modelValue":t[3]||(t[3]=r=>e(o).estimated_duration=r),modelModifiers:{number:!0},type:"number",min:"1",placeholder:"e.g. 120",class:b({"border-destructive":e(o).errors.estimated_duration})},null,8,["modelValue","class"]),e(o).errors.estimated_duration?(c(),p("div",He,m(e(o).errors.estimated_duration),1)):_("",!0)]),l("div",Je,[s(e(v),null,{default:d(()=>t[16]||(t[16]=[n("Course Status")])),_:1}),l("div",Xe,[s(e(q),{checked:e(o).is_active,"onUpdate:checked":t[4]||(t[4]=r=>e(o).is_active=r)},null,8,["checked"]),l("span",Ke,m(e(o).is_active?"Active":"Inactive"),1)])])])]),_:1})]),_:1}),s(e(U),null,{default:d(()=>[s(e(D),null,{default:d(()=>[s(e(M),{class:"flex items-center gap-2"},{default:d(()=>[s(e(Ue),{class:"h-5 w-5 text-primary"}),t[18]||(t[18]=n(" Course Deadline ")),s(e(B),{variant:"destructive",class:"ml-2"},{default:d(()=>t[17]||(t[17]=[n("Required")])),_:1})]),_:1}),s(e(P),null,{default:d(()=>t[19]||(t[19]=[n(" Set a completion deadline for this course - all courses must have a deadline ")])),_:1})]),_:1}),s(e($),{class:"space-y-6"},{default:d(()=>[l("div",Qe,[s(e(v),{for:"deadline"},{default:d(()=>t[20]||(t[20]=[n("📅 Deadline Date & Time *")])),_:1}),s(e(x),{id:"deadline",modelValue:e(o).deadline,"onUpdate:modelValue":t[5]||(t[5]=r=>e(o).deadline=r),type:"datetime-local",min:ae.value,class:b([{"border-destructive":e(o).errors.deadline||!e(o).deadline},"w-full"]),required:""},null,8,["modelValue","min","class"]),e(o).errors.deadline?(c(),p("div",We,m(e(o).errors.deadline),1)):_("",!0),e(o).deadline?_("",!0):(c(),p("div",Ye," Course deadline is required for all courses "))]),l("div",Ze,[s(e(v),{for:"deadline_type"},{default:d(()=>t[21]||(t[21]=[n("⚙️ Deadline Type")])),_:1}),V(l("select",{id:"deadline_type","onUpdate:modelValue":t[6]||(t[6]=r=>e(o).deadline_type=r),class:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"},t[22]||(t[22]=[l("option",{value:"flexible"},"Flexible - Allow completion after deadline",-1),l("option",{value:"strict"},"Strict - Block access after deadline",-1)]),512),[[A,e(o).deadline_type]])]),e(o).deadline&&j.value?(c(),p("div",Ie,[l("div",et,[s(e(qe),{class:"h-5 w-5 text-blue-600 mt-0.5"}),l("div",tt,[l("div",st," 📅 "+m(j.value.formatted),1),l("div",lt," ⏰ "+m(j.value.relative)+" days from now ",1),l("div",ot," Type: "+m(e(o).deadline_type==="flexible"?"Flexible (late completion allowed)":"Strict (access blocked after deadline)"),1)])])])):_("",!0),s(e(I),null,{default:d(()=>[s(e(te),{class:"h-4 w-4"}),s(e(ee),null,{default:d(()=>t[23]||(t[23]=[l("strong",null,"Required:",-1),n(" All courses must have a deadline. This ensures proper progress tracking and evaluation reporting. Students and managers will be notified about the deadline automatically. ")])),_:1})]),_:1})]),_:1})]),_:1}),s(e(U),null,{default:d(()=>[s(e(D),null,{default:d(()=>[s(e(M),{class:"flex items-center gap-2"},{default:d(()=>[s(e(L),{class:"h-5 w-5 text-primary"}),t[24]||(t[24]=n(" Course Image "))]),_:1}),s(e(P),null,{default:d(()=>t[25]||(t[25]=[n(" Upload a course image to make it more attractive ")])),_:1})]),_:1}),s(e($),{class:"space-y-4"},{default:d(()=>[l("input",{ref_key:"imageInput",ref:F,type:"file",accept:"image/*",onChange:ne,class:"hidden"},null,544),k.value?_("",!0):(c(),p("div",{key:0,onClick:H,class:b(["border-2 border-dashed border-input rounded-lg p-8 text-center cursor-pointer hover:border-primary transition-colors",{"border-destructive":e(o).errors.image}])},[s(e(L),{class:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),t[26]||(t[26]=l("div",{class:"text-sm font-medium mb-2"},"Click to upload course image",-1)),t[27]||(t[27]=l("div",{class:"text-xs text-muted-foreground"},"PNG, JPG, GIF up to 2MB",-1))],2)),k.value?(c(),p("div",it,[l("div",dt,[l("img",{src:k.value,alt:"Course preview",class:"w-full h-full object-cover"},null,8,rt),s(e(y),{onClick:ue,variant:"destructive",size:"sm",class:"absolute top-2 right-2 h-8 w-8 p-0 rounded-full",type:"button"},{default:d(()=>[s(e($e),{class:"h-4 w-4"})]),_:1})]),l("div",at,[s(e(y),{onClick:H,variant:"outline",size:"sm",type:"button"},{default:d(()=>[s(e(L),{class:"h-4 w-4 mr-2"}),t[28]||(t[28]=n(" Change Image "))]),_:1})])])):_("",!0),e(o).errors.image?(c(),p("div",nt,m(e(o).errors.image),1)):_("",!0)]),_:1})]),_:1}),s(e(U),null,{default:d(()=>[s(e(D),null,{default:d(()=>[l("div",ut,[l("div",null,[s(e(M),{class:"flex items-center gap-2"},{default:d(()=>[s(e(he),{class:"h-5 w-5 text-primary"}),t[29]||(t[29]=n(" Course Modules ")),s(e(B),{variant:"secondary"},{default:d(()=>[n(m(e(o).modules.length),1)]),_:1})]),_:1}),s(e(P),null,{default:d(()=>t[30]||(t[30]=[n(" Build your course structure with modules and content ")])),_:1})]),s(e(y),{type:"button",onClick:J,class:"shrink-0"},{default:d(()=>[s(e(G),{class:"h-4 w-4 mr-2"}),t[31]||(t[31]=n(" Add Module "))]),_:1})])]),_:1}),s(e($),null,{default:d(()=>[e(o).modules.length===0?(c(),p("div",ct,[s(e(E),{class:"h-16 w-16 mx-auto text-muted-foreground mb-4"}),t[33]||(t[33]=l("h3",{class:"text-lg font-medium mb-2"},"No modules added yet",-1)),t[34]||(t[34]=l("p",{class:"text-muted-foreground mb-4"},"Add your first module to start building your course",-1)),s(e(y),{type:"button",onClick:J},{default:d(()=>[s(e(G),{class:"h-4 w-4 mr-2"}),t[32]||(t[32]=n(" Add First Module "))]),_:1})])):(c(),p("div",mt,[(c(!0),p(T,null,R(e(o).modules,(r,u)=>(c(),h(e(U),{key:`module-${u}`,class:"border-2"},{default:d(()=>[s(e(D),{class:"pb-4"},{default:d(()=>{var i;return[l("div",pt,[l("div",ft,[l("div",_t,m(u+1),1),l("div",null,[s(e(M),{class:"text-lg"},{default:d(()=>[n("Module "+m(u+1),1)]),_:2},1024),(i=r.content)!=null&&i.length?(c(),h(e(P),{key:0},{default:d(()=>[n(m(r.content.length)+" content items ",1)]),_:2},1024)):_("",!0)])]),l("div",vt,[u>0?(c(),h(e(y),{key:0,type:"button",variant:"ghost",size:"sm",onClick:g=>X(u,"up")},{default:d(()=>[s(e(De),{class:"h-4 w-4"})]),_:2},1032,["onClick"])):_("",!0),u<e(o).modules.length-1?(c(),h(e(y),{key:1,type:"button",variant:"ghost",size:"sm",onClick:g=>X(u,"down")},{default:d(()=>[s(e(ke),{class:"h-4 w-4"})]),_:2},1032,["onClick"])):_("",!0),s(e(y),{type:"button",variant:"ghost",size:"sm",onClick:g=>ce(u),class:"text-destructive hover:text-destructive"},{default:d(()=>[s(e(se),{class:"h-4 w-4"})]),_:2},1032,["onClick"])])])]}),_:2},1024),s(e($),{class:"space-y-6"},{default:d(()=>[l("div",gt,[l("div",yt,[l("div",bt,[s(e(v),{for:`module-name-${u}`},{default:d(()=>t[35]||(t[35]=[n("Module Name")])),_:2},1032,["for"]),s(e(x),{id:`module-name-${u}`,modelValue:r.name,"onUpdate:modelValue":i=>r.name=i,type:"text",required:"",placeholder:`Module ${u+1} name`,class:b({"border-destructive":e(o).errors[`modules.${u}.name`]})},null,8,["id","modelValue","onUpdate:modelValue","placeholder","class"]),e(o).errors[`modules.${u}.name`]?(c(),p("div",xt,m(e(o).errors[`modules.${u}.name`]),1)):_("",!0)]),l("div",ht,[s(e(v),{for:`module-duration-${u}`},{default:d(()=>t[36]||(t[36]=[n("Duration (minutes)")])),_:2},1032,["for"]),s(e(x),{id:`module-duration-${u}`,modelValue:r.estimated_duration,"onUpdate:modelValue":i=>r.estimated_duration=i,modelModifiers:{number:!0},type:"number",min:"1",placeholder:"e.g. 30",class:b({"border-destructive":e(o).errors[`modules.${u}.estimated_duration`]})},null,8,["id","modelValue","onUpdate:modelValue","class"]),e(o).errors[`modules.${u}.estimated_duration`]?(c(),p("div",kt,m(e(o).errors[`modules.${u}.estimated_duration`]),1)):_("",!0)])]),l("div",wt,[s(e(v),{for:`module-description-${u}`},{default:d(()=>t[37]||(t[37]=[n("Module Description")])),_:2},1032,["for"]),s(e(Z),{id:`module-description-${u}`,modelValue:r.description,"onUpdate:modelValue":i=>r.description=i,rows:3,placeholder:`Describe what students will learn in module ${u+1}`,class:b({"border-destructive":e(o).errors[`modules.${u}.description`]})},null,8,["id","modelValue","onUpdate:modelValue","placeholder","class"]),e(o).errors[`modules.${u}.description`]?(c(),p("div",Ct,m(e(o).errors[`modules.${u}.description`]),1)):_("",!0)]),l("div",Vt,[l("div",Ut,[s(e(q),{checked:r.is_required,"onUpdate:checked":i=>r.is_required=i},null,8,["checked","onUpdate:checked"]),s(e(v),{class:"text-sm"},{default:d(()=>t[38]||(t[38]=[n("Required module")])),_:1})]),l("div",$t,[s(e(q),{checked:r.is_active,"onUpdate:checked":i=>r.is_active=i},null,8,["checked","onUpdate:checked"]),s(e(v),{class:"text-sm"},{default:d(()=>t[39]||(t[39]=[n("Active module")])),_:1})])])]),l("div",Dt,[l("div",Mt,[l("div",Pt,[s(e(le),{class:"h-5 w-5 text-primary"}),t[40]||(t[40]=l("h4",{class:"font-medium"},"Module Content",-1)),s(e(B),{variant:"outline"},{default:d(()=>{var i;return[n(m(((i=r.content)==null?void 0:i.length)||0)+" items",1)]}),_:2},1024)]),s(e(y),{type:"button",variant:"outline",size:"sm",onClick:i=>K(u)},{default:d(()=>[s(e(G),{class:"h-4 w-4 mr-2"}),t[41]||(t[41]=n(" Add Content "))]),_:2},1032,["onClick"])]),!r.content||r.content.length===0?(c(),p("div",qt,[s(e(z),{class:"h-12 w-12 mx-auto text-muted-foreground mb-3"}),t[43]||(t[43]=l("p",{class:"text-muted-foreground text-sm mb-4"},"No content added yet",-1)),s(e(y),{type:"button",variant:"outline",size:"sm",onClick:i=>K(u)},{default:d(()=>t[42]||(t[42]=[n(" Add first content item ")])),_:2},1032,["onClick"])])):(c(),p("div",Ft,[(c(!0),p(T,null,R(r.content,(i,g)=>(c(),h(e(U),{key:`content-${u}-${g}`,class:"border"},{default:d(()=>[s(e(D),{class:"pb-3"},{default:d(()=>[l("div",St,[l("div",At,[l("div",Tt,m(g+1),1),s(e(M),{class:"text-base"},{default:d(()=>[n("Content Item "+m(g+1),1)]),_:2},1024),i.content_type?(c(),h(e(B),{key:0,class:b(i.content_type==="video"?"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-300":"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-300")},{default:d(()=>[(c(),h(xe(i.content_type==="video"?e(le):e(z)),{class:"h-3 w-3 mr-1"})),n(" "+m(i.content_type),1)]),_:2},1032,["class"])):_("",!0)]),s(e(y),{type:"button",variant:"ghost",size:"sm",onClick:C=>me(u,g),class:"text-destructive hover:text-destructive"},{default:d(()=>[s(e(se),{class:"h-4 w-4"})]),_:2},1032,["onClick"])])]),_:2},1024),s(e($),{class:"space-y-4"},{default:d(()=>{var C;return[l("div",Bt,[l("div",zt,[s(e(v),null,{default:d(()=>t[44]||(t[44]=[n("Content Type")])),_:1}),V(l("select",{"onUpdate:modelValue":f=>i.content_type=f,required:"",class:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",onChange:f=>pe(u,g)},t[45]||(t[45]=[l("option",{value:""},"Select type",-1),l("option",{value:"video"},"Video",-1),l("option",{value:"pdf"},"PDF Document",-1)]),40,jt),[[A,i.content_type]])]),l("div",Nt,[s(e(v),null,{default:d(()=>t[46]||(t[46]=[n("Content Title")])),_:1}),s(e(x),{modelValue:i.title,"onUpdate:modelValue":f=>i.title=f,type:"text",required:"",placeholder:"Enter content title"},null,8,["modelValue","onUpdate:modelValue"])])]),i.content_type==="video"?(c(),p("div",Rt,[l("div",Et,[s(e(v),null,{default:d(()=>t[47]||(t[47]=[n("Select Video")])),_:1}),V(l("select",{"onUpdate:modelValue":f=>i.video_id=f,required:"",class:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"},[t[48]||(t[48]=l("option",{value:""},"Choose a video",-1)),(c(!0),p(T,null,R(a.availableVideos,f=>(c(),p("option",{key:f.id,value:f.id},m(f.name)+" ("+m(f.formatted_duration)+") ",9,Gt))),128))],8,Lt),[[A,i.video_id]])]),i.video_id&&w(i.video_id)?(c(),p("div",Ot,[l("div",Ht,[(C=w(i.video_id))!=null&&C.thumbnail_url?(c(),p("img",{key:0,src:w(i.video_id).thumbnail_url,alt:w(i.video_id).name,class:"w-16 h-12 object-cover rounded"},null,8,Jt)):_("",!0),l("div",Xt,[l("p",Kt,m(w(i.video_id).name),1)]),l("div",Qt,[s(e(Me),{class:"h-3 w-3"}),n(" "+m(w(i.video_id).formatted_duration),1)])])])):_("",!0)])):_("",!0),i.content_type==="pdf"?(c(),p("div",Wt,[l("div",Yt,[s(e(v),null,{default:d(()=>t[49]||(t[49]=[n("PDF Source")])),_:1}),l("div",Zt,[l("label",It,[V(l("input",{"onUpdate:modelValue":f=>i.pdf_source_type=f,type:"radio",value:"upload",class:"text-primary"},null,8,es),[[Y,i.pdf_source_type]]),t[50]||(t[50]=l("span",{class:"text-sm"},"Upload File",-1))]),l("label",ts,[V(l("input",{"onUpdate:modelValue":f=>i.pdf_source_type=f,type:"radio",value:"google_drive",class:"text-primary"},null,8,ss),[[Y,i.pdf_source_type]]),t[51]||(t[51]=l("span",{class:"text-sm"},"Google Drive URL",-1))])]),i.pdf_source_type==="upload"?(c(),p("div",ls,[l("input",{type:"file",accept:".pdf",onChange:f=>fe(f,u,g),class:"block w-full text-sm text-muted-foreground file:mr-4 file:py-2 file:px-4 file:rounded-md file:border-0 file:text-sm file:font-medium file:bg-primary/10 file:text-primary hover:file:bg-primary/20"},null,40,os)])):_("",!0),i.pdf_source_type==="google_drive"?(c(),p("div",is,[s(e(x),{modelValue:i.google_drive_pdf_url,"onUpdate:modelValue":f=>i.google_drive_pdf_url=f,type:"url",placeholder:"https://drive.google.com/..."},null,8,["modelValue","onUpdate:modelValue"]),l("div",ds,[s(e(v),null,{default:d(()=>t[52]||(t[52]=[n("PDF Name")])),_:1}),s(e(x),{modelValue:i.pdf_name,"onUpdate:modelValue":f=>i.pdf_name=f,type:"text",placeholder:"Enter PDF name"},null,8,["modelValue","onUpdate:modelValue"])])])):_("",!0)]),l("div",rs,[s(e(v),{class:"text-red-600"},{default:d(()=>t[53]||(t[53]=[n("PDF Page Count *")])),_:1}),s(e(x),{modelValue:i.pdf_page_count,"onUpdate:modelValue":f=>i.pdf_page_count=f,modelModifiers:{number:!0},type:"number",min:"1",max:"1000",placeholder:"Enter number of pages",required:"",class:b(["w-full",{"border-red-500":!i.pdf_page_count}])},null,8,["modelValue","onUpdate:modelValue","class"]),t[54]||(t[54]=l("p",{class:"text-xs text-red-600"},[l("strong",null,"Required:"),n(" Please count the pages manually and enter the exact number. This helps provide accurate reading time estimates. ")],-1))]),N(i)?(c(),p("div",as,m(N(i)),1)):_("",!0),i.pdf_file||i.google_drive_pdf_url?(c(),p("div",ns,[l("div",us,[s(e(z),{class:"h-8 w-8 text-purple-600"}),l("div",cs,[l("p",ms,m(i.pdf_file?i.pdf_file.name:i.pdf_name||"Google Drive PDF"),1),l("p",ps,[t[55]||(t[55]=n(" PDF Document ")),i.pdf_page_count?(c(),p("span",fs," • "+m(i.pdf_page_count)+" pages",1)):_("",!0)])])])])):_("",!0)])):_("",!0),l("div",_s,[l("div",vs,[s(e(q),{checked:i.is_required,"onUpdate:checked":f=>i.is_required=f},null,8,["checked","onUpdate:checked"]),s(e(v),{class:"text-sm"},{default:d(()=>t[56]||(t[56]=[n("Required content")])),_:1})]),l("div",gs,[s(e(q),{checked:i.is_active,"onUpdate:checked":f=>i.is_active=f},null,8,["checked","onUpdate:checked"]),s(e(v),{class:"text-sm"},{default:d(()=>t[57]||(t[57]=[n("Active content")])),_:1})])])]}),_:2},1024)]),_:2},1024))),128))]))])]),_:2},1024)]),_:2},1024))),128))]))]),_:1})]),_:1}),s(e(I),null,{default:d(()=>[s(e(te),{class:"h-4 w-4"}),s(e(ee),null,{default:d(()=>t[58]||(t[58]=[l("strong",null,"Important:",-1),n(" Make sure your videos are accessible and PDFs are properly formatted. "),l("strong",null,"PDF page count is required",-1),n(" for accurate progress tracking and reading time estimates. Students will access content sequentially based on module order. ")])),_:1})]),_:1}),l("div",ys,[s(e(y),{"as-child":"",variant:"outline"},{default:d(()=>[s(e(W),{href:"/admin/course-online"},{default:d(()=>t[59]||(t[59]=[n(" Cancel ")])),_:1})]),_:1}),l("div",bs,[e(o).modules.length>0?(c(),p("div",xs,m(e(o).modules.length)+" modules • "+m(O.value)+" content items ",1)):_("",!0),s(e(y),{type:"submit",disabled:e(o).processing||!re.value,class:"min-w-48"},{default:d(()=>[s(e(Pe),{class:"h-4 w-4 mr-2"}),n(" "+m(e(o).processing?"Creating Course...":"Create Complete Course"),1)]),_:1},8,["disabled"])])])],32)])]),_:1})],64))}});export{sl as default};
