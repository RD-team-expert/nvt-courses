import{d as H,r as P,c as V,a as v,o as i,b as t,u as e,m as J,w as s,e as o,f as d,P as h,t as n,q as D,F as $,i as E,v as M,g as x,h as N,x as K,n as Q,y as X,W as B}from"./app-sfv6CYbu.js";import{d as Z,e as ee,f as te,g as re,h as k,i as F,c as se}from"./AppLayout.vue_vue_type_script_setup_true_lang-BqoVmqtq.js";import{_ as y}from"./Button.vue_vue_type_script_setup_true_lang-Ccdh52Vd.js";import{_ as m}from"./Card.vue_vue_type_script_setup_true_lang-C1bT-eXd.js";import{_ as p}from"./CardContent.vue_vue_type_script_setup_true_lang-Khif222k.js";import{_ as oe}from"./CardDescription.vue_vue_type_script_setup_true_lang-Du745yLv.js";import{_ as ae}from"./CardHeader.vue_vue_type_script_setup_true_lang-DnS62nQf.js";import{_ as le}from"./CardTitle.vue_vue_type_script_setup_true_lang-BUNiHSkD.js";import{_ as L}from"./index-Dq640zwT.js";import{_ as de,a as ne,b as S,c as b,d as ie,e as f}from"./TableHeader.vue_vue_type_script_setup_true_lang-HEEiC_Nq.js";import{V as w}from"./volume-2-CrRBrxj6.js";import{P as j}from"./plus-CKBD4sZW.js";import{P as I}from"./play-kHKQNFst.js";import{P as ue}from"./pause-klv3kzqs.js";import{U}from"./x-BJKYekbZ.js";import{C as fe}from"./chart-column-DY6VFw-F.js";import{B as ce}from"./book-open-FPj6PwVf.js";import{C as ge}from"./clock-DTvpSLd-.js";import{T as me}from"./trending-up-Dt-7yHFG.js";import{E as pe,T as be,a as ve}from"./toggle-right-DAPbzvnU.js";import{E as xe}from"./eye-DypdyHnj.js";import{S as _e}from"./square-pen-yota-XyA.js";import{T as he}from"./trash-2-Cg__zQcu.js";import"./index-DdH2r2B8.js";import"./index-C4PRPqD0.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-DttcJlkw.js";const ke={class:"space-y-6 bg-background text-foreground"},ye={class:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4"},we={class:"text-2xl font-bold flex items-center gap-2 text-foreground"},Ce={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4"},Ae={class:"flex items-center gap-3"},$e={class:"p-2 bg-blue-500 dark:bg-blue-600 rounded-lg"},Se={class:"text-2xl font-bold text-blue-900 dark:text-blue-100"},Te={class:"flex items-center gap-3"},Pe={class:"p-2 bg-green-500 dark:bg-green-600 rounded-lg"},Ve={class:"text-2xl font-bold text-green-900 dark:text-green-100"},De={class:"flex items-center gap-3"},Ee={class:"p-2 bg-gray-500 dark:bg-gray-600 rounded-lg"},Me={class:"text-2xl font-bold text-gray-900 dark:text-gray-100"},Ne={class:"flex items-center gap-3"},Be={class:"p-2 bg-purple-500 dark:bg-purple-600 rounded-lg"},Fe={class:"text-2xl font-bold text-purple-900 dark:text-purple-100"},Le={class:"flex items-center gap-3"},je={class:"p-2 bg-orange-500 dark:bg-orange-600 rounded-lg"},Ie={class:"text-2xl font-bold text-orange-900 dark:text-orange-100"},Ue={class:"flex flex-col sm:flex-row gap-4"},ze={class:"flex-1 space-y-2"},qe=["value"],We={class:"flex-1 space-y-2"},Ge={class:"flex items-end"},Oe={class:"overflow-x-auto"},Re={class:"text-muted-foreground mb-4"},Ye={class:"flex items-center gap-3"},He={class:"relative w-16 h-16 rounded-lg overflow-hidden bg-gradient-to-br from-blue-100 to-purple-100 dark:from-blue-950/50 dark:to-purple-950/50 flex items-center justify-center shrink-0 border border-muted"},Je=["src","alt"],Ke={class:"min-w-0 flex-1"},Qe={class:"font-semibold truncate text-base text-foreground"},Xe={class:"text-sm text-muted-foreground truncate max-w-xs"},Ze={class:"text-xs text-muted-foreground mt-1 flex items-center gap-1"},et={key:1,class:"text-muted-foreground text-sm"},tt={class:"flex items-center gap-1 text-sm text-foreground"},rt={class:"space-y-1"},st={class:"flex items-center gap-2 text-sm text-foreground"},ot={class:"flex items-center gap-2 text-sm"},Dt=H({__name:"Index",props:{audios:{},categories:{}},setup(z){const u=z,q=[{title:"Admin",href:"/admin"},{title:"Audio Management",href:"/admin/audio"}],c=P("all"),g=P("all"),A=V(()=>{let l=[...u.audios];if(c.value!=="all"&&(l=l.filter(r=>{var a;return((a=r.category)==null?void 0:a.id.toString())===c.value})),g.value!=="all"){const r=g.value==="active";l=l.filter(a=>a.is_active===r)}return l}),_=V(()=>({total:u.audios.length,active:u.audios.filter(l=>l.is_active).length,inactive:u.audios.filter(l=>!l.is_active).length,totalListeners:u.audios.reduce((l,r)=>l+r.total_listeners,0),avgCompletion:u.audios.length>0?Math.round(u.audios.reduce((l,r)=>l+r.avg_completion,0)/u.audios.length):0}));function W(l){B.post(`/admin/audio/${l.id}/toggle-active`,{},{preserveScroll:!0,onSuccess:()=>{console.log(`Audio ${l.is_active?"deactivated":"activated"} successfully`)}})}function G(l){confirm(`Are you sure you want to delete "${l.name}"? This action cannot be undone.`)&&B.delete(`/admin/audio/${l.id}`,{onSuccess:()=>{console.log("Audio deleted successfully")}})}const O=l=>l?"default":"secondary",R=l=>l>=80?"text-green-600":l>=60?"text-yellow-600":"text-red-600";function Y(l){const r=l.target;r.style.display="none";const a=r.parentElement;if(a){const C=a.querySelector(".fallback-icon");C&&(C.style.display="flex")}}function T(){c.value="all",g.value="all"}return(l,r)=>(i(),v($,null,[t(e(J),{title:"Audio Management"}),t(se,{breadcrumbs:q},{default:s(()=>[o("div",ke,[o("div",ye,[o("div",null,[o("h1",we,[t(e(w),{class:"h-7 w-7 text-blue-600 dark:text-blue-500"}),r[2]||(r[2]=d(" Audio Management "))]),r[3]||(r[3]=o("p",{class:"text-muted-foreground"},"Manage your audio courses and track performance",-1))]),t(e(y),{asChild:"",size:"default",class:"bg-primary text-primary-foreground hover:bg-primary/90"},{default:s(()=>[t(e(h),{href:"/admin/audio/create"},{default:s(()=>[t(e(j),{class:"h-4 w-4 mr-2"}),r[4]||(r[4]=d(" Add Audio Course "))]),_:1})]),_:1})]),o("div",Ce,[t(e(m),{class:"border-0 bg-gradient-to-br from-blue-50 to-blue-100 dark:from-blue-950/50 dark:to-blue-900/50 border border-blue-200/50 dark:border-blue-800/50"},{default:s(()=>[t(e(p),{class:"p-4"},{default:s(()=>[o("div",Ae,[o("div",$e,[t(e(w),{class:"h-6 w-6 text-white"})]),o("div",null,[o("div",Se,n(_.value.total),1),r[5]||(r[5]=o("div",{class:"text-sm text-blue-700 dark:text-blue-300"},"Total Audio",-1))])])]),_:1})]),_:1}),t(e(m),{class:"border-0 bg-gradient-to-br from-green-50 to-green-100 dark:from-green-950/50 dark:to-green-900/50 border border-green-200/50 dark:border-green-800/50"},{default:s(()=>[t(e(p),{class:"p-4"},{default:s(()=>[o("div",Te,[o("div",Pe,[t(e(I),{class:"h-6 w-6 text-white"})]),o("div",null,[o("div",Ve,n(_.value.active),1),r[6]||(r[6]=o("div",{class:"text-sm text-green-700 dark:text-green-300"},"Active",-1))])])]),_:1})]),_:1}),t(e(m),{class:"border-0 bg-gradient-to-br from-gray-50 to-gray-100 dark:from-gray-950/50 dark:to-gray-900/50 border border-gray-200/50 dark:border-gray-800/50"},{default:s(()=>[t(e(p),{class:"p-4"},{default:s(()=>[o("div",De,[o("div",Ee,[t(e(ue),{class:"h-6 w-6 text-white"})]),o("div",null,[o("div",Me,n(_.value.inactive),1),r[7]||(r[7]=o("div",{class:"text-sm text-gray-700 dark:text-gray-300"},"Inactive",-1))])])]),_:1})]),_:1}),t(e(m),{class:"border-0 bg-gradient-to-br from-purple-50 to-purple-100 dark:from-purple-950/50 dark:to-purple-900/50 border border-purple-200/50 dark:border-purple-800/50"},{default:s(()=>[t(e(p),{class:"p-4"},{default:s(()=>[o("div",Ne,[o("div",Be,[t(e(U),{class:"h-6 w-6 text-white"})]),o("div",null,[o("div",Fe,n(_.value.totalListeners),1),r[8]||(r[8]=o("div",{class:"text-sm text-purple-700 dark:text-purple-300"},"Total Listeners",-1))])])]),_:1})]),_:1}),t(e(m),{class:"border-0 bg-gradient-to-br from-orange-50 to-orange-100 dark:from-orange-950/50 dark:to-orange-900/50 border border-orange-200/50 dark:border-orange-800/50"},{default:s(()=>[t(e(p),{class:"p-4"},{default:s(()=>[o("div",Le,[o("div",je,[t(e(fe),{class:"h-6 w-6 text-white"})]),o("div",null,[o("div",Ie,n(_.value.avgCompletion)+"%",1),r[9]||(r[9]=o("div",{class:"text-sm text-orange-700 dark:text-orange-300"},"Avg Completion",-1))])])]),_:1})]),_:1})]),t(e(m),{class:"bg-card border-border"},{default:s(()=>[t(e(p),{class:"p-4"},{default:s(()=>[o("div",Ue,[o("div",ze,[r[11]||(r[11]=o("label",{class:"text-sm font-medium text-foreground"},"Category",-1)),D(o("select",{"onUpdate:modelValue":r[0]||(r[0]=a=>c.value=a),class:"flex h-10 w-full rounded-md border border-input bg-background text-foreground px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2"},[r[10]||(r[10]=o("option",{value:"all"},"All Categories",-1)),(i(!0),v($,null,E(l.categories,a=>(i(),v("option",{key:a.id,value:a.id.toString()},n(a.name),9,qe))),128))],512),[[M,c.value]])]),o("div",We,[r[13]||(r[13]=o("label",{class:"text-sm font-medium text-foreground"},"Status",-1)),D(o("select",{"onUpdate:modelValue":r[1]||(r[1]=a=>g.value=a),class:"flex h-10 w-full rounded-md border border-input bg-background text-foreground px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2"},r[12]||(r[12]=[o("option",{value:"all"},"All Status",-1),o("option",{value:"active"},"Active",-1),o("option",{value:"inactive"},"Inactive",-1)]),512),[[M,g.value]])]),o("div",Ge,[t(e(y),{onClick:T,variant:"outline",class:"bg-background border-border text-foreground hover:bg-accent hover:text-accent-foreground"},{default:s(()=>r[14]||(r[14]=[d(" Clear Filters ")])),_:1})])])]),_:1})]),_:1}),t(e(m),{class:"bg-card border-border"},{default:s(()=>[t(e(ae),{class:"bg-card"},{default:s(()=>[t(e(le),{class:"flex items-center gap-2 text-card-foreground"},{default:s(()=>[t(e(w),{class:"h-5 w-5"}),d(" Audio Courses ("+n(A.value.length)+") ",1)]),_:1}),t(e(oe),{class:"text-muted-foreground"},{default:s(()=>r[15]||(r[15]=[d(" Manage your audio courses and monitor their performance ")])),_:1})]),_:1}),t(e(p),{class:"p-0 bg-card"},{default:s(()=>[o("div",Oe,[t(e(de),null,{default:s(()=>[t(e(ne),{class:"bg-muted/50"},{default:s(()=>[t(e(S),{class:"border-border hover:bg-muted/50"},{default:s(()=>[t(e(b),{class:"text-muted-foreground"},{default:s(()=>r[16]||(r[16]=[d("Audio Details")])),_:1}),t(e(b),{class:"text-muted-foreground"},{default:s(()=>r[17]||(r[17]=[d("Category")])),_:1}),t(e(b),{class:"text-muted-foreground"},{default:s(()=>r[18]||(r[18]=[d("Duration")])),_:1}),t(e(b),{class:"text-muted-foreground"},{default:s(()=>r[19]||(r[19]=[d("Status")])),_:1}),t(e(b),{class:"text-muted-foreground"},{default:s(()=>r[20]||(r[20]=[d("Analytics")])),_:1}),t(e(b),{class:"text-muted-foreground"},{default:s(()=>r[21]||(r[21]=[d("Created")])),_:1}),t(e(b),{class:"text-right text-muted-foreground"},{default:s(()=>r[22]||(r[22]=[d("Actions")])),_:1})]),_:1})]),_:1}),t(e(ie),null,{default:s(()=>[A.value.length===0?(i(),x(e(S),{key:0,class:"border-border"},{default:s(()=>[t(e(f),{colspan:"7",class:"text-center py-16 text-muted-foreground"},{default:s(()=>[t(e(w),{class:"h-16 w-16 mx-auto text-muted-foreground mb-6"}),r[25]||(r[25]=o("div",{class:"text-lg font-medium mb-2 text-foreground"},"No audio courses found",-1)),o("p",Re,n(c.value!=="all"||g.value!=="all"?"Try adjusting your filters to find more courses":"Get started by creating your first audio course"),1),c.value==="all"&&g.value==="all"?(i(),x(e(y),{key:0,asChild:"",class:"bg-primary text-primary-foreground hover:bg-primary/90"},{default:s(()=>[t(e(h),{href:"/admin/audio/create"},{default:s(()=>[t(e(j),{class:"h-4 w-4 mr-2"}),r[23]||(r[23]=d(" Add Your First Audio Course "))]),_:1})]),_:1})):(i(),x(e(y),{key:1,onClick:T,variant:"outline",class:"bg-background border-border text-foreground hover:bg-accent"},{default:s(()=>r[24]||(r[24]=[d(" Clear Filters ")])),_:1}))]),_:1})]),_:1})):N("",!0),(i(!0),v($,null,E(A.value,a=>(i(),x(e(S),{key:a.id,class:"hover:bg-accent/50 border-border text-card-foreground"},{default:s(()=>[t(e(f),null,{default:s(()=>[o("div",Ye,[o("div",He,[a.thumbnail_url?(i(),v("img",{key:0,src:a.thumbnail_url,alt:a.name,class:"w-full h-full object-cover",onError:Y},null,40,Je)):N("",!0),t(e(w),{class:"fallback-icon h-8 w-8 text-blue-500 dark:text-blue-400",style:K({display:a.thumbnail_url?"none":"flex"})},null,8,["style"])]),o("div",Ke,[o("div",Qe,n(a.name),1),o("div",Xe,n(a.description||"No description"),1),o("div",Ze,[o("span",null,"by "+n(a.creator.name),1)])])])]),_:2},1024),t(e(f),null,{default:s(()=>[a.category?(i(),x(e(L),{key:0,variant:"outline",class:"gap-1 bg-background border-border text-foreground"},{default:s(()=>[t(e(ce),{class:"h-3 w-3"}),d(" "+n(a.category.name),1)]),_:2},1024)):(i(),v("span",et,"No category"))]),_:2},1024),t(e(f),null,{default:s(()=>[o("div",tt,[t(e(ge),{class:"h-4 w-4 text-muted-foreground"}),d(" "+n(a.formatted_duration),1)])]),_:2},1024),t(e(f),null,{default:s(()=>[t(e(L),{variant:O(a.is_active),class:"bg-background border-border"},{default:s(()=>[d(n(a.is_active?"Active":"Inactive"),1)]),_:2},1032,["variant"])]),_:2},1024),t(e(f),null,{default:s(()=>[o("div",rt,[o("div",st,[t(e(U),{class:"h-4 w-4 text-muted-foreground"}),o("span",null,n(a.total_listeners)+" listeners",1)]),o("div",ot,[t(e(me),{class:"h-4 w-4 text-muted-foreground"}),o("span",{class:Q(R(a.avg_completion))},n(Math.round(a.avg_completion))+"% completion ",3)])])]),_:2},1024),t(e(f),{class:"text-sm text-muted-foreground"},{default:s(()=>[d(n(new Date(a.created_at).toLocaleDateString()),1)]),_:2},1024),t(e(f),{class:"text-right"},{default:s(()=>[t(e(Z),null,{default:s(()=>[t(e(ee),{asChild:""},{default:s(()=>[t(e(y),{variant:"ghost",size:"sm",class:"text-foreground hover:bg-accent hover:text-accent-foreground"},{default:s(()=>[t(e(pe),{class:"h-4 w-4"})]),_:1})]),_:1}),t(e(te),{align:"end",class:"bg-popover border-border text-popover-foreground"},{default:s(()=>[t(e(re),{class:"text-popover-foreground"},{default:s(()=>r[26]||(r[26]=[d("Actions")])),_:1}),t(e(k),{asChild:"",class:"text-popover-foreground hover:bg-accent hover:text-accent-foreground cursor-pointer"},{default:s(()=>[t(e(h),{href:`/admin/audio/${a.id}`},{default:s(()=>[t(e(xe),{class:"h-4 w-4 mr-2"}),r[27]||(r[27]=d(" View Analytics "))]),_:2},1032,["href"])]),_:2},1024),t(e(k),{asChild:"",class:"text-popover-foreground hover:bg-accent hover:text-accent-foreground cursor-pointer"},{default:s(()=>[t(e(h),{href:`/audio/${a.id}`,target:"_blank"},{default:s(()=>[t(e(I),{class:"h-4 w-4 mr-2"}),r[28]||(r[28]=d(" Preview "))]),_:2},1032,["href"])]),_:2},1024),t(e(k),{asChild:"",class:"text-popover-foreground hover:bg-accent hover:text-accent-foreground cursor-pointer"},{default:s(()=>[t(e(h),{href:`/admin/audio/${a.id}/edit`},{default:s(()=>[t(e(_e),{class:"h-4 w-4 mr-2"}),r[29]||(r[29]=d(" Edit "))]),_:2},1032,["href"])]),_:2},1024),t(e(F),{class:"bg-border"}),t(e(k),{onClick:C=>W(a),class:"text-popover-foreground hover:bg-accent hover:text-accent-foreground cursor-pointer"},{default:s(()=>[(i(),x(X(a.is_active?e(be):e(ve)),{class:"h-4 w-4 mr-2"})),d(" "+n(a.is_active?"Deactivate":"Activate"),1)]),_:2},1032,["onClick"]),t(e(F),{class:"bg-border"}),t(e(k),{onClick:C=>G(a),class:"text-destructive focus:text-destructive cursor-pointer"},{default:s(()=>[t(e(he),{class:"h-4 w-4 mr-2"}),r[30]||(r[30]=d(" Delete "))]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})])]),_:1})]),_:1})])]),_:1})],64))}});export{Dt as default};
