import{d as q,C as z,r as B,g as p,o as i,w as l,e as o,j as F,b as r,h as u,u as e,f as n,a as c,t as d,F as L,i as k,n as S,P as I}from"./app-sfv6CYbu.js";import{_ as P}from"./AdminLayout.vue_vue_type_script_setup_true_lang-vvSRP-jI.js";import{c as A,_ as M}from"./Button.vue_vue_type_script_setup_true_lang-Ccdh52Vd.js";import{_ as V}from"./Input.vue_vue_type_script_setup_true_lang-PAMz5smE.js";import{_}from"./Label.vue_vue_type_script_setup_true_lang-BH1zqArT.js";import{_ as G}from"./Textarea.vue_vue_type_script_setup_true_lang-rDCsa1Rq.js";import{_ as v}from"./Card.vue_vue_type_script_setup_true_lang-C1bT-eXd.js";import{_ as g}from"./CardContent.vue_vue_type_script_setup_true_lang-Khif222k.js";import{_ as h}from"./CardDescription.vue_vue_type_script_setup_true_lang-Du745yLv.js";import{_ as b}from"./CardHeader.vue_vue_type_script_setup_true_lang-DnS62nQf.js";import{_ as y}from"./CardTitle.vue_vue_type_script_setup_true_lang-BUNiHSkD.js";import{_ as O,a as Q,b as R,c as X,d as x}from"./SelectValue.vue_vue_type_script_setup_true_lang-BZdTdVyo.js";import{_ as J}from"./Checkbox.vue_vue_type_script_setup_true_lang-DkUE1Svg.js";import{_ as K}from"./index-Dq640zwT.js";import{S as W}from"./shield-ITGKy-lU.js";import{U as Y,X as Z}from"./x-BJKYekbZ.js";import{E as ee}from"./eye-DypdyHnj.js";import{L as se}from"./loader-circle-Bs3wlpar.js";import{S as te}from"./save-C5fhVCRO.js";import"./AppLayout.vue_vue_type_script_setup_true_lang-BqoVmqtq.js";import"./index-DdH2r2B8.js";import"./index-C4PRPqD0.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-DttcJlkw.js";import"./clock-DTvpSLd-.js";import"./useForwardPropsEmits--cawDwsm.js";import"./Presence-CHrFqoPB.js";import"./ConfigProvider-CuMY5RD4.js";import"./useForwardExpose-C32JnqdD.js";import"./Teleport-DTKdiWK5.js";import"./handleAndDispatchCustomEvent-ChOKVcqp.js";import"./Collection-DekOIFXO.js";import"./usePrimitiveElement-BTNjppil.js";import"./check-Bs2OgQiG.js";import"./useSize-C9jzGnps.js";import"./ohash.D__AXeF1-DHF4M4F_.js";import"./nullish-CHIgUVhi.js";import"./VisuallyHidden-oKHpmjgu.js";/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const re=A("LightbulbIcon",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]),le={class:"px-4 sm:px-0 space-y-6"},oe={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},ae={class:"space-y-2"},ie={key:0,class:"text-sm text-destructive"},ne={class:"space-y-2"},de={key:0,class:"text-sm text-destructive"},me={class:"space-y-2 md:col-span-2"},ce={key:0,class:"text-sm text-destructive"},ue={class:"space-y-2 md:col-span-2"},pe={key:0,class:"text-sm text-destructive"},fe={class:"space-y-4"},_e={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"},ve={class:"font-medium"},ge={class:"text-xs text-muted-foreground"},xe={key:0,class:"text-sm text-destructive"},he={class:"flex items-center space-x-4"},be={class:"text-lg font-bold"},ye={class:"flex-1"},Le={class:"text-lg font-semibold text-foreground"},ke={class:"text-sm text-muted-foreground"},we={key:0,class:"text-sm text-muted-foreground mt-1"},$e={key:1,class:"flex flex-wrap gap-1 mt-2"},Ce={class:"flex flex-col sm:flex-row gap-3"},Se={key:2},Me={key:3},Ve={class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4"},De={class:"flex items-center space-x-3"},Ee={class:"flex-1"},Ue={class:"font-medium text-sm"},Ne={class:"text-xs text-muted-foreground"},gs=q({__name:"Create",props:{existingLevels:Array},setup(D){const E=D,s=z({code:"",name:"",hierarchy_level:"",description:"",can_manage_levels:[]}),w=B(E.existingLevels||[]);function U(){s.post("/admin/user-levels",{onSuccess:()=>{},onError:m=>{console.error("Validation errors:",m)}})}const N=()=>{const m=parseInt(s.hierarchy_level);m===1?(s.code="L1",s.name="Employee",s.description="Front-line employees with no direct reports",s.can_manage_levels=[]):m===2?(s.code="L2",s.name="Direct Manager",s.description="Team managers with direct reports",s.can_manage_levels=["L1"]):m===3?(s.code="L3",s.name="Senior Manager",s.description="Department heads and senior managers",s.can_manage_levels=["L1","L2"]):m===4&&(s.code="L4",s.name="Director",s.description="Executive level with multiple department oversight",s.can_manage_levels=["L1","L2","L3"])},$=m=>{s.hierarchy_level=m,N()},H=m=>{const t=s.can_manage_levels.indexOf(m);t>-1?s.can_manage_levels.splice(t,1):s.can_manage_levels.push(m)},f=m=>{switch(parseInt(m.toString())){case 1:return{bg:"bg-blue-100",text:"text-blue-600",border:"border-blue-200"};case 2:return{bg:"bg-green-100",text:"text-green-600",border:"border-green-200"};case 3:return{bg:"bg-orange-100",text:"text-orange-600",border:"border-orange-200"};case 4:return{bg:"bg-red-100",text:"text-red-600",border:"border-red-200"};default:return{bg:"bg-purple-100",text:"text-purple-600",border:"border-purple-200"}}},T=[{level:"1",code:"L1",name:"Employee Level",description:"Front-line employees"},{level:"2",code:"L2",name:"Manager Level",description:"Team managers"},{level:"3",code:"L3",name:"Senior Manager",description:"Department heads"},{level:"4",code:"L4",name:"Director Level",description:"Executive level"}],j=[{name:"Dashboard",href:route("dashboard")},{name:"User Levels",href:route("admin.user-levels.index")},{name:"Create Level",href:route("admin.user-levels.create")}];return(m,t)=>(i(),p(P,{breadcrumbs:j},{default:l(()=>[o("div",le,[t[24]||(t[24]=o("div",null,[o("h1",{class:"text-xl sm:text-2xl font-bold text-foreground"},"Create New User Level"),o("p",{class:"text-sm text-muted-foreground mt-1"},"Define a new organizational hierarchy level with management permissions and responsibilities")],-1)),o("form",{onSubmit:F(U,["prevent"]),class:"max-w-4xl space-y-6"},[r(e(v),null,{default:l(()=>[r(e(b),null,{default:l(()=>[r(e(y),{class:"flex items-center"},{default:l(()=>[r(e(W),{class:"mr-2 h-5 w-5"}),t[3]||(t[3]=n(" Level Configuration "))]),_:1}),r(e(h),null,{default:l(()=>t[4]||(t[4]=[n("Define the basic properties and hierarchy position of this user level")])),_:1})]),_:1}),r(e(g),null,{default:l(()=>[o("div",oe,[o("div",ae,[r(e(_),{for:"hierarchy_level"},{default:l(()=>t[5]||(t[5]=[n("Hierarchy Level")])),_:1}),r(e(O),{"model-value":e(s).hierarchy_level,"onUpdate:modelValue":$},{default:l(()=>[r(e(Q),{id:"hierarchy_level",disabled:e(s).processing},{default:l(()=>[r(e(R),{placeholder:"Select Level"})]),_:1},8,["disabled"]),r(e(X),null,{default:l(()=>[r(e(x),{value:"1"},{default:l(()=>t[6]||(t[6]=[n("Level 1 (Employees)")])),_:1}),r(e(x),{value:"2"},{default:l(()=>t[7]||(t[7]=[n("Level 2 (Managers)")])),_:1}),r(e(x),{value:"3"},{default:l(()=>t[8]||(t[8]=[n("Level 3 (Senior Managers)")])),_:1}),r(e(x),{value:"4"},{default:l(()=>t[9]||(t[9]=[n("Level 4 (Directors)")])),_:1}),r(e(x),{value:"5"},{default:l(()=>t[10]||(t[10]=[n("Level 5 (Executive)")])),_:1})]),_:1})]),_:1},8,["model-value"]),t[11]||(t[11]=o("p",{class:"text-xs text-muted-foreground"},"Higher numbers indicate higher authority levels",-1)),e(s).errors.hierarchy_level?(i(),c("div",ie,d(e(s).errors.hierarchy_level),1)):u("",!0)]),o("div",ne,[r(e(_),{for:"code"},{default:l(()=>t[12]||(t[12]=[n("Level Code")])),_:1}),r(e(V),{id:"code",modelValue:e(s).code,"onUpdate:modelValue":t[0]||(t[0]=a=>e(s).code=a),disabled:e(s).processing,maxlength:"10",placeholder:"e.g., L1, L2, MGR",required:""},null,8,["modelValue","disabled"]),t[13]||(t[13]=o("p",{class:"text-xs text-muted-foreground"},"Short identifier (e.g., L1, L2, L3, L4)",-1)),e(s).errors.code?(i(),c("div",de,d(e(s).errors.code),1)):u("",!0)]),o("div",me,[r(e(_),{for:"name"},{default:l(()=>t[14]||(t[14]=[n("Level Name")])),_:1}),r(e(V),{id:"name",modelValue:e(s).name,"onUpdate:modelValue":t[1]||(t[1]=a=>e(s).name=a),disabled:e(s).processing,placeholder:"e.g., Employee, Direct Manager, Senior Manager",required:""},null,8,["modelValue","disabled"]),e(s).errors.name?(i(),c("div",ce,d(e(s).errors.name),1)):u("",!0)]),o("div",ue,[r(e(_),{for:"description"},{default:l(()=>t[15]||(t[15]=[n("Description")])),_:1}),r(e(G),{id:"description",modelValue:e(s).description,"onUpdate:modelValue":t[2]||(t[2]=a=>e(s).description=a),disabled:e(s).processing,placeholder:"Describe the responsibilities and scope of this level",rows:"3"},null,8,["modelValue","disabled"]),e(s).errors.description?(i(),c("div",pe,d(e(s).errors.description),1)):u("",!0)])])]),_:1})]),_:1}),w.value.length>0?(i(),p(e(v),{key:0},{default:l(()=>[r(e(b),null,{default:l(()=>[r(e(y),{class:"flex items-center"},{default:l(()=>[r(e(Y),{class:"mr-2 h-5 w-5"}),t[16]||(t[16]=n(" Management Permissions "))]),_:1}),r(e(h),null,{default:l(()=>t[17]||(t[17]=[n("Select which levels this level can manage and oversee")])),_:1})]),_:1}),r(e(g),null,{default:l(()=>[o("div",fe,[o("div",_e,[(i(!0),c(L,null,k(w.value,a=>(i(),c("div",{key:a.code,class:"flex items-center space-x-3 p-3 border rounded-lg hover:bg-muted/50 transition-colors"},[r(e(J),{id:`manage_${a.code}`,checked:e(s).can_manage_levels.includes(a.code),"onUpdate:checked":C=>C?e(s).can_manage_levels.push(a.code):H(a.code),disabled:e(s).processing},null,8,["id","checked","onUpdate:checked","disabled"]),r(e(_),{for:`manage_${a.code}`,class:"flex-1 cursor-pointer"},{default:l(()=>[o("div",ve,d(a.code)+" - "+d(a.name),1),o("div",ge,"Level "+d(a.hierarchy_level),1)]),_:2},1032,["for"])]))),128))]),t[18]||(t[18]=o("p",{class:"text-xs text-muted-foreground"},"Leave empty if this level cannot manage other users",-1)),e(s).errors.can_manage_levels?(i(),c("div",xe,d(e(s).errors.can_manage_levels),1)):u("",!0)])]),_:1})]),_:1})):u("",!0),e(s).code?(i(),p(e(v),{key:1,class:"border-primary/20 bg-primary/5"},{default:l(()=>[r(e(b),null,{default:l(()=>[r(e(y),{class:"flex items-center"},{default:l(()=>[r(e(ee),{class:"mr-2 h-5 w-5"}),t[19]||(t[19]=n(" Preview "))]),_:1}),r(e(h),null,{default:l(()=>t[20]||(t[20]=[n("How this level will appear in the system")])),_:1})]),_:1}),r(e(g),null,{default:l(()=>[o("div",he,[o("div",{class:S(["shrink-0 h-16 w-16 rounded-full flex items-center justify-center border-2",[f(e(s).hierarchy_level).bg,f(e(s).hierarchy_level).text,f(e(s).hierarchy_level).border]])},[o("span",be,d(e(s).code),1)],2),o("div",ye,[o("div",Le,d(e(s).name||"Level Name"),1),o("div",ke,"Hierarchy Level "+d(e(s).hierarchy_level||"?"),1),e(s).description?(i(),c("div",we,d(e(s).description),1)):u("",!0),e(s).can_manage_levels.length>0?(i(),c("div",$e,[(i(!0),c(L,null,k(e(s).can_manage_levels,a=>(i(),p(e(K),{key:a,variant:"secondary",class:"text-xs"},{default:l(()=>[n(" Can manage: "+d(a),1)]),_:2},1024))),128))])):u("",!0)])])]),_:1})]),_:1})):u("",!0),o("div",Ce,[r(e(M),{type:"submit",disabled:e(s).processing,class:"w-full sm:w-auto"},{default:l(()=>[e(s).processing?(i(),p(e(se),{key:0,class:"mr-2 h-4 w-4 animate-spin"})):(i(),p(e(te),{key:1,class:"mr-2 h-4 w-4"})),e(s).processing?(i(),c("span",Se,"Creating Level...")):(i(),c("span",Me,"Create User Level"))]),_:1},8,["disabled"]),r(e(M),{as:e(I),href:m.route("admin.user-levels.index"),variant:"outline",disabled:e(s).processing,class:"w-full sm:w-auto"},{default:l(()=>[r(e(Z),{class:"mr-2 h-4 w-4"}),t[21]||(t[21]=n(" Cancel "))]),_:1},8,["as","href","disabled"])]),r(e(v),null,{default:l(()=>[r(e(b),null,{default:l(()=>[r(e(y),{class:"flex items-center"},{default:l(()=>[r(e(re),{class:"mr-2 h-5 w-5"}),t[22]||(t[22]=n(" Quick Setup Templates "))]),_:1}),r(e(h),null,{default:l(()=>t[23]||(t[23]=[n("Click on a template to quickly configure common organizational levels")])),_:1})]),_:1}),r(e(g),null,{default:l(()=>[o("div",Ve,[(i(),c(L,null,k(T,a=>r(e(v),{key:a.level,class:"cursor-pointer transition-all duration-200 hover:shadow-md hover:scale-105 border-2 hover:border-primary/50",onClick:C=>$(a.level)},{default:l(()=>[r(e(g),{class:"p-4"},{default:l(()=>[o("div",De,[o("div",{class:S(["h-10 w-10 rounded-full flex items-center justify-center text-xs font-bold",[f(a.level).bg,f(a.level).text]])},d(a.code),3),o("div",Ee,[o("div",Ue,d(a.name),1),o("div",Ne,d(a.description),1)])])]),_:2},1024)]),_:2},1032,["onClick"])),64))])]),_:1})]),_:1})],32)])]),_:1}))}});export{gs as default};
