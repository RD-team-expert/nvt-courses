import{r as y,c as b,g as m,o as i,w as r,e as t,a as f,h as w,b as a,u as s,t as d,f as c,F as k,i as Q,n as z,y as H,P as S}from"./app-CwrLmt4H.js";import{_ as J}from"./Pagination.vue_vue_type_script_setup_true_lang-BVpdBRij.js";import{f as K}from"./AppLayout.vue_vue_type_script_setup_true_lang-KHSjz1qE.js";import{_ as v}from"./Button.vue_vue_type_script_setup_true_lang-DNqWTjl2.js";import{_ as W}from"./Input.vue_vue_type_script_setup_true_lang-rmXnsLaI.js";import{_ as g}from"./Card.vue_vue_type_script_setup_true_lang-A8WG6GOp.js";import{_}from"./CardContent.vue_vue_type_script_setup_true_lang-C0P-sboE.js";import{_ as X}from"./index-M46Jp1H4.js";import{_ as Y,a as Z,b as tt,c as et,d as V}from"./SelectValue.vue_vue_type_script_setup_true_lang-FEW3_Jd3.js";import{F as $}from"./file-text-Z6jB2T-o.js";import{C as st}from"./circle-check-big-DGC-KaVv.js";import{C as j}from"./clock-B3hXeEnL.js";import{S as L}from"./search-DU6hmh8-.js";import{L as lt}from"./list-Bk-V21hk.js";import{G as at}from"./grid-3x3-DQ0mSyqU.js";import{B as T}from"./brain-CX46meEo.js";import{C as ot}from"./chart-column-BxaJVBBM.js";import"./index-DJ8elu12.js";import"./index-Bl0m2vYu.js";import"./_plugin-vue_export-helper-C_B9qUyA.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-wO9CZrtp.js";import"./useForwardPropsEmits-Bv9ZfZA8.js";import"./Presence-D5fWEiXU.js";import"./ConfigProvider-DYoe7gBq.js";import"./useForwardExpose-aFpDTqrD.js";import"./Teleport-jnYm4bVA.js";import"./handleAndDispatchCustomEvent-ChOKVcqp.js";import"./chevron-up-BFDwzHBd.js";import"./Collection-B9kSM2sl.js";import"./usePrimitiveElement-D1W1Ae6N.js";import"./check-D3O_WcEY.js";import"./useSize-d0DSIEo7.js";import"./ohash.D__AXeF1-DHF4M4F_.js";import"./nullish-CHIgUVhi.js";import"./VisuallyHidden-xEP9wB1T.js";const rt={class:"min-h-screen bg-gradient-to-br from-background to-secondary/20"},it={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 space-y-8"},dt={key:0,class:"grid grid-cols-1 md:grid-cols-3 gap-6"},nt={class:"flex items-center"},ut={class:"p-3 rounded-full bg-primary/10 text-primary"},mt={class:"ml-4"},ft={class:"text-2xl font-bold text-foreground"},ct={class:"flex items-center"},pt={class:"p-3 rounded-full bg-green-500/10 text-green-600"},gt={class:"ml-4"},_t={class:"text-2xl font-bold text-foreground"},xt={class:"flex items-center"},ht={class:"p-3 rounded-full bg-yellow-500/10 text-yellow-600"},vt={class:"ml-4"},bt={class:"text-2xl font-bold text-foreground"},wt={class:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4"},yt={class:"flex flex-col sm:flex-row gap-4"},zt={class:"relative"},Ct={class:"flex items-center gap-2"},kt={key:2,class:"space-y-6"},Qt={class:"flex"},St={class:"flex items-start justify-between mb-4"},Vt={class:"flex-1 pr-4"},$t={class:"text-xl font-semibold text-foreground mb-2"},jt={class:"text-sm text-muted-foreground mb-3 line-clamp-3"},Lt={class:"grid grid-cols-2 gap-4 mb-4"},Tt={class:"text-sm font-medium text-foreground"},Bt={class:"text-sm font-medium text-foreground"},Nt={class:"mb-4"},Pt={class:"flex justify-between items-center mb-2"},Ft={class:"text-xs text-foreground"},At={class:"w-full bg-secondary rounded-full h-2"},It={class:"flex items-center justify-between text-xs text-muted-foreground mb-4"},Ut={key:0,class:"flex items-center"},Gt={class:"space-y-2"},Dt={key:3,class:"text-center py-16"},Et={class:"mx-auto w-24 h-24 bg-muted/50 rounded-full flex items-center justify-center mb-4"},Mt={key:4,class:"text-center py-16"},Ot={class:"mx-auto w-24 h-24 bg-muted/50 rounded-full flex items-center justify-center mb-4"},Rt={key:5,class:"flex justify-center"},Se={__name:"Index",props:{quizzes:{type:Object,required:!0}},setup(n){const u=n,p=y(""),x=y("all"),h=y("grid"),B=[{name:"Quizzes",route:null}],N=b(()=>!u.quizzes.data||!u.quizzes.data.length?[]:u.quizzes.data.map(e=>e.course).filter((e,o,R)=>o===R.findIndex(q=>q.id===e.id))),C=b(()=>{if(!u.quizzes.data||!u.quizzes.data.length)return[];let l=u.quizzes.data;return p.value&&(l=l.filter(e=>e.title.toLowerCase().includes(p.value.toLowerCase())||e.description&&e.description.toLowerCase().includes(p.value.toLowerCase())||e.course.name.toLowerCase().includes(p.value.toLowerCase()))),x.value&&x.value!=="all"&&(l=l.filter(e=>e.course.id.toString()===x.value)),l}),P=b(()=>!u.quizzes.data||!u.quizzes.data.length?0:u.quizzes.data.filter(l=>l.has_passed||l.attempts>=3).length),F=b(()=>!u.quizzes.data||!u.quizzes.data.length?0:u.quizzes.data.filter(l=>!l.has_passed&&l.attempts<3).length),A=()=>{h.value=h.value==="grid"?"list":"grid"},I=()=>{p.value="",x.value="all"},U=l=>l.has_passed?!1:l.attempts<3,G=l=>l.has_passed||l.attempts>=3,D=l=>l.has_passed?"Passed":l.attempts>=3?"Failed":l.attempts>0?"In Progress":"Not Started",E=l=>l.has_passed?"bg-green-500":l.attempts>=3?"bg-red-500":l.attempts>0?"bg-yellow-500":"bg-blue-500",M=l=>l.has_passed?"default":l.attempts>=3?"destructive":l.attempts>0?"secondary":"outline",O=l=>l.attempts>0?"Continue Quiz":"Start Quiz";return(l,e)=>(i(),m(K,{breadcrumbs:B},{default:r(()=>[t("div",rt,[t("div",it,[e[16]||(e[16]=t("div",{class:"text-center lg:text-left"},[t("h1",{class:"text-4xl font-bold text-foreground mb-2"},"Available Quizzes"),t("p",{class:"text-lg text-muted-foreground"},"Test your knowledge and track your progress")],-1)),n.quizzes.data&&n.quizzes.data.length?(i(),f("div",dt,[a(s(g),null,{default:r(()=>[a(s(_),{class:"p-6"},{default:r(()=>[t("div",nt,[t("div",ut,[a(s($),{class:"w-6 h-6"})]),t("div",mt,[e[2]||(e[2]=t("p",{class:"text-sm font-medium text-muted-foreground"},"Total Quizzes",-1)),t("p",ft,d(n.quizzes.data.length),1)])])]),_:1})]),_:1}),a(s(g),null,{default:r(()=>[a(s(_),{class:"p-6"},{default:r(()=>[t("div",ct,[t("div",pt,[a(s(st),{class:"w-6 h-6"})]),t("div",gt,[e[3]||(e[3]=t("p",{class:"text-sm font-medium text-muted-foreground"},"Completed",-1)),t("p",_t,d(P.value),1)])])]),_:1})]),_:1}),a(s(g),null,{default:r(()=>[a(s(_),{class:"p-6"},{default:r(()=>[t("div",xt,[t("div",ht,[a(s(j),{class:"w-6 h-6"})]),t("div",vt,[e[4]||(e[4]=t("p",{class:"text-sm font-medium text-muted-foreground"},"Pending",-1)),t("p",bt,d(F.value),1)])])]),_:1})]),_:1})])):w("",!0),n.quizzes.data&&n.quizzes.data.length?(i(),m(s(g),{key:1},{default:r(()=>[a(s(_),{class:"p-6"},{default:r(()=>[t("div",wt,[t("div",yt,[t("div",zt,[a(s(L),{class:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),a(s(W),{modelValue:p.value,"onUpdate:modelValue":e[0]||(e[0]=o=>p.value=o),type:"text",placeholder:"Search quizzes...",class:"w-full sm:w-64 pl-9"},null,8,["modelValue"])]),a(s(Y),{modelValue:x.value,"onUpdate:modelValue":e[1]||(e[1]=o=>x.value=o)},{default:r(()=>[a(s(Z),{class:"w-full sm:w-48"},{default:r(()=>[a(s(tt),{placeholder:"All Courses"})]),_:1}),a(s(et),null,{default:r(()=>[a(s(V),{value:"all"},{default:r(()=>e[5]||(e[5]=[c("All Courses")])),_:1}),(i(!0),f(k,null,Q(N.value,o=>(i(),m(s(V),{key:o.id,value:o.id.toString()},{default:r(()=>[c(d(o.name),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue"])]),t("div",Ct,[a(s(v),{onClick:A,variant:"ghost",size:"sm",title:h.value==="grid"?"Switch to list view":"Switch to grid view"},{default:r(()=>[h.value==="grid"?(i(),m(s(lt),{key:0,class:"w-5 h-5"})):(i(),m(s(at),{key:1,class:"w-5 h-5"}))]),_:1},8,["title"])])])]),_:1})]),_:1})):w("",!0),C.value.length?(i(),f("div",kt,[t("div",{class:z(h.value==="grid"?"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6":"space-y-4")},[(i(!0),f(k,null,Q(C.value,o=>(i(),m(s(g),{key:o.id,class:"group hover:shadow-lg transition-all duration-200 overflow-hidden"},{default:r(()=>[t("div",Qt,[t("div",{class:z(["w-1 shrink-0",E(o)])},null,2),a(s(_),{class:"flex-1 p-6"},{default:r(()=>[t("div",St,[t("div",Vt,[t("h2",$t,d(o.title),1),t("p",jt,d(o.description||"No description available"),1)]),a(s(X),{variant:M(o),class:"shrink-0"},{default:r(()=>[c(d(D(o)),1)]),_:2},1032,["variant"])]),t("div",Lt,[a(s(g),{class:"bg-muted/50"},{default:r(()=>[a(s(_),{class:"p-3"},{default:r(()=>[e[6]||(e[6]=t("p",{class:"text-xs text-muted-foreground mb-1"},"Course",-1)),t("p",Tt,d(o.course.name),1)]),_:2},1024)]),_:2},1024),a(s(g),{class:"bg-muted/50"},{default:r(()=>[a(s(_),{class:"p-3"},{default:r(()=>[e[7]||(e[7]=t("p",{class:"text-xs text-muted-foreground mb-1"},"Total Points",-1)),t("p",Bt,d(o.total_points),1)]),_:2},1024)]),_:2},1024)]),t("div",Nt,[t("div",Pt,[e[8]||(e[8]=t("span",{class:"text-xs text-muted-foreground"},"Progress",-1)),t("span",Ft,d(o.attempts)+"/3 attempts",1)]),t("div",At,[t("div",{class:z(["h-2 rounded-full transition-all duration-300",o.has_passed?"bg-green-500":"bg-gradient-to-r from-primary to-purple-600"]),style:H({width:o.has_passed?"100%":`${o.attempts/3*100}%`})},null,6)])]),t("div",It,[t("span",null,"Pass: "+d(o.pass_threshold)+"%",1),o.time_limit?(i(),f("span",Ut,[a(s(j),{class:"w-3 h-3 mr-1"}),c(" "+d(o.time_limit)+" min ",1)])):w("",!0)]),t("div",Gt,[U(o)?(i(),m(s(v),{key:0,asChild:"",class:"w-full"},{default:r(()=>[a(s(S),{href:l.route("quizzes.show",o.id)},{default:r(()=>[a(s(T),{class:"w-4 h-4 mr-2"}),c(" "+d(O(o)),1)]),_:2},1032,["href"])]),_:2},1024)):G(o)?(i(),m(s(v),{key:1,asChild:"",variant:"secondary",class:"w-full"},{default:r(()=>[a(s(S),{href:l.route("quiz-attempts.results",o.id)},{default:r(()=>[a(s(ot),{class:"w-4 h-4 mr-2"}),e[9]||(e[9]=c(" View Results "))]),_:2},1032,["href"])]),_:2},1024)):(i(),m(s(v),{key:2,variant:"ghost",disabled:"",class:"w-full"},{default:r(()=>[a(s(T),{class:"w-4 h-4 mr-2"}),e[10]||(e[10]=c(" Unavailable "))]),_:1}))])]),_:2},1024)])]),_:2},1024))),128))],2)])):!n.quizzes.data||!n.quizzes.data.length?(i(),f("div",Dt,[t("div",Et,[a(s($),{class:"w-12 h-12 text-muted-foreground"})]),e[11]||(e[11]=t("h3",{class:"text-lg font-medium text-foreground mb-2"},"No quizzes available",-1)),e[12]||(e[12]=t("p",{class:"text-muted-foreground mb-4"},"There are no quizzes available for your enrolled courses at the moment.",-1))])):(i(),f("div",Mt,[t("div",Ot,[a(s(L),{class:"w-12 h-12 text-muted-foreground"})]),e[14]||(e[14]=t("h3",{class:"text-lg font-medium text-foreground mb-2"},"No quizzes found",-1)),e[15]||(e[15]=t("p",{class:"text-muted-foreground mb-4"},"Try adjusting your search or filter criteria.",-1)),a(s(v),{onClick:I},{default:r(()=>e[13]||(e[13]=[c(" Clear Filters ")])),_:1})])),n.quizzes.links&&n.quizzes.data&&n.quizzes.data.length?(i(),f("div",Rt,[a(J,{links:n.quizzes.links},null,8,["links"])])):w("",!0)])])]),_:1}))}};export{Se as default};
