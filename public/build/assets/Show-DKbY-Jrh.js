import{d as G,C as I,g as f,o as l,w as s,e as a,h as p,b as t,u as e,P as N,f as n,t as i,k as y,a as u,F as H,i as J}from"./app-BMyidKIh.js";import{_ as K}from"./AdminLayout.vue_vue_type_script_setup_true_lang-CwtOIFIS.js";import{_ as w}from"./Button.vue_vue_type_script_setup_true_lang-Fk6a1Vva.js";import{_ as b}from"./Card.vue_vue_type_script_setup_true_lang-CQovGjFq.js";import{_}from"./CardContent.vue_vue_type_script_setup_true_lang-Dyzxu5FP.js";import{_ as j}from"./CardDescription.vue_vue_type_script_setup_true_lang-CvcJ_Am_.js";import{_ as x}from"./CardHeader.vue_vue_type_script_setup_true_lang-_dtBwzkO.js";import{_ as v}from"./CardTitle.vue_vue_type_script_setup_true_lang-zaBMsOvU.js";import{_ as S}from"./index-C3o0bvIk.js";import{m as W,U,c as E,e as F}from"./AppLayout.vue_vue_type_script_setup_true_lang-CeyhSayX.js";import{_ as c}from"./Label.vue_vue_type_script_setup_true_lang-Coq7pT1m.js";import{_ as Y,a as Z,b as ee,c as te,d as T}from"./SelectValue.vue_vue_type_script_setup_true_lang-TbH3IXvu.js";import{_ as se,a as re}from"./index-yEoCS5nH.js";import{S as ae}from"./square-pen-DgRNf_fG.js";import{A as oe}from"./arrow-left-WoxIE4Hy.js";import{C as k}from"./circle-check-B4f4RW96.js";import{L as ne}from"./link-2-CeKR6h0P.js";import{U as ie}from"./user-B_LV3Cf5.js";import{C as le}from"./calendar-CBip7zgp.js";import{C}from"./clock-C9ZtgHl0.js";import{C as M}from"./circle-x-CpYibFG4.js";import{T as de}from"./triangle-alert-BGzxpn4P.js";import{E as q}from"./eye-r3W5mp7L.js";import"./index-B9hR5wOz.js";import"./index-C3Bn3h4x.js";import"./_plugin-vue_export-helper-Cg8ARLjz.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-CPGGLHXe.js";import"./useForwardPropsEmits-DPcO4mtR.js";import"./Presence-D_88WakH.js";import"./ConfigProvider-BNe-qVox.js";import"./useForwardExpose-DMAVYlpA.js";import"./Teleport-CcnEHzmd.js";import"./handleAndDispatchCustomEvent-ChOKVcqp.js";import"./chevron-up-BQjwjK-c.js";import"./Collection-CjETHI6E.js";import"./usePrimitiveElement-s00YWk2f.js";import"./check-C-CvZSBJ.js";import"./useSize-DbKzACL9.js";import"./ohash.D__AXeF1-DHF4M4F_.js";import"./nullish-CHIgUVhi.js";import"./VisuallyHidden-hOZS4qMA.js";const ue={class:"px-4 sm:px-0 space-y-6"},me={class:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4"},ce={class:"flex gap-2"},fe={class:"grid grid-cols-1 lg:grid-cols-3 gap-6"},ge={class:"lg:col-span-2 space-y-6"},pe={class:"flex items-start justify-between"},be={class:"flex items-center space-x-3"},_e={class:"bg-muted/30 rounded-lg p-4"},xe={class:"text-muted-foreground leading-relaxed whitespace-pre-wrap"},ve={key:0},he={class:"bg-muted/30 rounded-lg p-4"},Re={class:"text-muted-foreground leading-relaxed whitespace-pre-wrap"},ye={key:1},we={class:"flex items-center space-x-2"},ke=["href"],Ce={class:"flex gap-2"},$e={key:0},Se={key:0},Ue={key:1},Be={key:1,class:"bg-green-50 border border-green-200 rounded-lg p-3"},De={class:"flex items-center space-x-2"},Ve={class:"text-sm font-medium text-green-800"},Ae={class:"space-y-6"},Le={class:"flex items-center space-x-3"},Pe={class:"font-medium text-foreground"},Ie={class:"text-sm text-muted-foreground"},Ne={key:0,class:"flex items-center space-x-3"},je={class:"font-medium text-foreground"},Ee={class:"text-sm text-muted-foreground"},Fe={key:1,class:"text-center py-4"},Te={class:"flex items-center space-x-2 mt-1"},Me={class:"text-sm font-medium"},qe={class:"mt-1"},Oe={class:"text-sm mt-1"},Qe={key:0},Xe={class:"text-sm mt-1"},Lt=G({__name:"Show",props:{bugReport:Object,users:Array},setup(o){var L,P;const h=o,O=[{name:"Dashboard",href:route("dashboard")},{name:"Bug Reports",href:route("admin.bug-reports.index")},{name:"View Bug Report",href:"#"}],g=I({assigned_to:((P=(L=h.bugReport.assigned_to)==null?void 0:L.id)==null?void 0:P.toString())||"unassigned"}),$=I({status:h.bugReport.status});function B(d){switch(d){case"low":return C;case"medium":return q;case"high":return de;case"critical":return M;default:return C}}function Q(d){switch(d){case"low":return"secondary";case"medium":return"default";case"high":return"destructive";case"critical":return"destructive";default:return"secondary"}}function D(d){switch(d){case"open":return C;case"in_progress":return q;case"resolved":return k;case"closed":return M;default:return C}}function V(d){switch(d){case"open":return"secondary";case"in_progress":return"default";case"resolved":return"default";case"closed":return"outline";default:return"secondary"}}const A=d=>d.split(" ").map(r=>r.charAt(0).toUpperCase()).join("").slice(0,2),R=d=>new Date(d).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}),X=()=>{const d=g.assigned_to==="unassigned"?null:g.assigned_to;g.patch(`/admin/bug-reports/${h.bugReport.id}/assign`,{assigned_to:d},{preserveScroll:!0,onSuccess:()=>{}})},z=()=>{$.patch(`/admin/bug-reports/${h.bugReport.id}/resolve`,{preserveScroll:!0,onSuccess:()=>{}})};return(d,r)=>(l(),f(K,{breadcrumbs:O},{default:s(()=>[a("div",ue,[a("div",me,[r[3]||(r[3]=a("div",null,[a("h1",{class:"text-xl sm:text-2xl font-bold text-foreground"},"Bug Report Details"),a("p",{class:"text-sm text-muted-foreground mt-1"},"Review and manage bug report information")],-1)),a("div",ce,[t(e(w),{as:e(N),href:`/admin/bug-reports/${o.bugReport.id}/edit`,variant:"outline"},{default:s(()=>[t(e(ae),{class:"mr-2 h-4 w-4"}),r[1]||(r[1]=n(" Edit Report "))]),_:1},8,["as","href"]),t(e(w),{as:e(N),href:"/admin/bug-reports",variant:"outline"},{default:s(()=>[t(e(oe),{class:"mr-2 h-4 w-4"}),r[2]||(r[2]=n(" Back to Reports "))]),_:1},8,["as"])])]),d.$page.props.flash.success?(l(),f(e(se),{key:0,class:"border-green-200 bg-green-50"},{default:s(()=>[t(e(k),{class:"h-4 w-4 text-green-600"}),t(e(re),{class:"text-green-800"},{default:s(()=>[n(i(d.$page.props.flash.success),1)]),_:1})]),_:1})):p("",!0),a("div",fe,[a("div",ge,[t(e(b),null,{default:s(()=>[t(e(x),null,{default:s(()=>[a("div",pe,[a("div",be,[(l(),f(y(B(o.bugReport.priority)),{class:"h-6 w-6 text-primary"})),a("div",null,[t(e(v),{class:"text-xl"},{default:s(()=>[n(i(o.bugReport.title),1)]),_:1}),t(e(j),{class:"mt-1 flex items-center space-x-4"},{default:s(()=>[a("span",null,"Reported "+i(R(o.bugReport.created_at)),1),t(e(S),{variant:Q(o.bugReport.priority),class:"text-xs"},{default:s(()=>[n(i(o.bugReport.priority.toUpperCase())+" Priority ",1)]),_:1},8,["variant"])]),_:1})])]),t(e(S),{variant:V(o.bugReport.status),class:"flex items-center"},{default:s(()=>[(l(),f(y(D(o.bugReport.status)),{class:"mr-1 h-3 w-3"})),n(" "+i(o.bugReport.status.replace("_"," ").replace(/\b\w/g,m=>m.toUpperCase())),1)]),_:1},8,["variant"])])]),_:1}),t(e(_),{class:"space-y-6"},{default:s(()=>[a("div",null,[t(e(c),{class:"text-base font-semibold mb-2 block"},{default:s(()=>r[4]||(r[4]=[n("Bug Description")])),_:1}),a("div",_e,[a("p",xe,i(o.bugReport.description),1)])]),o.bugReport.steps_to_reproduce?(l(),u("div",ve,[t(e(c),{class:"text-base font-semibold mb-2 block"},{default:s(()=>r[5]||(r[5]=[n("Steps to Reproduce")])),_:1}),a("div",he,[a("p",Re,i(o.bugReport.steps_to_reproduce),1)])])):p("",!0),o.bugReport.page_url?(l(),u("div",ye,[t(e(c),{class:"text-base font-semibold mb-2 block"},{default:s(()=>r[6]||(r[6]=[n("Page URL")])),_:1}),a("div",we,[t(e(ne),{class:"h-4 w-4 text-muted-foreground"}),a("a",{href:o.bugReport.page_url,target:"_blank",rel:"noopener",class:"text-primary hover:underline text-sm break-all"},i(o.bugReport.page_url),9,ke)])])):p("",!0)]),_:1})]),_:1}),t(e(b),null,{default:s(()=>[t(e(x),null,{default:s(()=>[t(e(v),{class:"flex items-center"},{default:s(()=>[t(e(W),{class:"mr-2 h-5 w-5"}),r[7]||(r[7]=n(" Quick Actions "))]),_:1}),t(e(j),null,{default:s(()=>r[8]||(r[8]=[n(" Manage bug assignment and status ")])),_:1})]),_:1}),t(e(_),{class:"space-y-4"},{default:s(()=>[a("div",null,[t(e(c),{class:"mb-2 block"},{default:s(()=>r[9]||(r[9]=[n("Assign to Developer")])),_:1}),a("div",Ce,[t(e(Y),{modelValue:e(g).assigned_to,"onUpdate:modelValue":r[0]||(r[0]=m=>e(g).assigned_to=m),class:"flex-1"},{default:s(()=>[t(e(Z),null,{default:s(()=>[t(e(ee),{placeholder:"Select developer"})]),_:1}),t(e(te),null,{default:s(()=>[t(e(T),{value:"unassigned"},{default:s(()=>r[10]||(r[10]=[n("Unassigned")])),_:1}),(l(!0),u(H,null,J(o.users,m=>(l(),f(e(T),{key:m.id,value:m.id.toString()},{default:s(()=>[n(i(m.name),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue"]),t(e(w),{onClick:X,disabled:e(g).processing,variant:"outline"},{default:s(()=>[t(e(U),{class:"mr-2 h-4 w-4"}),r[11]||(r[11]=n(" Assign "))]),_:1},8,["disabled"])])]),o.bugReport.status==="open"||o.bugReport.status==="in_progress"?(l(),u("div",$e,[t(e(w),{onClick:z,disabled:e($).processing,class:"w-full bg-green-600 hover:bg-green-700 text-white"},{default:s(()=>[t(e(k),{class:"mr-2 h-4 w-4"}),e($).processing?(l(),u("span",Se,"Resolving...")):(l(),u("span",Ue,"Mark as Resolved"))]),_:1},8,["disabled"])])):p("",!0),o.bugReport.resolved_at?(l(),u("div",Be,[a("div",De,[t(e(k),{class:"h-4 w-4 text-green-600"}),a("span",Ve," Resolved on "+i(R(o.bugReport.resolved_at)),1)])])):p("",!0)]),_:1})]),_:1})]),a("div",Ae,[t(e(b),null,{default:s(()=>[t(e(x),null,{default:s(()=>[t(e(v),{class:"flex items-center text-lg"},{default:s(()=>[t(e(ie),{class:"mr-2 h-5 w-5"}),r[12]||(r[12]=n(" Reported By "))]),_:1})]),_:1}),t(e(_),null,{default:s(()=>[a("div",Le,[t(e(E),{class:"h-12 w-12"},{default:s(()=>[t(e(F),{class:"bg-muted text-muted-foreground"},{default:s(()=>[n(i(A(o.bugReport.reported_by.name)),1)]),_:1})]),_:1}),a("div",null,[a("div",Pe,i(o.bugReport.reported_by.name),1),a("div",Ie,i(o.bugReport.reported_by.email),1)])])]),_:1})]),_:1}),t(e(b),null,{default:s(()=>[t(e(x),null,{default:s(()=>[t(e(v),{class:"flex items-center text-lg"},{default:s(()=>[t(e(U),{class:"mr-2 h-5 w-5"}),r[13]||(r[13]=n(" Assigned Developer "))]),_:1})]),_:1}),t(e(_),null,{default:s(()=>[o.bugReport.assigned_to?(l(),u("div",Ne,[t(e(E),{class:"h-12 w-12"},{default:s(()=>[t(e(F),{class:"bg-muted text-muted-foreground"},{default:s(()=>[n(i(A(o.bugReport.assigned_to.name)),1)]),_:1})]),_:1}),a("div",null,[a("div",je,i(o.bugReport.assigned_to.name),1),a("div",Ee,i(o.bugReport.assigned_to.email),1)])])):(l(),u("div",Fe,[t(e(U),{class:"mx-auto h-8 w-8 text-muted-foreground mb-2"}),r[14]||(r[14]=a("p",{class:"text-sm text-muted-foreground"},"No developer assigned",-1))]))]),_:1})]),_:1}),t(e(b),null,{default:s(()=>[t(e(x),null,{default:s(()=>[t(e(v),{class:"flex items-center text-lg"},{default:s(()=>[t(e(le),{class:"mr-2 h-5 w-5"}),r[15]||(r[15]=n(" Bug Information "))]),_:1})]),_:1}),t(e(_),{class:"space-y-4"},{default:s(()=>[a("div",null,[t(e(c),{class:"text-sm font-medium text-muted-foreground"},{default:s(()=>r[16]||(r[16]=[n("Priority Level")])),_:1}),a("div",Te,[(l(),f(y(B(o.bugReport.priority)),{class:"h-4 w-4 text-primary"})),a("span",Me,i(o.bugReport.priority.toUpperCase()),1)])]),a("div",null,[t(e(c),{class:"text-sm font-medium text-muted-foreground"},{default:s(()=>r[17]||(r[17]=[n("Current Status")])),_:1}),a("div",qe,[t(e(S),{variant:V(o.bugReport.status),class:"text-xs"},{default:s(()=>[(l(),f(y(D(o.bugReport.status)),{class:"mr-1 h-3 w-3"})),n(" "+i(o.bugReport.status.replace("_"," ").replace(/\b\w/g,m=>m.toUpperCase())),1)]),_:1},8,["variant"])])]),a("div",null,[t(e(c),{class:"text-sm font-medium text-muted-foreground"},{default:s(()=>r[18]||(r[18]=[n("Created")])),_:1}),a("p",Oe,i(R(o.bugReport.created_at)),1)]),o.bugReport.updated_at!==o.bugReport.created_at?(l(),u("div",Qe,[t(e(c),{class:"text-sm font-medium text-muted-foreground"},{default:s(()=>r[19]||(r[19]=[n("Last Updated")])),_:1}),a("p",Xe,i(R(o.bugReport.updated_at)),1)])):p("",!0)]),_:1})]),_:1})])])])]),_:1}))}});export{Lt as default};
