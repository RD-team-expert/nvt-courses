import{d as _,C as g,k as v,o as n,w as b,e as o,t as a,l as y,g as l,a as i,f as m,u as t,v as u,F as h,h as w,i as k,q as D,b as C,P as V,n as U,j as N}from"./app-iYB6CK9s.js";import{_ as B}from"./AdminLayout.vue_vue_type_script_setup_true_lang-BmAEUQ0k.js";import"./AppLayout.vue_vue_type_script_setup_true_lang-BOHGZ_58.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-B3PnW6xU.js";import"./index-BHiy4VMt.js";const E={class:"px-4 sm:px-0"},M={class:"text-xl sm:text-2xl font-bold mb-4"},S={class:"grid grid-cols-1 md:grid-cols-2 gap-4 sm:gap-6 mb-6"},j={class:"col-span-full"},q=["disabled"],z={key:0,class:"text-red-600 text-sm mt-1"},A={class:"col-span-1"},P=["disabled"],T={key:0,class:"text-red-600 text-sm mt-1"},F={class:"col-span-1"},L=["disabled"],H=["value"],O={key:0,class:"text-red-600 text-sm mt-1"},$={class:"col-span-full"},G=["disabled"],I={key:0,class:"text-red-600 text-sm mt-1"},J={class:"col-span-full"},K={class:"flex items-center"},Q=["disabled"],R={class:"flex flex-col sm:flex-row gap-2 mb-4"},W=["disabled"],X={key:0,class:"animate-spin h-4 w-4",fill:"none",viewBox:"0 0 24 24"},Y={key:1},Z={key:2},ne=_({__name:"Edit",props:{department:Object,parentDepartments:Array},setup(p){const d=p,e=g({name:d.department.name,description:d.department.description,parent_id:d.department.parent_id||"",department_code:d.department.department_code,is_active:d.department.is_active});function f(){e.put(route("admin.departments.update",d.department.id),{onSuccess:()=>{},onError:c=>{console.error("Validation errors:",c)}})}const x=[{name:"Dashboard",href:route("dashboard")},{name:"Departments",href:route("admin.departments.index")},{name:d.department.name,href:route("admin.departments.show",d.department.id)},{name:"Edit",href:route("admin.departments.edit",d.department.id)}];return(c,s)=>(n(),v(B,{breadcrumbs:x},{default:b(()=>[o("div",E,[o("h1",M,"Edit Department: "+a(p.department.name),1),o("form",{onSubmit:y(f,["prevent"]),class:"max-w-2xl"},[o("div",S,[o("div",j,[s[5]||(s[5]=o("label",{class:"block font-semibold mb-1"},"Department Name",-1)),l(o("input",{type:"text","onUpdate:modelValue":s[0]||(s[0]=r=>t(e).name=r),class:"border px-3 py-2 rounded w-full focus:outline-hidden focus:ring-2 focus:ring-blue-500",disabled:t(e).processing,required:""},null,8,q),[[u,t(e).name]]),t(e).errors.name?(n(),i("div",z,a(t(e).errors.name),1)):m("",!0)]),o("div",A,[s[6]||(s[6]=o("label",{class:"block font-semibold mb-1"},"Department Code",-1)),l(o("input",{type:"text","onUpdate:modelValue":s[1]||(s[1]=r=>t(e).department_code=r),class:"border px-3 py-2 rounded w-full focus:outline-hidden focus:ring-2 focus:ring-blue-500",disabled:t(e).processing,maxlength:"20",required:""},null,8,P),[[u,t(e).department_code]]),t(e).errors.department_code?(n(),i("div",T,a(t(e).errors.department_code),1)):m("",!0)]),o("div",F,[s[8]||(s[8]=o("label",{class:"block font-semibold mb-1"},"Parent Department",-1)),l(o("select",{"onUpdate:modelValue":s[2]||(s[2]=r=>t(e).parent_id=r),class:"border px-3 py-2 rounded w-full focus:outline-hidden focus:ring-2 focus:ring-blue-500",disabled:t(e).processing},[s[7]||(s[7]=o("option",{value:""},"None (Top Level)",-1)),(n(!0),i(h,null,w(p.parentDepartments,r=>(n(),i("option",{key:r.id,value:r.id},a(r.name),9,H))),128))],8,L),[[k,t(e).parent_id]]),t(e).errors.parent_id?(n(),i("div",O,a(t(e).errors.parent_id),1)):m("",!0)]),o("div",$,[s[9]||(s[9]=o("label",{class:"block font-semibold mb-1"},"Description",-1)),l(o("textarea",{"onUpdate:modelValue":s[3]||(s[3]=r=>t(e).description=r),rows:"3",class:"border px-3 py-2 rounded w-full focus:outline-hidden focus:ring-2 focus:ring-blue-500",disabled:t(e).processing},null,8,G),[[u,t(e).description]]),t(e).errors.description?(n(),i("div",I,a(t(e).errors.description),1)):m("",!0)]),o("div",J,[o("div",K,[l(o("input",{id:"is_active","onUpdate:modelValue":s[4]||(s[4]=r=>t(e).is_active=r),type:"checkbox",class:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded",disabled:t(e).processing},null,8,Q),[[D,t(e).is_active]]),s[10]||(s[10]=o("label",{for:"is_active",class:"ml-2 block text-sm text-gray-900"}," Active Department ",-1))])])]),o("div",R,[o("button",{type:"submit",class:"bg-blue-500 text-white px-6 py-3 rounded-lg hover:bg-blue-600 transition w-full sm:w-auto font-medium flex items-center justify-center gap-2",disabled:t(e).processing},[t(e).processing?(n(),i("svg",X,s[11]||(s[11]=[o("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),o("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)]))):m("",!0),t(e).processing?(n(),i("span",Y,"Updating Department...")):(n(),i("span",Z,"Update Department"))],8,W),C(t(V),{href:c.route("admin.departments.show",p.department.id),class:U(["bg-gray-300 text-gray-700 px-6 py-3 rounded-lg hover:bg-gray-400 transition w-full sm:w-auto text-center font-medium",{"pointer-events-none opacity-50":t(e).processing}])},{default:b(()=>s[12]||(s[12]=[N(" Cancel ")])),_:1},8,["href","class"])])],32)])]),_:1}))}});export{ne as default};
