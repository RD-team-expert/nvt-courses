import{d as _,C as h,l as S,o,w as m,e,t as a,n as f,a as r,f as i,u as l,b as y,P as p,j as b,W as x}from"./app-B991-cXh.js";import{_ as E}from"./AppLayout.vue_vue_type_script_setup_true_lang-DsVCsVB0.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-C3IHAuBP.js";import"./index-CWwBPrV7.js";const j={class:"container px-4 mx-auto py-6 sm:py-8 max-w-7xl"},M={class:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-6 sm:mb-8"},B={class:"text-2xl sm:text-3xl font-bold text-gray-800"},D={class:"course-details-grid grid grid-cols-1 lg:grid-cols-3 gap-6 sm:gap-8"},L={class:"lg:col-span-2 bg-white rounded-xl shadow-sm overflow-hidden transition-shadow duration-200 hover:shadow-md"},z={class:"course-image-container"},V=["src","alt"],H={key:1,class:"absolute inset-0 flex items-center justify-center bg-gray-100"},N={class:"p-6 sm:p-8"},P=["innerHTML"],T={class:"grid grid-cols-1 sm:grid-cols-2 gap-4 text-sm"},F={class:"bg-gray-50 p-4 rounded-lg transition-colors duration-200 hover:bg-gray-100"},W={class:"font-semibold text-gray-900"},Y={class:"bg-gray-50 p-4 rounded-lg transition-colors duration-200 hover:bg-gray-100"},$={class:"font-semibold text-gray-900"},I={key:0,class:"bg-gray-50 p-4 rounded-lg transition-colors duration-200 hover:bg-gray-100"},O={class:"font-semibold text-gray-900 capitalize"},R={key:1,class:"bg-gray-50 p-4 rounded-lg transition-colors duration-200 hover:bg-gray-100"},q={class:"font-semibold text-gray-900"},A={class:"enrollment-card bg-white rounded-xl shadow-sm overflow-hidden"},G={class:"p-6 sm:p-8"},J={key:0,class:"mb-6"},K=["disabled"],Q={key:0},U={key:1},X={key:2,class:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},Z={key:1,class:"space-y-6"},ee={class:"space-y-4"},se={class:"flex items-center p-4 bg-gray-50 rounded-lg transition-colors duration-200"},te={class:"font-medium text-gray-800"},oe={class:"bg-gray-50 p-4 rounded-lg"},re={key:0,class:"text-gray-700 leading-relaxed"},ne={key:1,class:"text-green-700 font-medium"},le=["disabled"],ae={key:0},ie={key:1},de={key:2,class:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},ce={key:1,class:"space-y-4"},fe=_({__name:"Show",props:{course:Object,isEnrolled:Boolean,userStatus:String},setup(s){const d=s,c=h({});function k(){console.log("Enrolling in course:",d.course.id),c.post(route("courses.enroll",d.course.id),{onSuccess:()=>{console.log("Enrollment successful"),x.reload({only:["isEnrolled","userStatus"]})},onError:n=>{console.error("Enrollment failed:",n)}})}const u=h({});function v(){u.post(route("courses.markCompleted",d.course.id),{onSuccess:()=>{console.log("Course marked as completed"),x.reload({only:["userStatus"]})},onError:n=>{console.error("Failed to mark course as completed:",n)}})}const w=n=>({pending:"Pending",in_progress:"In Progress",completed:"Completed"})[n]||n,g=n=>n?new Date(n).toLocaleDateString():"â€”",C=[{name:"Dashboard",href:route("dashboard")},{name:"Courses",href:route("courses.index")},{name:d.course.name,href:route("courses.show",d.course.id)}];return(n,t)=>(o(),S(E,{breadcrumbs:C},{default:m(()=>[e("div",j,[e("div",M,[e("h1",B,a(s.course.name),1),e("span",{class:f(["px-3 py-1.5 text-sm rounded-full shadow-sm transition-colors duration-200",{"bg-green-100 text-green-800":s.course.status==="in_progress","bg-yellow-100 text-yellow-800":s.course.status==="pending","bg-blue-100 text-blue-800":s.course.status==="completed"}])},a(w(s.course.status)),3)]),e("div",D,[e("div",L,[e("div",z,[s.course.image_path?(o(),r("img",{key:0,src:`/storage/${s.course.image_path}`,alt:s.course.name,class:"w-full h-full object-cover",loading:"lazy"},null,8,V)):(o(),r("div",H,t[0]||(t[0]=[e("svg",{class:"w-12 h-12 text-gray-300",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1",d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})],-1)])))]),e("div",N,[e("div",{class:"prose max-w-none mb-8",innerHTML:s.course.description},null,8,P),e("div",T,[e("div",F,[t[1]||(t[1]=e("p",{class:"text-gray-500 mb-1.5 font-medium"},"Start Date",-1)),e("p",W,a(g(s.course.start_date)),1)]),e("div",Y,[t[2]||(t[2]=e("p",{class:"text-gray-500 mb-1.5 font-medium"},"End Date",-1)),e("p",$,a(g(s.course.end_date)),1)]),s.course.level?(o(),r("div",I,[t[3]||(t[3]=e("p",{class:"text-gray-500 mb-1.5 font-medium"},"Level",-1)),e("p",O,a(s.course.level),1)])):i("",!0),s.course.duration?(o(),r("div",R,[t[4]||(t[4]=e("p",{class:"text-gray-500 mb-1.5 font-medium"},"Duration",-1)),e("p",q,a(s.course.duration)+" hours",1)])):i("",!0)])])]),e("div",A,[e("div",G,[t[10]||(t[10]=e("h2",{class:"text-xl sm:text-2xl font-semibold mb-6 text-gray-800"},"Course Enrollment",-1)),s.isEnrolled?(o(),r("div",Z,[e("div",ee,[e("div",se,[e("div",{class:f(["w-3 h-3 rounded-full mr-3",{"bg-green-500":s.userStatus==="completed","bg-blue-500":s.userStatus==="enrolled"}])},null,2),e("span",te,"Status: "+a(s.userStatus==="completed"?"Completed":"Enrolled"),1)]),e("div",oe,[s.userStatus==="enrolled"?(o(),r("p",re," You're currently enrolled in this course. Mark as completed when you've finished all the materials. ")):s.userStatus==="completed"?(o(),r("p",ne," You've completed this course. Congratulations! ðŸŽ‰ ")):i("",!0)])]),s.userStatus==="enrolled"?(o(),r("button",{key:0,onClick:v,class:"button-success w-full flex items-center justify-center gap-2",disabled:l(u).processing},[l(u).processing?(o(),r("span",ae,"Processing...")):(o(),r("span",ie,"Mark as Completed")),l(u).processing?i("",!0):(o(),r("svg",de,t[7]||(t[7]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"},null,-1)])))],8,le)):s.userStatus==="completed"?(o(),r("div",ce,[y(l(p),{href:n.route("courses.completion",s.course.id),class:"button-warning w-full flex items-center justify-center gap-2"},{default:m(()=>t[8]||(t[8]=[b(" Rate This Course "),e("svg",{class:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"})],-1)])),_:1},8,["href"]),y(l(p),{href:"/courses",class:"button-primary w-full flex items-center justify-center gap-2"},{default:m(()=>t[9]||(t[9]=[b(" Browse More Courses "),e("svg",{class:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})],-1)])),_:1})])):i("",!0)])):(o(),r("div",J,[t[6]||(t[6]=e("p",{class:"text-gray-600 mb-6 leading-relaxed"},"Enroll in this course to track your progress and get access to course materials.",-1)),e("button",{onClick:k,class:"button-primary w-full flex items-center justify-center gap-2",disabled:l(c).processing},[l(c).processing?(o(),r("span",Q,"Enrolling...")):(o(),r("span",U,"Enroll Now")),l(c).processing?i("",!0):(o(),r("svg",X,t[5]||(t[5]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 8l4 4m0 0l-4 4m4-4H3"},null,-1)])))],8,K)]))])])])])]),_:1}))}});export{fe as default};
