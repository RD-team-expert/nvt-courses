import{d as _,C as L,r as k,k as w,o,w as g,e,l as C,a as n,f as d,g as m,u as l,i as M,t as a,v as u,F as S,h as D,n as p,b as V,P as E,j}from"./app-iYB6CK9s.js";import{_ as $}from"./AdminLayout.vue_vue_type_script_setup_true_lang-BmAEUQ0k.js";import"./AppLayout.vue_vue_type_script_setup_true_lang-BOHGZ_58.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-B3PnW6xU.js";import"./index-BHiy4VMt.js";const N={class:"px-4 sm:px-0"},U={class:"grid grid-cols-1 md:grid-cols-2 gap-4 sm:gap-6 mb-6"},B={class:"col-span-1"},T=["disabled"],F={key:0,class:"text-red-600 text-sm mt-1"},H={class:"col-span-1"},q=["disabled"],z={key:0,class:"text-red-600 text-sm mt-1"},P={class:"col-span-full"},A=["disabled"],G={key:0,class:"text-red-600 text-sm mt-1"},I={class:"col-span-full"},O=["disabled"],Q={key:0,class:"text-red-600 text-sm mt-1"},R={key:0,class:"col-span-full"},J={class:"grid grid-cols-2 md:grid-cols-4 gap-3"},K=["id","value","onChange","checked","disabled"],W=["for"],X={key:0,class:"text-red-600 text-sm mt-1"},Y={key:0,class:"bg-gray-50 border rounded-lg p-4 mb-6"},Z={class:"flex items-center space-x-4"},ee={class:"text-sm font-bold"},se={class:"flex-1"},te={class:"text-sm font-medium text-gray-900"},le={class:"text-sm text-gray-500"},re={key:0,class:"text-xs text-gray-400 mt-1"},oe={class:"flex flex-col sm:flex-row gap-2 mb-4"},ne=["disabled"],ie={key:0,class:"animate-spin h-4 w-4",fill:"none",viewBox:"0 0 24 24"},ae={key:1},de={key:2},ce={class:"border-t pt-6"},me={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},fe=_({__name:"Create",props:{existingLevels:Array},setup(x){const b=x,s=L({code:"",name:"",hierarchy_level:"",description:"",can_manage_levels:[]}),v=k(b.existingLevels||[]);function f(){s.post("/admin/user-levels",{onSuccess:()=>{},onError:i=>{console.error("Validation errors:",i)}})}const c=()=>{const i=parseInt(s.hierarchy_level);i===1?(s.code="L1",s.name="Employee",s.description="Front-line employees with no direct reports",s.can_manage_levels=[]):i===2?(s.code="L2",s.name="Direct Manager",s.description="Team managers with direct reports",s.can_manage_levels=["L1"]):i===3?(s.code="L3",s.name="Senior Manager",s.description="Department heads and senior managers",s.can_manage_levels=["L1","L2"]):i===4&&(s.code="L4",s.name="Director",s.description="Executive level with multiple department oversight",s.can_manage_levels=["L1","L2","L3"])},h=i=>{const t=s.can_manage_levels.indexOf(i);t>-1?s.can_manage_levels.splice(t,1):s.can_manage_levels.push(i)},y=[{name:"Dashboard",href:route("dashboard")},{name:"User Levels",href:route("admin.user-levels.index")},{name:"Create Level",href:route("admin.user-levels.create")}];return(i,t)=>(o(),w($,{breadcrumbs:y},{default:g(()=>[e("div",N,[t[26]||(t[26]=e("h1",{class:"text-xl sm:text-2xl font-bold mb-4"},"Create New User Level",-1)),e("form",{onSubmit:C(f,["prevent"]),class:"max-w-2xl"},[e("div",U,[e("div",B,[t[9]||(t[9]=e("label",{class:"block font-semibold mb-1"},"Hierarchy Level",-1)),m(e("select",{"onUpdate:modelValue":t[0]||(t[0]=r=>l(s).hierarchy_level=r),onChange:c,class:"border px-3 py-2 rounded w-full focus:outline-hidden focus:ring-2 focus:ring-blue-500",disabled:l(s).processing,required:""},t[8]||(t[8]=[e("option",{value:""},"Select Level",-1),e("option",{value:"1"},"Level 1 (Employees)",-1),e("option",{value:"2"},"Level 2 (Managers)",-1),e("option",{value:"3"},"Level 3 (Senior Managers)",-1),e("option",{value:"4"},"Level 4 (Directors)",-1),e("option",{value:"5"},"Level 5 (Executive)",-1)]),40,T),[[M,l(s).hierarchy_level]]),t[10]||(t[10]=e("p",{class:"text-xs text-gray-500 mt-1"},"Higher numbers indicate higher authority levels",-1)),l(s).errors.hierarchy_level?(o(),n("div",F,a(l(s).errors.hierarchy_level),1)):d("",!0)]),e("div",H,[t[11]||(t[11]=e("label",{class:"block font-semibold mb-1"},"Level Code",-1)),m(e("input",{type:"text","onUpdate:modelValue":t[1]||(t[1]=r=>l(s).code=r),class:"border px-3 py-2 rounded w-full focus:outline-hidden focus:ring-2 focus:ring-blue-500",disabled:l(s).processing,maxlength:"10",placeholder:"e.g., L1, L2, MGR",required:""},null,8,q),[[u,l(s).code]]),t[12]||(t[12]=e("p",{class:"text-xs text-gray-500 mt-1"},"Short identifier (e.g., L1, L2, L3, L4)",-1)),l(s).errors.code?(o(),n("div",z,a(l(s).errors.code),1)):d("",!0)]),e("div",P,[t[13]||(t[13]=e("label",{class:"block font-semibold mb-1"},"Level Name",-1)),m(e("input",{type:"text","onUpdate:modelValue":t[2]||(t[2]=r=>l(s).name=r),class:"border px-3 py-2 rounded w-full focus:outline-hidden focus:ring-2 focus:ring-blue-500",disabled:l(s).processing,placeholder:"e.g., Employee, Direct Manager, Senior Manager",required:""},null,8,A),[[u,l(s).name]]),l(s).errors.name?(o(),n("div",G,a(l(s).errors.name),1)):d("",!0)]),e("div",I,[t[14]||(t[14]=e("label",{class:"block font-semibold mb-1"},"Description",-1)),m(e("textarea",{"onUpdate:modelValue":t[3]||(t[3]=r=>l(s).description=r),rows:"3",class:"border px-3 py-2 rounded w-full focus:outline-hidden focus:ring-2 focus:ring-blue-500",disabled:l(s).processing,placeholder:"Describe the responsibilities and scope of this level"},null,8,O),[[u,l(s).description]]),l(s).errors.description?(o(),n("div",Q,a(l(s).errors.description),1)):d("",!0)]),v.value.length>0?(o(),n("div",R,[t[15]||(t[15]=e("label",{class:"block font-semibold mb-2"},"Can Manage Levels",-1)),t[16]||(t[16]=e("p",{class:"text-sm text-gray-600 mb-3"},"Select which levels this level can manage:",-1)),e("div",J,[(o(!0),n(S,null,D(v.value,r=>(o(),n("div",{key:r.code,class:"flex items-center"},[e("input",{id:`manage_${r.code}`,type:"checkbox",value:r.code,onChange:ue=>h(r.code),checked:l(s).can_manage_levels.includes(r.code),class:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded",disabled:l(s).processing},null,40,K),e("label",{for:`manage_${r.code}`,class:"ml-2 block text-sm text-gray-900"},a(r.code)+" - "+a(r.name),9,W)]))),128))]),t[17]||(t[17]=e("p",{class:"text-xs text-gray-500 mt-2"},"Leave empty if this level cannot manage other users",-1)),l(s).errors.can_manage_levels?(o(),n("div",X,a(l(s).errors.can_manage_levels),1)):d("",!0)])):d("",!0)]),l(s).code?(o(),n("div",Y,[t[18]||(t[18]=e("h3",{class:"text-sm font-medium text-gray-900 mb-2"},"Preview",-1)),e("div",Z,[e("div",{class:p(["shrink-0 h-12 w-12 rounded-full flex items-center justify-center",{"bg-blue-100 text-blue-600":l(s).hierarchy_level==1,"bg-green-100 text-green-600":l(s).hierarchy_level==2,"bg-orange-100 text-orange-600":l(s).hierarchy_level==3,"bg-red-100 text-red-600":l(s).hierarchy_level==4,"bg-purple-100 text-purple-600":l(s).hierarchy_level>=5}])},[e("span",ee,a(l(s).code),1)],2),e("div",se,[e("div",te,a(l(s).name||"Level Name"),1),e("div",le,"Hierarchy Level "+a(l(s).hierarchy_level||"?"),1),l(s).can_manage_levels.length>0?(o(),n("div",re," Can manage: "+a(l(s).can_manage_levels.join(", ")),1)):d("",!0)])])])):d("",!0),e("div",oe,[e("button",{type:"submit",class:"bg-blue-500 text-white px-6 py-3 rounded-lg hover:bg-blue-600 transition w-full sm:w-auto font-medium flex items-center justify-center gap-2",disabled:l(s).processing},[l(s).processing?(o(),n("svg",ie,t[19]||(t[19]=[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)]))):d("",!0),l(s).processing?(o(),n("span",ae,"Creating Level...")):(o(),n("span",de,"Create User Level"))],8,ne),V(l(E),{href:i.route("admin.user-levels.index"),class:p(["bg-gray-300 text-gray-700 px-6 py-3 rounded-lg hover:bg-gray-400 transition w-full sm:w-auto text-center font-medium",{"pointer-events-none opacity-50":l(s).processing}])},{default:g(()=>t[20]||(t[20]=[j(" Cancel ")])),_:1},8,["href","class"])]),e("div",ce,[t[25]||(t[25]=e("h3",{class:"text-lg font-medium text-gray-900 mb-4"},"Quick Setup Templates",-1)),e("div",me,[e("div",{class:"border rounded-lg p-4 hover:border-blue-300 transition-colors cursor-pointer",onClick:t[4]||(t[4]=r=>{l(s).hierarchy_level="1",c()})},t[21]||(t[21]=[e("div",{class:"flex items-center space-x-3"},[e("div",{class:"h-8 w-8 bg-blue-100 text-blue-600 rounded-full flex items-center justify-center"},[e("span",{class:"text-xs font-bold"},"L1")]),e("div",null,[e("div",{class:"text-sm font-medium"},"Employee Level"),e("div",{class:"text-xs text-gray-500"},"Front-line employees")])],-1)])),e("div",{class:"border rounded-lg p-4 hover:border-blue-300 transition-colors cursor-pointer",onClick:t[5]||(t[5]=r=>{l(s).hierarchy_level="2",c()})},t[22]||(t[22]=[e("div",{class:"flex items-center space-x-3"},[e("div",{class:"h-8 w-8 bg-green-100 text-green-600 rounded-full flex items-center justify-center"},[e("span",{class:"text-xs font-bold"},"L2")]),e("div",null,[e("div",{class:"text-sm font-medium"},"Manager Level"),e("div",{class:"text-xs text-gray-500"},"Team managers")])],-1)])),e("div",{class:"border rounded-lg p-4 hover:border-blue-300 transition-colors cursor-pointer",onClick:t[6]||(t[6]=r=>{l(s).hierarchy_level="3",c()})},t[23]||(t[23]=[e("div",{class:"flex items-center space-x-3"},[e("div",{class:"h-8 w-8 bg-orange-100 text-orange-600 rounded-full flex items-center justify-center"},[e("span",{class:"text-xs font-bold"},"L3")]),e("div",null,[e("div",{class:"text-sm font-medium"},"Senior Manager"),e("div",{class:"text-xs text-gray-500"},"Department heads")])],-1)])),e("div",{class:"border rounded-lg p-4 hover:border-blue-300 transition-colors cursor-pointer",onClick:t[7]||(t[7]=r=>{l(s).hierarchy_level="4",c()})},t[24]||(t[24]=[e("div",{class:"flex items-center space-x-3"},[e("div",{class:"h-8 w-8 bg-red-100 text-red-600 rounded-full flex items-center justify-center"},[e("span",{class:"text-xs font-bold"},"L4")]),e("div",null,[e("div",{class:"text-sm font-medium"},"Director Level"),e("div",{class:"text-xs text-gray-500"},"Executive level")])],-1)]))])])],32)])]),_:1}))}});export{fe as default};
