import{d as We,r as h,C as R,c as ce,g as p,o as d,w as o,e as r,b as t,a as v,h as w,u as e,f as a,F as S,i as L,t as u,j as M,s as _e,v as ve,W as fe}from"./app-C__QVaju.js";import{_ as Ye}from"./AdminLayout.vue_vue_type_script_setup_true_lang-COUzsA74.js";import{_ as y}from"./Button.vue_vue_type_script_setup_true_lang-3wUGolNO.js";import{_ as V}from"./Card.vue_vue_type_script_setup_true_lang-C6NTCksb.js";import{_ as U}from"./CardContent.vue_vue_type_script_setup_true_lang-CVVI4jBC.js";import{_ as G}from"./CardDescription.vue_vue_type_script_setup_true_lang-uH9K1n7e.js";import{_ as Z}from"./CardHeader.vue_vue_type_script_setup_true_lang-EmAvtNmd.js";import{_ as O}from"./CardTitle.vue_vue_type_script_setup_true_lang-D-QOz8Vl.js";import{_ as D}from"./index-C7BOh4kc.js";import{_ as k}from"./Input.vue_vue_type_script_setup_true_lang-aF8VS1eW.js";import{_ as x}from"./Label.vue_vue_type_script_setup_true_lang-B_8So5-r.js";import{_ as pe}from"./Textarea.vue_vue_type_script_setup_true_lang-pTkEcb9U.js";import{_ as xe,a as ye,b as be,c as ge}from"./DialogTitle.vue_vue_type_script_setup_true_lang-BJMnxhPZ.js";import{_ as we}from"./DialogDescription.vue_vue_type_script_setup_true_lang-_LIZ4YbB.js";import{_ as he}from"./DialogFooter.vue_vue_type_script_setup_true_lang-CsbWVKre.js";import{_ as ee,a as se,b as te,c as le,d as oe,e as re,f as ae,g as ne}from"./AlertDialogTitle.vue_vue_type_script_setup_true_lang-CIijhgGk.js";import{_ as ie}from"./Separator.vue_vue_type_script_setup_true_lang-BmbCCT5w.js";import{_ as Ce,a as ke}from"./index-Dhf8RtHl.js";import{P as N}from"./plus-xX-cp11Z.js";import{m as de}from"./AppLayout.vue_vue_type_script_setup_true_lang-B2Dge6gk.js";import{S as He}from"./square-pen-C5MDid9K.js";import{T as A}from"./trash-2-Cox1oXJh.js";import{T as $e}from"./tag-DJzROhew.js";import{F as Je}from"./file-text-B2QdJJTO.js";import{C as Ke}from"./chart-column-DnDZxk8r.js";import{L as W}from"./loader-circle-DKQC5p7r.js";import{C as Y}from"./circle-check-big-Bfe2MAlp.js";import{D as Qe}from"./dollar-sign-CTFGr7Q1.js";import{L as Xe}from"./layers-7T_vYtfE.js";import{T as H}from"./triangle-alert-C11pQW2R.js";import{C as J}from"./circle-alert-Cj1Nd1f6.js";import"./index-Eaggz7Xa.js";import"./index-DU9IJCLr.js";import"./_plugin-vue_export-helper-DTeMU56P.js";import"./useForwardPropsEmits-BEVKN6n0.js";import"./useForwardExpose-BLcFDH4t.js";import"./Presence-BKN0Rp2q.js";import"./ConfigProvider-CTQWQfDl.js";import"./Teleport-C5XQXQh9.js";import"./handleAndDispatchCustomEvent-ChOKVcqp.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-B2uDP-vU.js";import"./clock-8P7QZ8ho.js";const Ze={class:"mx-auto max-w-7xl py-8 px-4 sm:px-6 lg:px-8"},es={class:"mb-8 flex items-center justify-between"},ss={key:0,class:"space-y-6"},ts={class:"flex items-center justify-between"},ls={key:0},os={class:"flex space-x-2"},rs={class:"flex items-center justify-between mb-4"},as={class:"flex items-center gap-2"},ns={key:0,class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3"},is={class:"flex items-center justify-between"},ds={class:"flex-1"},us={class:"text-sm font-medium"},ms={class:"mt-1 flex items-center gap-2"},cs={key:0,class:"text-xs text-muted-foreground mt-1"},_s={class:"mx-auto flex items-center justify-center h-16 w-16 rounded-full bg-primary/10 mb-4"},vs={class:"flex items-center gap-3"},fs={class:"flex items-center justify-center h-10 w-10 rounded-lg bg-primary/10"},ps={class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4"},xs={class:"flex justify-end pt-4"},ys={class:"flex items-center gap-3"},bs={class:"flex items-center justify-center h-10 w-10 rounded-lg bg-green-100"},gs={class:"flex-1"},ws={key:0,class:"mb-8"},hs={class:"flex items-center gap-2 mb-4"},Cs={class:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4 mb-6"},ks={class:"space-y-3"},$s={class:"flex items-center justify-between"},Ts={class:"space-y-1"},Vs={class:"text-sm text-muted-foreground"},Us={class:"text-lg font-bold text-green-600"},Ss={class:"text-sm mt-1"},Ls=["href"],Ms={class:"flex items-center gap-2 mb-4"},As={class:"space-y-4"},Es={class:"grid grid-cols-1 lg:grid-cols-6 gap-4 items-end"},js={class:"lg:col-span-1"},Ds=["id","onUpdate:modelValue","onChange"],Ns=["value"],Fs={class:"lg:col-span-1"},qs=["id","onUpdate:modelValue","disabled"],Is=["value"],zs={class:"lg:col-span-1"},Bs={class:"lg:col-span-1"},Ps={class:"lg:col-span-1"},Rs={class:"lg:col-span-1 flex justify-end"},Gs={key:0,class:"mt-4 p-3 bg-muted/50 rounded-md"},Os={class:"text-xs text-muted-foreground"},Ws={class:"font-medium"},Ys={class:"font-medium"},Hs={class:"font-semibold text-green-600"},Js={class:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-3 sm:space-y-0 pt-4"},Ks={class:"flex items-center gap-3 mb-2"},Qs={class:"flex items-center justify-center h-12 w-12 rounded-full bg-primary/10"},Xs={class:"space-y-2"},Zs={key:0,class:"text-sm text-destructive flex items-center"},et={class:"space-y-2"},st={key:0,class:"text-sm text-destructive flex items-center"},tt={class:"space-y-2"},lt={class:"flex items-center gap-3 mb-2"},ot={class:"flex items-center justify-center h-12 w-12 rounded-full bg-blue-100"},rt={class:"font-medium"},at={class:"space-y-2"},nt={key:0,class:"text-sm text-destructive flex items-center"},it={class:"space-y-2"},dt={class:"text-xs text-muted-foreground"},ut={key:0,class:"text-sm text-destructive flex items-center"},mt={class:"space-y-2"},ct={class:"flex items-start gap-3"},_t={class:"flex items-center justify-center h-12 w-12 rounded-full bg-destructive/10"},vt={class:"flex-1"},ft={class:"font-semibold"},pt={class:"text-center"},xt={class:"mx-auto flex items-center justify-center h-16 w-16 rounded-full bg-destructive/10 mb-4"},yt={class:"font-semibold"},bt={class:"text-center"},gt={class:"mx-auto flex items-center justify-center h-16 w-16 rounded-full bg-yellow-100 mb-4"},dl=We({__name:"Index",props:{configs:{},incentives:{},userLevels:{}},setup(Te){const c=Te,F=h(!1),$=h(!1),K=h(!1),q=h(!1),I=h(!1),z=h(!1),b=h(null),E=h(null),j=h(null),B=h(null),Ve=[{name:"Dashboard",href:route("dashboard")},{name:"Evaluations",href:route("admin.evaluations.index")},{name:"Configurations",href:null}],_=R({name:"",max_score:0,description:""}),f=R({type_name:"",score_value:0,description:""}),C=R({total_score:0,config_scores:{}}),g=R({incentives:c.incentives&&c.incentives.length>0?c.incentives.map(n=>({user_level_id:n.user_level_id||null,user_level_tier_id:n.user_level_tier_id||null,min_score:n.min_score||0,max_score:n.max_score||0,incentive_amount:parseFloat(n.incentive_amount.toString())||0})):[{user_level_id:null,user_level_tier_id:null,min_score:0,max_score:0,incentive_amount:0}]}),Q=ce(()=>c.configs&&Array.isArray(c.configs)&&c.configs.length>0&&c.configs.every(n=>n&&typeof n=="object")),ue=ce(()=>c.userLevels&&Array.isArray(c.userLevels)&&c.userLevels.length>0);Q.value&&c.configs.forEach(n=>{n&&n.id&&(C.config_scores[n.id]=n.max_score||0)});const Ue=n=>{if(!n||!c.userLevels)return[];const s=c.userLevels.find(l=>l.id===n);return s?s.tiers:[]},Se=n=>{g.incentives[n].user_level_tier_id=null},Le=n=>{if(!n||!c.userLevels)return"Unknown Level";const s=c.userLevels.find(l=>l.id===n);return s?`${s.name} (${s.code})`:"Unknown Level"},Me=n=>{if(!n||!c.userLevels)return"Unknown Tier";for(const s of c.userLevels){const l=s.tiers.find(i=>i.id===n);if(l)return`${l.tier_name} (T${l.tier_order})`}return"Unknown Tier"},Ae=(n,s)=>{const l=n/s*100;return l>=90?"default":l>=75?"secondary":l>=50?"outline":"destructive"},P=()=>{F.value=!1,$.value=!1,_.reset(),_.clearErrors()},X=()=>{K.value=!1,f.reset(),f.clearErrors(),b.value=null},Ee=()=>{_.post(route("admin.evaluations.store"),{onSuccess:()=>{P()}})},je=n=>{n&&(_.name=n.name||"",_.max_score=n.max_score||0,_.description=n.description||"",b.value=n,$.value=!0)},De=()=>{var n;(n=b.value)!=null&&n.id&&_.put(route("admin.evaluations.update",b.value.id),{onSuccess:()=>{P(),b.value=null}})},Ne=n=>{E.value=n,q.value=!0},Fe=()=>{var n;(n=E.value)!=null&&n.id&&fe.delete(route("admin.evaluations.destroy",E.value.id),{onSuccess:()=>{q.value=!1,E.value=null}})},me=n=>{n&&(b.value=n,f.reset(),f.clearErrors(),K.value=!0)},qe=()=>{var n;(n=b.value)!=null&&n.id&&f.post(route("admin.evaluations.types.store",b.value.id),{onSuccess:()=>{X()}})},Ie=n=>{j.value=n,I.value=!0},ze=()=>{var n;(n=j.value)!=null&&n.id&&fe.delete(route("admin.evaluations.types.destroy",j.value.id),{onSuccess:()=>{I.value=!1,j.value=null},onError:s=>{console.error("Delete failed:",s)}})},Be=()=>{C.post(route("admin.evaluations.set-total-score"))},Pe=()=>{g.post(route("admin.evaluations.set-incentives"),{onSuccess:()=>{},onError:n=>{console.error("Incentive save errors:",n)}})},Re=()=>{g.incentives.push({user_level_id:null,user_level_tier_id:null,min_score:0,max_score:0,incentive_amount:0})},Ge=n=>{g.incentives.length<=1||(B.value=n,z.value=!0)},Oe=()=>{B.value!==null&&g.incentives.length>1&&g.incentives.splice(B.value,1),z.value=!1,B.value=null};return(n,s)=>(d(),p(Ye,{breadcrumbs:Ve},{default:o(()=>[r("div",Ze,[r("div",es,[s[14]||(s[14]=r("div",null,[r("h1",{class:"text-3xl font-bold"},"Evaluation Configurations"),r("p",{class:"mt-2 text-sm text-muted-foreground"}," Manage evaluation categories, types, scoring, and level + tier based incentive structures ")],-1)),t(e(y),{onClick:s[0]||(s[0]=l=>F.value=!0)},{default:o(()=>[t(e(N),{class:"mr-2 h-4 w-4"}),s[13]||(s[13]=a(" Add Category "))]),_:1})]),Q.value?(d(),v("div",ss,[(d(!0),v(S,null,L(n.configs,l=>(d(),p(e(V),{key:(l==null?void 0:l.id)||Math.random(),class:"hover:shadow-md transition-shadow duration-200"},{default:o(()=>[t(e(Z),null,{default:o(()=>[r("div",ts,[r("div",null,[t(e(O),{class:"flex items-center gap-2"},{default:o(()=>[t(e(de),{class:"h-5 w-5"}),a(" "+u((l==null?void 0:l.name)||"Unnamed Category"),1)]),_:2},1024),t(e(G),{class:"mt-1"},{default:o(()=>[a(" Max Score: "+u((l==null?void 0:l.max_score)||0)+" points ",1),l!=null&&l.description?(d(),v("span",ls," â€¢ "+u(l.description),1)):w("",!0)]),_:2},1024)]),r("div",os,[t(e(y),{onClick:i=>je(l),variant:"outline",size:"sm"},{default:o(()=>[t(e(He),{class:"mr-1 h-4 w-4"}),s[15]||(s[15]=a(" Edit "))]),_:2},1032,["onClick"]),t(e(y),{onClick:i=>Ne(l),variant:"outline",size:"sm",class:"text-destructive hover:text-destructive"},{default:o(()=>[t(e(A),{class:"mr-1 h-4 w-4"}),s[16]||(s[16]=a(" Delete "))]),_:2},1032,["onClick"])])])]),_:2},1024),t(e(U),null,{default:o(()=>[r("div",null,[r("div",rs,[r("div",as,[t(e($e),{class:"h-4 w-4"}),t(e(x),{class:"text-sm font-medium"},{default:o(()=>s[17]||(s[17]=[a("Evaluation Types")])),_:1})]),t(e(y),{onClick:i=>me(l),variant:"outline",size:"sm"},{default:o(()=>[t(e(N),{class:"mr-1 h-4 w-4"}),s[18]||(s[18]=a(" Add Type "))]),_:2},1032,["onClick"])]),l!=null&&l.types&&l.types.length>0?(d(),v("div",ns,[(d(!0),v(S,null,L(l.types,i=>(d(),p(e(V),{key:(i==null?void 0:i.id)||Math.random(),class:"relative hover:shadow-sm transition-shadow duration-200"},{default:o(()=>[t(e(U),{class:"p-4"},{default:o(()=>[r("div",is,[r("div",ds,[r("p",us,u((i==null?void 0:i.type_name)||"Unnamed Type"),1),r("div",ms,[t(e(D),{variant:Ae((i==null?void 0:i.score_value)||0,(l==null?void 0:l.max_score)||100),class:"text-xs"},{default:o(()=>[a(u((i==null?void 0:i.score_value)||0)+" pts ",1)]),_:2},1032,["variant"])]),i!=null&&i.description?(d(),v("p",cs,u(i.description),1)):w("",!0)]),t(e(y),{onClick:m=>Ie(i),variant:"ghost",size:"sm",class:"h-8 w-8 p-0 text-destructive hover:text-destructive"},{default:o(()=>[t(e(A),{class:"h-4 w-4"})]),_:2},1032,["onClick"])])]),_:2},1024)]),_:2},1024))),128))])):(d(),p(e(V),{key:1,class:"border-dashed"},{default:o(()=>[t(e(U),{class:"flex flex-col items-center justify-center py-8 text-center"},{default:o(()=>[t(e(Je),{class:"h-8 w-8 text-muted-foreground mb-2"}),s[20]||(s[20]=r("p",{class:"text-sm text-muted-foreground mb-4"}," No evaluation types configured ",-1)),t(e(y),{onClick:i=>me(l),variant:"outline",size:"sm"},{default:o(()=>s[19]||(s[19]=[a(" Add your first type ")])),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024))])]),_:2},1024)]),_:2},1024))),128))])):(d(),p(e(V),{key:1,class:"border-dashed"},{default:o(()=>[t(e(U),{class:"flex flex-col items-center justify-center py-12 text-center"},{default:o(()=>[r("div",_s,[t(e(de),{class:"h-8 w-8 text-primary"})]),t(e(O),{class:"mb-2"},{default:o(()=>s[21]||(s[21]=[a("No evaluation configurations")])),_:1}),t(e(G),{class:"mb-6 max-w-sm"},{default:o(()=>s[22]||(s[22]=[a(" Get started by creating your first evaluation category to organize your assessment criteria. ")])),_:1}),t(e(y),{onClick:s[1]||(s[1]=l=>F.value=!0)},{default:o(()=>[t(e(N),{class:"mr-2 h-4 w-4"}),s[23]||(s[23]=a(" Create First Category "))]),_:1})]),_:1})]),_:1})),Q.value?(d(),p(e(V),{key:2,class:"mt-8"},{default:o(()=>[t(e(Z),null,{default:o(()=>[r("div",vs,[r("div",fs,[t(e(Ke),{class:"h-6 w-6 text-primary"})]),r("div",null,[t(e(O),null,{default:o(()=>s[24]||(s[24]=[a("Total Score Configuration")])),_:1}),t(e(G),null,{default:o(()=>s[25]||(s[25]=[a(" Set the overall scoring distribution across categories ")])),_:1})])])]),_:1}),t(e(U),null,{default:o(()=>[r("form",{onSubmit:M(Be,["prevent"]),class:"space-y-4"},[r("div",ps,[r("div",null,[t(e(x),{for:"total_score"},{default:o(()=>s[26]||(s[26]=[a("Total Score")])),_:1}),t(e(k),{id:"total_score",modelValue:e(C).total_score,"onUpdate:modelValue":s[2]||(s[2]=l=>e(C).total_score=l),modelModifiers:{number:!0},type:"number",min:"1",placeholder:"Enter total score"},null,8,["modelValue"])]),(d(!0),v(S,null,L(n.configs,l=>(d(),v("div",{key:`total_${l==null?void 0:l.id}`,class:"space-y-1"},[t(e(x),{for:`config_score_${l==null?void 0:l.id}`},{default:o(()=>[a(u((l==null?void 0:l.name)||"Unnamed"),1)]),_:2},1032,["for"]),t(e(k),{id:`config_score_${l==null?void 0:l.id}`,modelValue:e(C).config_scores[l==null?void 0:l.id],"onUpdate:modelValue":i=>e(C).config_scores[l==null?void 0:l.id]=i,modelModifiers:{number:!0},type:"number",min:"0",max:(l==null?void 0:l.max_score)||0,placeholder:`Max: ${(l==null?void 0:l.max_score)||0}`},null,8,["id","modelValue","onUpdate:modelValue","max","placeholder"])]))),128))]),t(e(ie)),r("div",xs,[t(e(y),{type:"submit",disabled:e(C).processing},{default:o(()=>[e(C).processing?(d(),p(e(W),{key:0,class:"mr-2 h-4 w-4 animate-spin"})):(d(),p(e(Y),{key:1,class:"mr-2 h-4 w-4"})),a(" "+u(e(C).processing?"Saving...":"Save Total Score"),1)]),_:1},8,["disabled"])])],32)]),_:1})]),_:1})):w("",!0),t(e(V),{class:"mt-8"},{default:o(()=>[t(e(Z),null,{default:o(()=>[r("div",ys,[r("div",bs,[t(e(Qe),{class:"h-6 w-6 text-green-600"})]),r("div",gs,[t(e(O),{class:"flex items-center gap-2"},{default:o(()=>[s[28]||(s[28]=a(" Level + Tier Based Incentives ")),t(e(D),{variant:"secondary",class:"text-xs"},{default:o(()=>s[27]||(s[27]=[a("Enhanced")])),_:1})]),_:1}),t(e(G),null,{default:o(()=>s[29]||(s[29]=[a(" Define reward tiers based on user level, tier, and performance scores ")])),_:1})])])]),_:1}),t(e(U),null,{default:o(()=>[c.incentives&&c.incentives.length>0?(d(),v("div",ws,[r("div",hs,[t(e(Xe),{class:"h-5 w-5 text-muted-foreground"}),t(e(x),{class:"text-base font-semibold"},{default:o(()=>s[30]||(s[30]=[a("Current Incentive Structure")])),_:1}),t(e(D),{variant:"outline",class:"text-xs"},{default:o(()=>[a(u(c.incentives.length)+" rules",1)]),_:1})]),r("div",Cs,[(d(!0),v(S,null,L(c.incentives,l=>(d(),p(e(V),{key:l.id,class:"border-l-4 border-l-green-500 hover:shadow-md transition-shadow"},{default:o(()=>[t(e(U),{class:"p-4"},{default:o(()=>[r("div",ks,[r("div",$s,[t(e(D),{variant:"secondary",class:"text-xs"},{default:o(()=>{var i;return[a(u(((i=l.user_level)==null?void 0:i.name)||"Unknown Level"),1)]}),_:2},1024),t(e(D),{variant:"outline",class:"text-xs"},{default:o(()=>{var i;return[a(u(((i=l.user_level_tier)==null?void 0:i.tier_name)||"Unknown Tier"),1)]}),_:2},1024)]),r("div",Ts,[r("div",Vs," Score Range: "+u(l.min_score)+"-"+u(l.max_score),1),r("div",Us," $"+u(Number(l.incentive_amount).toFixed(2)),1)])])]),_:2},1024)]),_:2},1024))),128))]),t(e(ie))])):w("",!0),ue.value?w("",!0):(d(),p(e(Ce),{key:1,variant:"destructive",class:"mb-6"},{default:o(()=>[t(e(H),{class:"h-4 w-4"}),t(e(ke),null,{default:o(()=>[s[32]||(s[32]=r("div",{class:"font-medium"},"No User Levels Found",-1)),r("p",Ss,[s[31]||(s[31]=a(" You need to create user levels and tiers before configuring incentives. ")),r("a",{href:n.route("admin.user-levels.index"),class:"underline hover:no-underline"}," Go to User Level Management ",8,Ls)])]),_:1})]),_:1})),ue.value?(d(),v("form",{key:2,onSubmit:M(Pe,["prevent"]),class:"space-y-6"},[r("div",Ms,[t(e(N),{class:"h-5 w-5 text-muted-foreground"}),t(e(x),{class:"text-base font-semibold"},{default:o(()=>s[33]||(s[33]=[a("Configure New Incentives")])),_:1})]),r("div",As,[(d(!0),v(S,null,L(e(g).incentives,(l,i)=>(d(),p(e(V),{key:i,class:"relative hover:shadow-sm transition-all duration-200"},{default:o(()=>[t(e(U),{class:"p-6"},{default:o(()=>[r("div",Es,[r("div",js,[t(e(x),{for:`level_${i}`,class:"text-sm font-medium"},{default:o(()=>s[34]||(s[34]=[a("User Level")])),_:2},1032,["for"]),_e(r("select",{id:`level_${i}`,"onUpdate:modelValue":m=>l.user_level_id=m,onChange:m=>Se(i),class:"mt-1 block w-full border-input bg-background px-3 py-2 text-sm ring-offset-background border rounded-md focus:border-ring focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",required:""},[s[35]||(s[35]=r("option",{value:""},"Select Level",-1)),(d(!0),v(S,null,L(c.userLevels,m=>(d(),v("option",{key:m.id,value:m.id},u(m.name)+" ("+u(m.code)+") ",9,Ns))),128))],40,Ds),[[ve,l.user_level_id]])]),r("div",Fs,[t(e(x),{for:`tier_${i}`,class:"text-sm font-medium"},{default:o(()=>s[36]||(s[36]=[a("Tier")])),_:2},1032,["for"]),_e(r("select",{id:`tier_${i}`,"onUpdate:modelValue":m=>l.user_level_tier_id=m,class:"mt-1 block w-full border-input bg-background px-3 py-2 text-sm ring-offset-background border rounded-md focus:border-ring focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:opacity-50",disabled:!l.user_level_id,required:""},[s[37]||(s[37]=r("option",{value:""},"Select Tier",-1)),(d(!0),v(S,null,L(Ue(l.user_level_id),m=>(d(),v("option",{key:m.id,value:m.id},u(m.tier_name)+" (T"+u(m.tier_order)+") ",9,Is))),128))],8,qs),[[ve,l.user_level_tier_id]])]),r("div",zs,[t(e(x),{for:`min_score_${i}`,class:"text-sm font-medium"},{default:o(()=>s[38]||(s[38]=[a("Min Score")])),_:2},1032,["for"]),t(e(k),{id:`min_score_${i}`,modelValue:l.min_score,"onUpdate:modelValue":m=>l.min_score=m,modelModifiers:{number:!0},type:"number",min:"0",placeholder:"0",required:"",class:"mt-1"},null,8,["id","modelValue","onUpdate:modelValue"])]),r("div",Bs,[t(e(x),{for:`max_score_${i}`,class:"text-sm font-medium"},{default:o(()=>s[39]||(s[39]=[a("Max Score")])),_:2},1032,["for"]),t(e(k),{id:`max_score_${i}`,modelValue:l.max_score,"onUpdate:modelValue":m=>l.max_score=m,modelModifiers:{number:!0},type:"number",min:l.min_score||0,placeholder:"100",required:"",class:"mt-1"},null,8,["id","modelValue","onUpdate:modelValue","min"])]),r("div",Ps,[t(e(x),{for:`incentive_amount_${i}`,class:"text-sm font-medium"},{default:o(()=>s[40]||(s[40]=[a("Amount ($)")])),_:2},1032,["for"]),t(e(k),{id:`incentive_amount_${i}`,modelValue:l.incentive_amount,"onUpdate:modelValue":m=>l.incentive_amount=m,modelModifiers:{number:!0},type:"number",step:"0.01",min:"0",placeholder:"0.00",required:"",class:"mt-1"},null,8,["id","modelValue","onUpdate:modelValue"])]),r("div",Rs,[t(e(y),{onClick:M(m=>Ge(i),["prevent"]),type:"button",variant:"outline",size:"sm",disabled:e(g).incentives.length<=1,class:"text-destructive hover:text-destructive"},{default:o(()=>[t(e(A),{class:"h-4 w-4"})]),_:2},1032,["onClick","disabled"])])]),l.user_level_id&&l.user_level_tier_id?(d(),v("div",Gs,[r("div",Os,[s[41]||(s[41]=a(" Preview: Users in ")),r("span",Ws,u(Le(l.user_level_id)),1),s[42]||(s[42]=a(" at ")),r("span",Ys,u(Me(l.user_level_tier_id)),1),a(" with scores "+u(l.min_score)+"-"+u(l.max_score)+" will receive ",1),r("span",Hs,"$"+u(l.incentive_amount||0),1)])])):w("",!0)]),_:2},1024)]),_:2},1024))),128))]),t(e(ie)),r("div",Js,[t(e(y),{onClick:M(Re,["prevent"]),type:"button",variant:"outline"},{default:o(()=>[t(e(N),{class:"mr-2 h-4 w-4"}),s[43]||(s[43]=a(" Add Level+Tier Incentive "))]),_:1}),t(e(y),{type:"submit",disabled:e(g).processing},{default:o(()=>[e(g).processing?(d(),p(e(W),{key:0,class:"mr-2 h-4 w-4 animate-spin"})):(d(),p(e(Y),{key:1,class:"mr-2 h-4 w-4"})),a(" "+u(e(g).processing?"Saving...":"Save Incentives"),1)]),_:1},8,["disabled"])])],32)):w("",!0)]),_:1})]),_:1})]),t(e(xe),{open:F.value||$.value,"onUpdate:open":P},{default:o(()=>[t(e(ye),{class:"sm:max-w-md"},{default:o(()=>[t(e(be),null,{default:o(()=>[r("div",Ks,[r("div",Qs,[t(e(de),{class:"h-6 w-6 text-primary"})]),r("div",null,[t(e(ge),null,{default:o(()=>[a(u($.value?"Edit Category":"Create New Category"),1)]),_:1}),t(e(we),null,{default:o(()=>[a(u($.value?"Update the category information below":"Add a new evaluation category to organize your assessments"),1)]),_:1})])])]),_:1}),r("form",{onSubmit:s[6]||(s[6]=M(l=>$.value?De():Ee(),["prevent"])),class:"space-y-4"},[r("div",Xs,[t(e(x),{for:"category_name"},{default:o(()=>s[44]||(s[44]=[a("Category Name")])),_:1}),t(e(k),{id:"category_name",modelValue:e(_).name,"onUpdate:modelValue":s[3]||(s[3]=l=>e(_).name=l),placeholder:"Enter a descriptive category name",required:""},null,8,["modelValue"]),e(_).errors.name?(d(),v("span",Zs,[t(e(J),{class:"mr-1 h-4 w-4"}),a(" "+u(e(_).errors.name),1)])):w("",!0)]),r("div",et,[t(e(x),{for:"max_score"},{default:o(()=>s[45]||(s[45]=[a("Maximum Score")])),_:1}),t(e(k),{id:"max_score",modelValue:e(_).max_score,"onUpdate:modelValue":s[4]||(s[4]=l=>e(_).max_score=l),modelModifiers:{number:!0},type:"number",min:"1",max:"1000",placeholder:"Enter the maximum possible score",required:""},null,8,["modelValue"]),s[46]||(s[46]=r("p",{class:"text-xs text-muted-foreground"}," The highest score that can be assigned in this category ",-1)),e(_).errors.max_score?(d(),v("span",st,[t(e(J),{class:"mr-1 h-4 w-4"}),a(" "+u(e(_).errors.max_score),1)])):w("",!0)]),r("div",tt,[t(e(x),{for:"category_description"},{default:o(()=>s[47]||(s[47]=[a("Description (Optional)")])),_:1}),t(e(pe),{id:"category_description",modelValue:e(_).description,"onUpdate:modelValue":s[5]||(s[5]=l=>e(_).description=l),placeholder:"Provide additional details about this category...",rows:"3"},null,8,["modelValue"])]),t(e(he),null,{default:o(()=>[t(e(y),{type:"button",variant:"outline",onClick:P,disabled:e(_).processing},{default:o(()=>s[48]||(s[48]=[a(" Cancel ")])),_:1},8,["disabled"]),t(e(y),{type:"submit",disabled:e(_).processing},{default:o(()=>[e(_).processing?(d(),p(e(W),{key:0,class:"mr-2 h-4 w-4 animate-spin"})):(d(),p(e(Y),{key:1,class:"mr-2 h-4 w-4"})),a(" "+u(e(_).processing?$.value?"Updating...":"Creating...":$.value?"Update Category":"Create Category"),1)]),_:1},8,["disabled"])]),_:1})],32)]),_:1})]),_:1},8,["open"]),t(e(xe),{open:K.value,"onUpdate:open":X},{default:o(()=>[t(e(ye),{class:"sm:max-w-md"},{default:o(()=>{var l,i,m;return[t(e(be),null,{default:o(()=>[r("div",lt,[r("div",ot,[t(e($e),{class:"h-6 w-6 text-blue-600"})]),r("div",null,[t(e(ge),null,{default:o(()=>s[49]||(s[49]=[a("Add Evaluation Type")])),_:1}),t(e(we),null,{default:o(()=>{var T;return[s[50]||(s[50]=a(" Create a new evaluation type for ")),r("span",rt,u(((T=b.value)==null?void 0:T.name)||"this category"),1)]}),_:1})])])]),_:1}),r("form",{onSubmit:M(qe,["prevent"]),class:"space-y-4"},[r("div",at,[t(e(x),{for:"type_name"},{default:o(()=>s[51]||(s[51]=[a("Type Name")])),_:1}),t(e(k),{id:"type_name",modelValue:e(f).type_name,"onUpdate:modelValue":s[7]||(s[7]=T=>e(f).type_name=T),placeholder:"e.g., Excellent, Good, Fair, Poor",required:""},null,8,["modelValue"]),e(f).errors.type_name?(d(),v("span",nt,[t(e(J),{class:"mr-1 h-4 w-4"}),a(" "+u(e(f).errors.type_name),1)])):w("",!0)]),r("div",it,[t(e(x),{for:"score_value"},{default:o(()=>s[52]||(s[52]=[a("Score Value")])),_:1}),t(e(k),{id:"score_value",modelValue:e(f).score_value,"onUpdate:modelValue":s[8]||(s[8]=T=>e(f).score_value=T),modelModifiers:{number:!0},type:"number",min:"0",max:((l=b.value)==null?void 0:l.max_score)||0,placeholder:`Enter score (0 - ${((i=b.value)==null?void 0:i.max_score)||0})`,required:""},null,8,["modelValue","max","placeholder"]),r("p",dt," Maximum allowed: "+u(((m=b.value)==null?void 0:m.max_score)||0)+" points ",1),e(f).errors.score_value?(d(),v("span",ut,[t(e(J),{class:"mr-1 h-4 w-4"}),a(" "+u(e(f).errors.score_value),1)])):w("",!0)]),r("div",mt,[t(e(x),{for:"type_description"},{default:o(()=>s[53]||(s[53]=[a("Description (Optional)")])),_:1}),t(e(pe),{id:"type_description",modelValue:e(f).description,"onUpdate:modelValue":s[9]||(s[9]=T=>e(f).description=T),placeholder:"Describe this evaluation type...",rows:"2"},null,8,["modelValue"])]),t(e(he),null,{default:o(()=>[t(e(y),{type:"button",variant:"outline",onClick:X,disabled:e(f).processing},{default:o(()=>s[54]||(s[54]=[a(" Cancel ")])),_:1},8,["disabled"]),t(e(y),{type:"submit",disabled:e(f).processing},{default:o(()=>[e(f).processing?(d(),p(e(W),{key:0,class:"mr-2 h-4 w-4 animate-spin"})):(d(),p(e(Y),{key:1,class:"mr-2 h-4 w-4"})),a(" "+u(e(f).processing?"Adding...":"Add Type"),1)]),_:1},8,["disabled"])]),_:1})],32)]}),_:1})]),_:1},8,["open"]),t(e(ee),{open:q.value,"onUpdate:open":s[10]||(s[10]=l=>q.value=l)},{default:o(()=>[t(e(se),null,{default:o(()=>[t(e(te),null,{default:o(()=>[r("div",ct,[r("div",_t,[t(e(H),{class:"h-6 w-6 text-destructive"})]),r("div",vt,[t(e(le),null,{default:o(()=>s[55]||(s[55]=[a("Delete Evaluation Category")])),_:1}),t(e(oe),{class:"mt-2"},{default:o(()=>{var l;return[s[56]||(s[56]=a(" Are you sure you want to delete ")),r("span",ft,u(((l=E.value)==null?void 0:l.name)||"this category"),1),s[57]||(s[57]=a("? "))]}),_:1})])])]),_:1}),t(e(Ce),{variant:"destructive",class:"my-4"},{default:o(()=>[t(e(H),{class:"h-4 w-4"}),t(e(ke),null,{default:o(()=>s[58]||(s[58]=[r("p",{class:"font-medium mb-1"},"This action cannot be undone.",-1),r("p",null,"This will permanently delete:",-1),r("ul",{class:"list-disc list-inside mt-2 space-y-1 text-sm"},[r("li",null,"The evaluation category"),r("li",null,"All associated evaluation types"),r("li",null,"Any related scoring configurations")],-1)])),_:1})]),_:1}),t(e(re),null,{default:o(()=>[t(e(ae),null,{default:o(()=>s[59]||(s[59]=[a("Cancel")])),_:1}),t(e(ne),{onClick:Fe,class:"bg-destructive text-destructive-foreground hover:bg-destructive/90"},{default:o(()=>[t(e(A),{class:"mr-2 h-4 w-4"}),s[60]||(s[60]=a(" Delete Category "))]),_:1})]),_:1})]),_:1})]),_:1},8,["open"]),t(e(ee),{open:I.value,"onUpdate:open":s[11]||(s[11]=l=>I.value=l)},{default:o(()=>[t(e(se),null,{default:o(()=>[t(e(te),null,{default:o(()=>[r("div",pt,[r("div",xt,[t(e(A),{class:"h-8 w-8 text-destructive"})]),t(e(le),null,{default:o(()=>s[61]||(s[61]=[a("Delete Evaluation Type")])),_:1}),t(e(oe),null,{default:o(()=>{var l;return[s[62]||(s[62]=a(" Are you sure you want to delete the evaluation type ")),r("span",yt,u(((l=j.value)==null?void 0:l.type_name)||"this type"),1),s[63]||(s[63]=a("? This action cannot be undone. "))]}),_:1})])]),_:1}),t(e(re),null,{default:o(()=>[t(e(ae),null,{default:o(()=>s[64]||(s[64]=[a("Cancel")])),_:1}),t(e(ne),{onClick:ze,class:"bg-destructive text-destructive-foreground hover:bg-destructive/90"},{default:o(()=>[t(e(A),{class:"mr-2 h-4 w-4"}),s[65]||(s[65]=a(" Delete Type "))]),_:1})]),_:1})]),_:1})]),_:1},8,["open"]),t(e(ee),{open:z.value,"onUpdate:open":s[12]||(s[12]=l=>z.value=l)},{default:o(()=>[t(e(se),null,{default:o(()=>[t(e(te),null,{default:o(()=>[r("div",bt,[r("div",gt,[t(e(H),{class:"h-8 w-8 text-yellow-600"})]),t(e(le),null,{default:o(()=>s[66]||(s[66]=[a("Remove Incentive Tier")])),_:1}),t(e(oe),null,{default:o(()=>s[67]||(s[67]=[a(" Are you sure you want to remove this incentive tier? This action cannot be undone. ")])),_:1})])]),_:1}),t(e(re),null,{default:o(()=>[t(e(ae),null,{default:o(()=>s[68]||(s[68]=[a("Cancel")])),_:1}),t(e(ne),{onClick:Oe,class:"bg-yellow-600 text-white hover:bg-yellow-700"},{default:o(()=>s[69]||(s[69]=[a(" Remove Tier ")])),_:1})]),_:1})]),_:1})]),_:1},8,["open"])]),_:1}))}});export{dl as default};
