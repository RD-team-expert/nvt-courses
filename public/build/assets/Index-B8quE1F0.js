import{d as L,c as E,k as N,o as r,w as b,e,b as _,u as f,P as v,j as h,t as o,n as x,a as n,f as g,F as k,h as M,p as z}from"./app-iYB6CK9s.js";import{_ as F}from"./AppLayout.vue_vue_type_script_setup_true_lang-BOHGZ_58.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-B3PnW6xU.js";import"./index-BHiy4VMt.js";const H={class:"px-4 sm:px-0 max-w-7xl mx-auto"},I={class:"bg-linear-to-r from-purple-500 to-indigo-600 rounded-lg shadow p-6 mb-6 text-white"},$={class:"flex justify-between items-center"},O={class:"flex space-x-3"},A={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6"},Y={class:"bg-white rounded-lg shadow p-6 border border-gray-200"},G={class:"flex items-center"},U={class:"ml-4"},q={class:"text-2xl font-bold text-gray-900"},J={class:"bg-white rounded-lg shadow p-6 border border-gray-200"},K={class:"flex items-center"},Q={class:"ml-4"},R={class:"text-sm text-gray-500"},W={class:"bg-white rounded-lg shadow p-6 border border-gray-200"},X={class:"flex items-center"},Z={class:"ml-4"},ee={class:"text-2xl font-bold text-green-600"},te={class:"bg-white rounded-lg shadow p-6 border border-gray-200"},se={class:"flex items-center"},oe={class:"ml-4"},re={class:"flex items-center space-x-2"},le={key:0,class:"flex items-center text-xs"},ne={key:0,class:"h-3 w-3 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},ae={key:1,class:"h-3 w-3 text-red-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},ie={class:"bg-white rounded-lg shadow border border-gray-200"},de={key:0,class:"divide-y divide-gray-200"},ce={class:"flex items-start justify-between"},ue={class:"flex-1"},xe={class:"flex items-center space-x-3 mb-2"},ge={class:"text-lg font-medium text-gray-900"},me={key:0,class:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800 border border-blue-200"},be={class:"flex items-center space-x-6 mb-3"},fe={class:"text-xl font-semibold text-green-600"},ve={class:"text-sm font-medium text-gray-900"},he={key:0},ye={class:"text-sm font-medium text-gray-900"},pe={class:"mb-3"},we={class:"flex items-center justify-between text-sm text-gray-600 mb-1"},_e={class:"w-full bg-gray-200 rounded-full h-2"},ke={key:0,class:"bg-blue-50 border border-blue-200 rounded-lg p-3 mb-3"},Me={class:"text-sm text-blue-800"},je={key:0},Be={key:1},Se={key:1,class:"flex flex-wrap gap-2"},Ce={key:0,class:"inline-flex items-center px-2 py-1 rounded text-xs font-medium bg-gray-100 text-gray-500"},Pe={class:"ml-6"},Ee={key:1,class:"p-12 text-center text-gray-500"},Ne={class:"mt-6"},Te={key:2,class:"px-6 py-4 border-t border-gray-200"},Ve={class:"flex items-center justify-between"},De={class:"text-sm text-gray-700"},Le={class:"flex space-x-1"},$e=L({__name:"Index",props:{user:Object,evaluations:Object,stats:Object},setup(l){const c=l,T=[{name:"Dashboard",href:route("dashboard")},{name:"My Profile",href:route("user.profile.index")},{name:"My Evaluations",href:"#"}],i=E(()=>{var d;if(!((d=c.evaluations)!=null&&d.data)||c.evaluations.data.length===0)return 25;const a=c.evaluations.data.map(u=>u.total_score||0),t=Math.max(...a);return t<=5?5:t<=10?10:t<=20?20:t<=25?25:t<=50?50:t<=100?100:Math.ceil(t/10)*10}),y=a=>{const t=a/i.value*100;return t>=80?{label:"Exceptional",class:"bg-emerald-100 text-emerald-800 border-emerald-200",icon:"ðŸ†"}:t>=60?{label:"Excellent",class:"bg-green-100 text-green-800 border-green-200",icon:"â­"}:t>=40?{label:"Good",class:"bg-blue-100 text-blue-800 border-blue-200",icon:"ðŸ‘"}:t>=20?{label:"Average",class:"bg-yellow-100 text-yellow-800 border-yellow-200",icon:"ðŸ“Š"}:{label:"Needs Improvement",class:"bg-red-100 text-red-800 border-red-200",icon:"ðŸ“ˆ"}},p=a=>{const t=a/i.value*100;return t>=80?"text-emerald-600":t>=60?"text-green-600":t>=40?"text-yellow-600":"text-red-600"},j=a=>`$${parseFloat((a==null?void 0:a.toString())||"0").toFixed(2)}`,V=a=>new Date(a).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),m=E(()=>{var u;if(!((u=c.evaluations)!=null&&u.data)||c.evaluations.data.length<2)return null;const a=c.evaluations.data[0].total_score,t=c.evaluations.data[1].total_score,d=a-t;return{value:d,isPositive:d>0,isNeutral:d===0,percentage:t>0?Math.abs(d/t*100):0}});return(a,t)=>(r(),N(F,{breadcrumbs:T},{default:b(()=>{var d,u,B,S,C,P;return[e("div",H,[e("div",I,[e("div",$,[t[1]||(t[1]=e("div",null,[e("h1",{class:"text-3xl font-bold"},"My Performance Evaluations"),e("p",{class:"mt-2 text-purple-100"},"Track your performance progress and achievements")],-1)),e("div",O,[_(f(v),{href:a.route("user.profile.index"),class:"bg-white bg-opacity-20 text-white px-4 py-2 rounded-lg hover:bg-opacity-30 transition border border-white border-opacity-30"},{default:b(()=>t[0]||(t[0]=[h(" â† Back to Profile ")])),_:1},8,["href"])])])]),e("div",A,[e("div",Y,[e("div",G,[t[3]||(t[3]=e("div",{class:"shrink-0"},[e("div",{class:"w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center"},[e("svg",{class:"h-6 w-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})])])],-1)),e("div",U,[t[2]||(t[2]=e("p",{class:"text-sm font-medium text-gray-500"},"Total Evaluations",-1)),e("p",q,o(((d=l.stats)==null?void 0:d.total_evaluations)||0),1)])])]),e("div",J,[e("div",K,[t[5]||(t[5]=e("div",{class:"shrink-0"},[e("div",{class:"w-10 h-10 bg-green-500 rounded-lg flex items-center justify-center"},[e("svg",{class:"h-6 w-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 10V3L4 14h7v7l9-11h-7z"})])])],-1)),e("div",Q,[t[4]||(t[4]=e("p",{class:"text-sm font-medium text-gray-500"},"Average Score",-1)),e("p",{class:x(["text-2xl font-bold",p(((u=l.stats)==null?void 0:u.average_score)||0)])},[h(o(((B=l.stats)==null?void 0:B.average_score)||"0.0"),1),e("span",R,"/"+o(i.value),1)],2)])])]),e("div",W,[e("div",X,[t[7]||(t[7]=e("div",{class:"shrink-0"},[e("div",{class:"w-10 h-10 bg-yellow-500 rounded-lg flex items-center justify-center"},[e("svg",{class:"h-6 w-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})])])],-1)),e("div",Z,[t[6]||(t[6]=e("p",{class:"text-sm font-medium text-gray-500"},"Total Incentives",-1)),e("p",ee,o(j(((S=l.stats)==null?void 0:S.total_incentives)||0)),1)])])]),e("div",te,[e("div",se,[t[11]||(t[11]=e("div",{class:"shrink-0"},[e("div",{class:"w-10 h-10 bg-purple-500 rounded-lg flex items-center justify-center"},[e("svg",{class:"h-6 w-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"})])])],-1)),e("div",oe,[t[10]||(t[10]=e("p",{class:"text-sm font-medium text-gray-500"},"Best Score",-1)),e("div",re,[e("p",{class:x(["text-2xl font-bold",p(((C=l.stats)==null?void 0:C.best_score)||0)])},o(((P=l.stats)==null?void 0:P.best_score)||"0"),3),m.value&&!m.value.isNeutral?(r(),n("div",le,[m.value.isPositive?(r(),n("svg",ne,t[8]||(t[8]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 17l9.2-9.2M17 17V7m0 10H7"},null,-1)]))):(r(),n("svg",ae,t[9]||(t[9]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 7l-9.2 9.2M7 7v10m0-10h10"},null,-1)]))),e("span",{class:x(m.value.isPositive?"text-green-500":"text-red-500")},o(m.value.percentage.toFixed(1))+"% ",3)])):g("",!0)])])])])]),e("div",ie,[t[23]||(t[23]=e("div",{class:"px-6 py-4 border-b border-gray-200"},[e("h2",{class:"text-xl font-semibold text-gray-900"},"Evaluation History"),e("p",{class:"text-sm text-gray-600 mt-1"},"Your performance evaluations and feedback")],-1)),l.evaluations&&l.evaluations.data&&l.evaluations.data.length>0?(r(),n("div",de,[(r(!0),n(k,null,M(l.evaluations.data,(s,D)=>(r(),n("div",{key:s.id,class:"p-6 hover:bg-gray-50 transition-colors"},[e("div",ce,[e("div",ue,[e("div",xe,[e("h3",ge,o(s.course.name),1),e("span",{class:x(["inline-flex items-center px-2 py-1 rounded-full text-xs font-medium border",y(s.total_score).class])},o(y(s.total_score).icon)+" "+o(y(s.total_score).label),3),D===0?(r(),n("span",me," Latest ")):g("",!0)]),e("div",be,[e("div",null,[e("p",{class:x(["text-2xl font-bold",p(s.total_score)])},o(s.total_score),3),t[12]||(t[12]=e("p",{class:"text-xs text-gray-500"},"Total Score",-1))]),e("div",null,[e("p",fe,o(j(s.incentive_amount)),1),t[13]||(t[13]=e("p",{class:"text-xs text-gray-500"},"Incentive Earned",-1))]),e("div",null,[e("p",ve,o(V(s.evaluation_date)),1),t[14]||(t[14]=e("p",{class:"text-xs text-gray-500"},"Evaluation Date",-1))]),s.evaluated_by?(r(),n("div",he,[e("p",ye,o(s.evaluated_by.name),1),t[15]||(t[15]=e("p",{class:"text-xs text-gray-500"},"Evaluated By",-1))])):g("",!0)]),e("div",pe,[e("div",we,[t[16]||(t[16]=e("span",null,"Performance Score",-1)),e("span",null,o(s.total_score)+"/"+o(i.value)+" ("+o(Math.round(s.total_score/i.value*100))+"%)",1)]),e("div",_e,[e("div",{class:x(["h-2 rounded-full transition-all duration-500",{"bg-emerald-500":s.total_score/i.value>=.8,"bg-green-500":s.total_score/i.value>=.6&&s.total_score/i.value<.8,"bg-blue-500":s.total_score/i.value>=.4&&s.total_score/i.value<.6,"bg-yellow-500":s.total_score/i.value>=.2&&s.total_score/i.value<.4,"bg-red-500":s.total_score/i.value<.2}]),style:z(`width: ${Math.round(s.total_score/i.value*100)}%`)},null,6)])]),s.notes?(r(),n("div",ke,[e("p",Me,[t[17]||(t[17]=e("strong",null,"Manager Notes:",-1)),s.notes.length>150?(r(),n("span",je,o(s.notes.substring(0,150))+"... ",1)):(r(),n("span",Be,o(s.notes),1))])])):g("",!0),s.categories&&s.categories.length>0?(r(),n("div",Se,[(r(!0),n(k,null,M(s.categories.slice(0,4),w=>(r(),n("div",{key:w.id,class:"inline-flex items-center px-2 py-1 rounded text-xs font-medium bg-gray-100 text-gray-700 border border-gray-200"},o(w.category_name)+": "+o(w.score),1))),128)),s.categories.length>4?(r(),n("span",Ce," +"+o(s.categories.length-4)+" more ",1)):g("",!0)])):g("",!0)]),e("div",Pe,[_(f(v),{href:a.route("user.evaluations.show",s.id),class:"bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 transition text-sm font-medium"},{default:b(()=>t[18]||(t[18]=[h(" View Details ")])),_:2},1032,["href"])])])]))),128))])):(r(),n("div",Ee,[t[20]||(t[20]=e("svg",{class:"mx-auto h-16 w-16 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),t[21]||(t[21]=e("h3",{class:"mt-4 text-lg font-medium text-gray-900"},"No evaluations yet",-1)),t[22]||(t[22]=e("p",{class:"mt-2 text-sm text-gray-500"},"Your performance evaluations will appear here once they're completed by your manager.",-1)),e("div",Ne,[_(f(v),{href:a.route("user.profile.index"),class:"bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 transition"},{default:b(()=>t[19]||(t[19]=[h(" Back to Profile ")])),_:1},8,["href"])])])),l.evaluations&&l.evaluations.links&&l.evaluations.data.length>0?(r(),n("div",Te,[e("div",Ve,[e("div",De," Showing "+o(l.evaluations.from)+" to "+o(l.evaluations.to)+" of "+o(l.evaluations.total)+" evaluations ",1),e("div",Le,[(r(!0),n(k,null,M(l.evaluations.links,s=>(r(),N(f(v),{key:s.label,href:s.url,class:x(["px-3 py-2 text-sm rounded transition-colors",{"bg-blue-500 text-white":s.active,"text-blue-500 hover:bg-blue-50":!s.active&&s.url,"text-gray-400 cursor-not-allowed":!s.url}]),innerHTML:s.label},null,8,["href","class","innerHTML"]))),128))])])])):g("",!0)])])]}),_:1}))}});export{$e as default};
