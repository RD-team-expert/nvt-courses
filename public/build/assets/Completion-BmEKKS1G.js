import{a as l,o as n,e,C as Y,r as d,l as F,w as x,t as c,f as k,F as _,h as C,b as u,u as m,n as S,P as B,j as V,p as M,g as R,v as D}from"./app-DZVxe40-.js";import{_ as E}from"./AppLayout.vue_vue_type_script_setup_true_lang-C2MmS-Bh.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-BR5m-uMx.js";import"./index-CHFY6-AT.js";function j(s,i){return n(),l("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"fill-rule":"evenodd",d:"M10.788 3.21c.448-1.077 1.976-1.077 2.424 0l2.082 5.006 5.404.434c1.164.093 1.636 1.545.749 2.305l-4.117 3.527 1.257 5.273c.271 1.136-.964 2.033-1.96 1.425L12 18.354 7.373 21.18c-.996.608-2.231-.29-1.96-1.425l1.257-5.273-4.117-3.527c-.887-.76-.415-2.212.749-2.305l5.404-.434 2.082-5.005Z","clip-rule":"evenodd"})])}const L={class:"py-12"},O={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},P={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},T={class:"p-6 bg-white border-b border-gray-200"},$={class:"mb-6"},z={class:"text-2xl font-bold text-gray-800"},H={key:0,class:"mb-8 p-4 bg-green-50 rounded-lg"},U={class:"mt-2"},W={class:"flex items-center"},Z={class:"flex"},q={key:0,class:"mt-2"},A={class:"mt-1 text-gray-600"},G={class:"mt-4"},I={class:"mt-1 flex items-center"},J=["onClick"],K={key:0,class:"mt-2 text-sm text-red-600"},Q={class:"mt-1"},X={class:"flex items-center justify-between"},ee=["disabled"],ie={__name:"Completion",props:{course:Object,completion:Object},setup(s){var h,p,y,w;const i=s,f=Y({rating:((h=i.completion)==null?void 0:h.rating)||0,feedback:((p=i.completion)==null?void 0:p.feedback)||""}),g=d(((y=i.completion)==null?void 0:y.rating)||0),b=d(((w=i.completion)==null?void 0:w.feedback)||""),v=d({}),r=d(!1),N=()=>{f.rating=g.value,f.feedback=b.value,r.value=!0,f.post(route("courses.rating.submit",i.course.id),{onSuccess:()=>{r.value=!1},onError:a=>{v.value=a,r.value=!1}})};return(a,t)=>(n(),F(E,{title:"Course Completion"},{default:x(()=>[e("div",L,[e("div",O,[e("div",P,[e("div",T,[e("div",$,[e("h2",z,' Congratulations on completing "'+c(s.course.name)+'"! ',1),t[1]||(t[1]=e("p",{class:"mt-2 text-gray-600"}," We'd love to hear your feedback on this course. ",-1))]),s.completion&&s.completion.rating?(n(),l("div",H,[t[5]||(t[5]=e("h3",{class:"text-lg font-semibold text-green-700"}," You've already rated this course ",-1)),e("div",U,[e("div",W,[t[2]||(t[2]=e("span",{class:"text-gray-700 mr-2"},"Your rating:",-1)),e("div",Z,[(n(),l(_,null,C(5,o=>u(m(j),{key:o,class:S(["h-5 w-5",o<=s.completion.rating?"text-yellow-400":"text-gray-300"])},null,8,["class"])),64))])]),s.completion.feedback?(n(),l("div",q,[t[3]||(t[3]=e("span",{class:"text-gray-700"},"Your feedback:",-1)),e("p",A,c(s.completion.feedback),1)])):k("",!0)]),e("div",G,[u(m(B),{href:a.route("courses.show",s.course.id),class:"text-indigo-600 hover:text-indigo-800"},{default:x(()=>t[4]||(t[4]=[V(" Return to course ")])),_:1},8,["href"])])])):(n(),l("form",{key:1,onSubmit:M(N,["prevent"]),class:"space-y-6"},[e("div",null,[t[6]||(t[6]=e("label",{class:"block text-sm font-medium text-gray-700"}," How would you rate this course? ",-1)),e("div",I,[(n(),l(_,null,C(5,o=>e("button",{key:o,type:"button",onClick:te=>g.value=o,class:"focus:outline-none"},[u(m(j),{class:S(["h-8 w-8",o<=g.value?"text-yellow-400":"text-gray-300"])},null,8,["class"])],8,J)),64))]),v.value.rating?(n(),l("p",K,c(v.value.rating),1)):k("",!0)]),e("div",null,[t[7]||(t[7]=e("label",{for:"feedback",class:"block text-sm font-medium text-gray-700"}," Your feedback (optional) ",-1)),e("div",Q,[R(e("textarea",{id:"feedback","onUpdate:modelValue":t[0]||(t[0]=o=>b.value=o),rows:"4",class:"border px-3 py-2 rounded w-full focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Share your thoughts about this course..."},null,512),[[D,b.value]])])]),e("div",X,[u(m(B),{href:a.route("courses.show",s.course.id),class:"text-indigo-600 hover:text-indigo-800"},{default:x(()=>t[8]||(t[8]=[V(" Return to course ")])),_:1},8,["href"]),e("button",{type:"submit",class:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",disabled:r.value},c(r.value?"Submitting...":"Submit Feedback"),9,ee)])],32))])])])])]),_:1}))}};export{ie as default};
