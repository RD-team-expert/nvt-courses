import{d as y,C as _,l as k,o as n,w as b,e as s,p as w,g as u,a as i,f as a,u as o,v as c,t as d,i as f,b as g,P as V,j as C}from"./app-HrX2RBWd.js";import{_ as D}from"./AdminLayout.vue_vue_type_script_setup_true_lang-C2OV08At.js";import{E as U}from"./Editor-fIekrn7Q.js";import"./AppLayout.vue_vue_type_script_setup_true_lang-VZXSYjGU.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-Bg8MQd81.js";import"./index-DNBfp-oV.js";const j={class:"px-4 sm:px-0"},N={class:"grid grid-cols-1 md:grid-cols-2 gap-4 sm:gap-6 mb-6"},E={class:"col-span-full"},S={key:0,class:"text-red-600 text-sm mt-1"},T={class:"col-span-1"},B={key:0,class:"text-red-600 text-sm mt-1"},I={class:"col-span-1"},P={key:0,class:"text-red-600 text-sm mt-1"},O={class:"col-span-1"},M={key:0,class:"text-red-600 text-sm mt-1"},$={class:"col-span-1"},L={key:0,class:"text-red-600 text-sm mt-1"},h={class:"col-span-1"},q={key:0,class:"text-red-600 text-sm mt-1"},z={class:"col-span-full"},A={key:0,class:"text-red-600 text-sm mt-1"},F={key:1,class:"mt-2"},G=["src"],H={class:"col-span-full"},J={key:0,class:"text-red-600 text-sm mt-1"},K={class:"flex flex-col sm:flex-row gap-2 mb-4"},ee=y({__name:"Edit",props:{course:Object},setup(x){const r=x,m=p=>{if(!p)return"";const e=p.split("T")[0].split("-");if(e.length!==3){const l=new Date(p);return isNaN(l.getTime())?"":l.toISOString().split("T")[0]}return e.join("-")},t=_({name:r.course.name,description:r.course.description,start_date:m(r.course.start_date),end_date:m(r.course.end_date),status:r.course.status||"pending",level:r.course.level||"",duration:r.course.duration||"",image:null});function v(){t.start_date&&(t.start_date=m(t.start_date)),t.end_date&&(t.end_date=m(t.end_date)),t.post(`/admin/courses/${r.course.id}?_method=PUT`,{forceFormData:!0})}return(p,e)=>(n(),k(D,null,{default:b(()=>[s("div",j,[e[21]||(e[21]=s("h1",{class:"text-xl sm:text-2xl font-bold mb-4"},"Edit Course",-1)),s("form",{onSubmit:w(v,["prevent"]),class:"max-w-4xl"},[s("div",N,[s("div",E,[e[8]||(e[8]=s("label",{class:"block font-semibold mb-1"},"Course Name",-1)),u(s("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=l=>o(t).name=l),class:"border px-3 py-2 rounded w-full focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[c,o(t).name]]),o(t).errors.name?(n(),i("div",S,d(o(t).errors.name),1)):a("",!0)]),s("div",T,[e[10]||(e[10]=s("label",{class:"block font-semibold mb-1"},"Status",-1)),u(s("select",{"onUpdate:modelValue":e[1]||(e[1]=l=>o(t).status=l),class:"border px-3 py-2 rounded w-full focus:outline-none focus:ring-2 focus:ring-blue-500"},e[9]||(e[9]=[s("option",{value:"pending"},"Pending",-1),s("option",{value:"in_progress"},"In Progress",-1),s("option",{value:"completed"},"Completed",-1)]),512),[[f,o(t).status]]),o(t).errors.status?(n(),i("div",B,d(o(t).errors.status),1)):a("",!0)]),s("div",I,[e[12]||(e[12]=s("label",{class:"block font-semibold mb-1"},"Level (Optional)",-1)),u(s("select",{"onUpdate:modelValue":e[2]||(e[2]=l=>o(t).level=l),class:"border px-3 py-2 rounded w-full focus:outline-none focus:ring-2 focus:ring-blue-500"},e[11]||(e[11]=[s("option",{value:""},"Select Level",-1),s("option",{value:"beginner"},"Beginner",-1),s("option",{value:"intermediate"},"Intermediate",-1),s("option",{value:"advanced"},"Advanced",-1)]),512),[[f,o(t).level]]),o(t).errors.level?(n(),i("div",P,d(o(t).errors.level),1)):a("",!0)]),s("div",O,[e[13]||(e[13]=s("label",{class:"block font-semibold mb-1"},"Duration (hours)",-1)),u(s("input",{type:"number",step:"0.1","onUpdate:modelValue":e[3]||(e[3]=l=>o(t).duration=l),class:"border px-3 py-2 rounded w-full focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[c,o(t).duration]]),o(t).errors.duration?(n(),i("div",M,d(o(t).errors.duration),1)):a("",!0)]),s("div",$,[e[14]||(e[14]=s("label",{class:"block font-semibold mb-1"},"Start Date",-1)),u(s("input",{type:"date","onUpdate:modelValue":e[4]||(e[4]=l=>o(t).start_date=l),class:"border px-3 py-2 rounded w-full focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[c,o(t).start_date]]),o(t).errors.start_date?(n(),i("div",L,d(o(t).errors.start_date),1)):a("",!0)]),s("div",h,[e[15]||(e[15]=s("label",{class:"block font-semibold mb-1"},"End Date",-1)),u(s("input",{type:"date","onUpdate:modelValue":e[5]||(e[5]=l=>o(t).end_date=l),class:"border px-3 py-2 rounded w-full focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[c,o(t).end_date]]),o(t).errors.end_date?(n(),i("div",q,d(o(t).errors.end_date),1)):a("",!0)]),s("div",z,[e[17]||(e[17]=s("label",{class:"block font-semibold mb-1"},"Course Image (Optional)",-1)),s("input",{type:"file",onInput:e[6]||(e[6]=l=>o(t).image=l.target.files[0]),class:"border px-3 py-2 rounded w-full focus:outline-none focus:ring-2 focus:ring-blue-500"},null,32),o(t).errors.image?(n(),i("div",A,d(o(t).errors.image),1)):a("",!0),r.course.image_path?(n(),i("div",F,[e[16]||(e[16]=s("p",{class:"text-sm text-gray-600"},"Current image:",-1)),s("img",{src:`/storage/${r.course.image_path}`,alt:"Current course image",class:"mt-1 h-32 w-full sm:w-48 object-cover rounded"},null,8,G)])):a("",!0)]),s("div",H,[e[18]||(e[18]=s("label",{class:"block font-semibold mb-1"},"Description",-1)),g(o(U),{modelValue:o(t).description,"onUpdate:modelValue":e[7]||(e[7]=l=>o(t).description=l),"api-key":"r1racrxd2joy9wp9xp9sj91ka9j4m3humenifqvwtx9s6i3y",init:{toolbar_mode:"sliding",plugins:"anchor autolink charmap codesample emoticons image link lists media searchreplace table visualblocks wordcount",toolbar:"undo redo | blocks fontfamily fontsize | bold italic underline strikethrough | link image media table | align lineheight | numlist bullist indent outdent | emoticons charmap | removeformat",mobile:{menubar:!1,toolbar:"undo redo | bold italic | link | bullist numlist",toolbar_mode:"scrolling"}}},null,8,["modelValue"]),o(t).errors.description?(n(),i("div",J,d(o(t).errors.description),1)):a("",!0)])]),s("div",K,[e[20]||(e[20]=s("button",{type:"submit",class:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600 transition w-full sm:w-auto"}," Update Course ",-1)),g(o(V),{href:"/admin/courses",class:"bg-gray-300 text-gray-700 px-4 py-2 rounded hover:bg-gray-400 transition w-full sm:w-auto text-center mt-2 sm:mt-0"},{default:b(()=>e[19]||(e[19]=[C(" Cancel ")])),_:1})])],32)])]),_:1}))}});export{ee as default};
