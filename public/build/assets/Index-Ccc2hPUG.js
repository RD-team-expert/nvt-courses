import{d as v,k as x,o,w as i,e,b as m,u as d,P as u,j as l,a as n,f as h,F as y,h as b,t as a,n as f,W as k}from"./app-n_cIwlLT.js";import{_ as C}from"./AdminLayout.vue_vue_type_script_setup_true_lang-DEbUraED.js";import"./AppLayout.vue_vue_type_script_setup_true_lang-Rz_S81Vw.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-B9XjMpGI.js";import"./index-BgSmG8al.js";const _={class:"px-4 sm:px-0"},P={class:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-4 sm:mb-6 gap-4"},M={class:"flex flex-col sm:flex-row gap-2 w-full sm:w-auto"},N={class:"bg-white rounded-lg shadow overflow-hidden overflow-x-auto"},j={class:"min-w-full divide-y divide-gray-200"},A={class:"bg-white divide-y divide-gray-200"},B={class:"px-6 py-4 whitespace-nowrap"},L={class:"flex items-center"},z={class:"flex-shrink-0 h-10 w-10"},S=["src","alt"],T={key:1,class:"h-10 w-10 rounded-full bg-gray-300 flex items-center justify-center"},D={class:"text-sm font-medium text-gray-700"},E={class:"ml-4"},H={class:"text-sm font-medium text-gray-900"},V={class:"text-sm text-gray-500"},$={class:"px-6 py-4 whitespace-nowrap"},F={class:"px-6 py-4 whitespace-nowrap"},W={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},G={class:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium"},I=["onClick"],O={key:0,class:"text-center py-12"},U={class:"text-gray-500"},q={class:"mt-6"},J={key:1,class:"px-4 sm:px-6 py-3 bg-white border-t border-gray-200"},K={class:"flex items-center justify-between"},Q={class:"flex-1 flex justify-between sm:hidden"},R={key:1,class:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-400 bg-gray-100 cursor-not-allowed"},X={class:"text-sm text-gray-700"},Y={key:3,class:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-400 bg-gray-100 cursor-not-allowed"},Z={class:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between"},ee={class:"text-sm text-gray-700"},te={class:"font-medium"},se={class:"font-medium"},re={class:"font-medium"},oe={class:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination"},ne={key:1,class:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-gray-100 text-sm font-medium text-gray-400 cursor-not-allowed"},ae=["innerHTML"],le={key:3,class:"relative inline-flex items-center px-4 py-2 border bg-blue-500 border-blue-500 text-white text-sm font-medium"},ie={key:5,class:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-gray-100 text-sm font-medium text-gray-400 cursor-not-allowed"},ge=v({__name:"Index",props:{courses:Object},setup(s){const p=c=>{confirm("Are you sure you want to delete this course? This action cannot be undone.")&&k.delete(route("admin.courses.destroy",c),{preserveState:!0,onSuccess:()=>{alert("Course deleted successfully!")},onError:t=>{console.error("Delete failed:",t),alert("Failed to delete course. Please try again.")}})},w=[{name:"Dashboard",href:route("dashboard")},{name:"Course Management",href:route("admin.courses.index")}];return(c,t)=>(o(),x(C,{breadcrumbs:w},{default:i(()=>[e("div",_,[e("div",P,[t[3]||(t[3]=e("h1",{class:"text-xl sm:text-2xl font-bold"},"Manage Courses",-1)),e("div",M,[m(d(u),{href:c.route("admin.courses.create"),class:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600 transition w-full sm:w-auto text-center"},{default:i(()=>t[0]||(t[0]=[l(" Add New Course ")])),_:1},8,["href"]),m(d(u),{href:c.route("admin.assignments.create"),class:"bg-green-500 text-white px-4 py-2 rounded hover:bg-green-600 transition w-full sm:w-auto text-center"},{default:i(()=>t[1]||(t[1]=[l(" Assign Course ")])),_:1},8,["href"]),m(d(u),{href:c.route("admin.assignments.index"),class:"bg-green-500 text-white px-4 py-2 rounded hover:bg-green-600 transition w-full sm:w-auto text-center"},{default:i(()=>t[2]||(t[2]=[l(" Assign ")])),_:1},8,["href"])])]),e("div",N,[e("table",j,[t[5]||(t[5]=e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Course "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Status "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Privacy "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Enrolled "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Actions ")])],-1)),e("tbody",A,[(o(!0),n(y,null,b(s.courses.data||s.courses,r=>(o(),n("tr",{key:r.id},[e("td",B,[e("div",L,[e("div",z,[r.image_path?(o(),n("img",{key:0,class:"h-10 w-10 rounded-full object-cover",src:`/storage/${r.image_path}`,alt:r.name},null,8,S)):(o(),n("div",T,[e("span",D,a(r.name.charAt(0)),1)]))]),e("div",E,[e("div",H,a(r.name),1),e("div",V,a(r.level),1)])])]),e("td",$,[e("span",{class:f(["px-2 inline-flex text-xs leading-5 font-semibold rounded-full",{"bg-green-100 text-green-800":r.status==="in_progress","bg-yellow-100 text-yellow-800":r.status==="pending","bg-blue-100 text-blue-800":r.status==="completed"}])},a(r.status.replace("_"," ").replace(/\b\w/g,g=>g.toUpperCase())),3)]),e("td",F,[e("span",{class:f(["px-2 inline-flex text-xs leading-5 font-semibold rounded-full",{"bg-green-100 text-green-800":r.privacy==="public","bg-red-100 text-red-800":r.privacy==="private"}])},a(r.privacy==="public"?"🌍 Public":"🔒 Private"),3)]),e("td",W,a(r.enrolled_count||0)+" students ",1),e("td",G,[m(d(u),{href:`/admin/courses/${r.id}/edit`,class:"text-indigo-600 hover:text-indigo-900 mr-3 transition-colors"},{default:i(()=>t[4]||(t[4]=[l(" Edit ")])),_:2},1032,["href"]),e("button",{onClick:g=>p(r.id),class:"text-red-600 hover:text-red-900 transition-colors"}," Delete ",8,I)])]))),128))])]),!s.courses||!s.courses.data&&!s.courses.length||s.courses.data&&s.courses.data.length===0?(o(),n("div",O,[e("div",U,[t[7]||(t[7]=e("svg",{class:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.746 0 3.332.477 4.5 1.253v13C19.832 18.477 18.246 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})],-1)),t[8]||(t[8]=e("h3",{class:"mt-2 text-sm font-medium text-gray-900"},"No courses found",-1)),t[9]||(t[9]=e("p",{class:"mt-1 text-sm text-gray-500"},"Get started by creating a new course.",-1)),e("div",q,[m(d(u),{href:c.route("admin.courses.create"),class:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"},{default:i(()=>t[6]||(t[6]=[l(" Add New Course ")])),_:1},8,["href"])])])])):h("",!0),s.courses&&(s.courses.links||s.courses.last_page)&&s.courses.total>0?(o(),n("div",J,[e("div",K,[e("div",Q,[s.courses.prev_page_url?(o(),x(d(u),{key:0,href:s.courses.prev_page_url,class:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 transition-colors"},{default:i(()=>t[10]||(t[10]=[l(" Previous ")])),_:1},8,["href"])):(o(),n("span",R," Previous ")),e("span",X," Page "+a(s.courses.current_page||1)+" of "+a(s.courses.last_page||1),1),s.courses.next_page_url?(o(),x(d(u),{key:2,href:s.courses.next_page_url,class:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 transition-colors"},{default:i(()=>t[11]||(t[11]=[l(" Next ")])),_:1},8,["href"])):(o(),n("span",Y," Next "))]),e("div",Z,[e("div",null,[e("p",ee,[t[12]||(t[12]=l(" Showing ")),e("span",te,a(s.courses.from||1),1),t[13]||(t[13]=l(" to ")),e("span",se,a(s.courses.to||(s.courses.data?s.courses.data.length:0)),1),t[14]||(t[14]=l(" of ")),e("span",re,a(s.courses.total||(s.courses.data?s.courses.data.length:0)),1),t[15]||(t[15]=l(" courses "))])]),e("div",null,[e("nav",oe,[s.courses.prev_page_url?(o(),x(d(u),{key:0,href:s.courses.prev_page_url,class:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 transition-colors"},{default:i(()=>t[16]||(t[16]=[e("span",{class:"sr-only"},"Previous",-1),e("svg",{class:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[e("path",{"fill-rule":"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z","clip-rule":"evenodd"})],-1)])),_:1},8,["href"])):(o(),n("span",ne,t[17]||(t[17]=[e("span",{class:"sr-only"},"Previous",-1),e("svg",{class:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[e("path",{"fill-rule":"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z","clip-rule":"evenodd"})],-1)]))),s.courses.links&&Array.isArray(s.courses.links)&&s.courses.links.length>2?(o(!0),n(y,{key:2},b(s.courses.links.slice(1,-1),(r,g)=>(o(),n(y,{key:g},[r.url?(o(),x(d(u),{key:0,href:r.url,class:f(["relative inline-flex items-center px-4 py-2 border text-sm font-medium transition-colors",r.active?"z-10 bg-blue-500 border-blue-500 text-white":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50"]),innerHTML:r.label},null,8,["href","class","innerHTML"])):(o(),n("span",{key:1,class:f(["relative inline-flex items-center px-4 py-2 border text-sm font-medium",r.active?"z-10 bg-blue-500 border-blue-500 text-white":"bg-white border-gray-300 text-gray-500"]),innerHTML:r.label},null,10,ae))],64))),128)):(o(),n("span",le,a(s.courses.current_page||1),1)),s.courses.next_page_url?(o(),x(d(u),{key:4,href:s.courses.next_page_url,class:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 transition-colors"},{default:i(()=>t[18]||(t[18]=[e("span",{class:"sr-only"},"Next",-1),e("svg",{class:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[e("path",{"fill-rule":"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z","clip-rule":"evenodd"})],-1)])),_:1},8,["href"])):(o(),n("span",ie,t[19]||(t[19]=[e("span",{class:"sr-only"},"Next",-1),e("svg",{class:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[e("path",{"fill-rule":"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z","clip-rule":"evenodd"})],-1)])))])])])])])):h("",!0)])])]),_:1}))}});export{ge as default};
