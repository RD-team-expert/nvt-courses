import{P as N,I as u,k,o as d,w as s,e,b as l,a as f,f as w,j as a,F as j,h as A,t as c,n as Q,r as C,c as q,W as F,s as H}from"./app-iYB6CK9s.js";import{M as P}from"./Modal-Buu6H7ZY.js";import{l as E}from"./lodash-CAnG-Ugi.js";import{_ as I}from"./AdminLayout.vue_vue_type_script_setup_true_lang-BmAEUQ0k.js";import{_ as U}from"./AppLogoIcon.vue_vue_type_script_setup_true_lang-B3PnW6xU.js";import{c as O,b as W,a as G,_ as Y}from"./CardTitle.vue_vue_type_script_setup_true_lang-I7s4fTue.js";import{_ as J}from"./Label.vue_vue_type_script_setup_true_lang-DyyG2Z7t.js";import{b as K,a as R,d as X,c as Z,_ as $}from"./SelectValue.vue_vue_type_script_setup_true_lang-Dk196kS3.js";import{_ as ee}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./AppLayout.vue_vue_type_script_setup_true_lang-BOHGZ_58.js";import"./index-BHiy4VMt.js";import"./chevron-down-CwfBg4LM.js";import"./check-CHod0wEF.js";const te={components:{AdminLayout:I,Link:N,Modal:P,Button:U,Card:Y,CardContent:G,CardHeader:W,CardTitle:O,Label:J,Select:$,SelectContent:Z,SelectItem:X,SelectTrigger:R,SelectValue:K},props:{quizzes:{type:Object,required:!0},filters:{type:Object,default:()=>({})},courses:{type:Array,default:()=>[]}},setup(_){const t=[{name:"Dashboard",route:"admin.dashboard"},{name:"Quizzes",route:null}],n=C({course_id:_.filters.course_id||"",status:_.filters.status||""}),r=C(!1),y=C(null),x=C(!1),g=q(()=>n.value.course_id!==""||n.value.status!==""),m=()=>{const i=_.courses.find(p=>p.id==n.value.course_id);return i?i.name:""},z=()=>{const i=m(),p=n.value.status;return i&&p?`No ${p} quizzes found for "${i}" course.`:i?`No quizzes found for "${i}" course.`:p?`No ${p} quizzes found. Try selecting a different status or clearing filters.`:"Try adjusting your filter criteria or clear all filters to see available quizzes."},S=()=>{n.value={course_id:"",status:""},h()},h=E.debounce(()=>{x.value=!0;const i=Object.fromEntries(Object.entries(n.value).filter(([p,b])=>b&&b!=="all"));F.get(route("admin.quizzes.index"),i,{preserveState:!0,preserveScroll:!0,onFinish:()=>{x.value=!1}})},300);return H(n,h,{deep:!0}),{breadcrumbs:t,filters:n,applyFilters:h,goToPage:i=>{i&&!x.value&&(x.value=!0,F.get(i,{},{preserveState:!0,preserveScroll:!0,onFinish:()=>{x.value=!1}}))},showDeleteModal:r,confirmDelete:i=>{y.value=i,r.value=!0},deleteQuiz:()=>{x.value||(x.value=!0,F.delete(route("admin.quizzes.destroy",y.value),{onSuccess:()=>{r.value=!1,y.value=null},onFinish:()=>{x.value=!1}}))},isLoading:x,hasActiveFilters:g,getFilteredEmptyMessage:z,clearFilters:S}}},se={class:"container mx-auto px-4 py-6 sm:px-6 lg:px-8"},oe={class:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between mb-6"},le={class:"flex flex-col gap-2 sm:flex-row sm:gap-3"},re={class:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:gap-6"},ne={class:"space-y-2"},ae={class:"space-y-2"},ie={class:"mt-4 flex justify-end"},de={key:0,class:"overflow-x-auto"},ue={class:"w-full"},me={class:"divide-y divide-border"},ce={class:"px-4 py-4 text-sm font-medium text-foreground sm:px-6"},fe={class:"max-w-xs truncate"},xe={class:"sm:hidden text-xs text-muted-foreground mt-1"},pe={class:"hidden sm:table-cell px-4 py-4 text-sm text-muted-foreground sm:px-6"},_e={class:"max-w-xs truncate"},ge={class:"px-4 py-4 text-sm sm:px-6"},ve={class:"hidden md:table-cell px-4 py-4 text-sm text-muted-foreground sm:px-6"},he={class:"hidden md:table-cell px-4 py-4 text-sm text-muted-foreground sm:px-6"},ke={class:"hidden lg:table-cell px-4 py-4 text-sm text-muted-foreground sm:px-6"},be={class:"px-4 py-4 text-sm font-medium sm:px-6"},ye={class:"flex items-center gap-1 sm:gap-2"},we={key:1,class:"text-center py-12 px-4"},Ce={class:"text-lg font-semibold text-foreground mb-2"},ze={class:"text-muted-foreground mb-6 max-w-sm mx-auto text-sm"},Se={key:0},Me={key:1},Le={class:"flex flex-col gap-3 sm:flex-row sm:justify-center"},je={key:0,class:"mt-6"},Ae={class:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between"},Fe={class:"text-sm text-muted-foreground"},Ve={class:"font-medium text-foreground"},Te={class:"font-medium text-foreground"},Be={class:"font-medium text-foreground"},De={class:"flex flex-wrap gap-1 justify-center sm:justify-end"},Ne={class:"p-6 sm:p-8"},Qe={class:"flex flex-col gap-3 sm:flex-row sm:justify-end"},qe={key:0,class:"flex items-center"},He={key:1};function Pe(_,t,n,r,y,x){const g=u("Link"),m=u("Button"),z=u("CardTitle"),S=u("CardHeader"),h=u("Label"),M=u("SelectValue"),L=u("SelectTrigger"),v=u("SelectItem"),i=u("SelectContent"),p=u("Select"),b=u("CardContent"),V=u("Card"),T=u("Modal"),B=u("AdminLayout");return d(),k(B,{breadcrumbs:r.breadcrumbs},{default:s(()=>[e("div",se,[e("div",oe,[t[6]||(t[6]=e("h1",{class:"text-2xl font-bold tracking-tight text-foreground sm:text-3xl"},"Quiz Attempts",-1)),e("div",le,[l(m,{"as-child":""},{default:s(()=>[l(g,{href:_.route("admin.quizzes.create")},{default:s(()=>t[4]||(t[4]=[e("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),a(" Create Quiz ")])),_:1},8,["href"])]),_:1}),l(m,{variant:"outline","as-child":""},{default:s(()=>[l(g,{href:_.route("admin.quiz-attempts.index")},{default:s(()=>t[5]||(t[5]=[e("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})],-1),a(" Quiz-attempts ")])),_:1},8,["href"])]),_:1})])]),l(V,{class:"mb-6"},{default:s(()=>[l(S,null,{default:s(()=>[l(z,null,{default:s(()=>t[7]||(t[7]=[a("Filter Quizzes")])),_:1})]),_:1}),l(b,null,{default:s(()=>[e("div",re,[e("div",ne,[l(h,{for:"course_id"},{default:s(()=>t[8]||(t[8]=[a("Course")])),_:1}),l(p,{modelValue:r.filters.course_id,"onUpdate:modelValue":[t[0]||(t[0]=o=>r.filters.course_id=o),r.applyFilters],disabled:r.isLoading},{default:s(()=>[l(L,{id:"course_id"},{default:s(()=>[l(M,{placeholder:"All Courses"})]),_:1}),l(i,null,{default:s(()=>[l(v,{value:"all"},{default:s(()=>t[9]||(t[9]=[a("All Courses")])),_:1}),(d(!0),f(j,null,A(n.courses,o=>(d(),k(v,{key:o.id,value:o.id.toString()},{default:s(()=>[a(c(o.name),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue","disabled","onUpdate:modelValue"])]),e("div",ae,[l(h,{for:"status"},{default:s(()=>t[10]||(t[10]=[a("Status")])),_:1}),l(p,{modelValue:r.filters.status,"onUpdate:modelValue":[t[1]||(t[1]=o=>r.filters.status=o),r.applyFilters],disabled:r.isLoading},{default:s(()=>[l(L,{id:"status"},{default:s(()=>[l(M,{placeholder:"All Statuses"})]),_:1}),l(i,null,{default:s(()=>[l(v,{value:"all"},{default:s(()=>t[11]||(t[11]=[a("All Statuses")])),_:1}),l(v,{value:"draft"},{default:s(()=>t[12]||(t[12]=[a("Draft")])),_:1}),l(v,{value:"published"},{default:s(()=>t[13]||(t[13]=[a("Published")])),_:1}),l(v,{value:"archived"},{default:s(()=>t[14]||(t[14]=[a("Archived")])),_:1})]),_:1})]),_:1},8,["modelValue","disabled","onUpdate:modelValue"])])]),e("div",ie,[r.hasActiveFilters?(d(),k(m,{key:0,onClick:r.clearFilters,variant:"outline",size:"sm",disabled:r.isLoading},{default:s(()=>t[15]||(t[15]=[e("svg",{class:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1),a(" Clear Filters ")])),_:1},8,["onClick","disabled"])):w("",!0)])]),_:1})]),_:1}),l(V,null,{default:s(()=>[l(b,{class:"p-0"},{default:s(()=>[n.quizzes.data&&n.quizzes.data.length>0?(d(),f("div",de,[e("table",ue,[t[19]||(t[19]=e("thead",{class:"border-b bg-muted/50"},[e("tr",null,[e("th",{scope:"col",class:"px-4 py-3 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider sm:px-6"}," Title "),e("th",{scope:"col",class:"hidden sm:table-cell px-4 py-3 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider sm:px-6"}," Course "),e("th",{scope:"col",class:"px-4 py-3 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider sm:px-6"}," Status "),e("th",{scope:"col",class:"hidden md:table-cell px-4 py-3 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider sm:px-6"}," Questions "),e("th",{scope:"col",class:"hidden md:table-cell px-4 py-3 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider sm:px-6"}," Attempts "),e("th",{scope:"col",class:"hidden lg:table-cell px-4 py-3 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider sm:px-6"}," Total Points "),e("th",{scope:"col",class:"px-4 py-3 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider sm:px-6"}," Actions ")])],-1)),e("tbody",me,[(d(!0),f(j,null,A(n.quizzes.data,o=>(d(),f("tr",{key:o.id,class:"hover:bg-muted/50 transition-colors duration-150"},[e("td",ce,[e("div",fe,c(o.title),1),e("div",xe,c(o.course?o.course.name:"N/A"),1)]),e("td",pe,[e("div",_e,c(o.course?o.course.name:"N/A"),1)]),e("td",ge,[e("span",{class:Q(["inline-flex items-center px-2 py-1 text-xs font-medium rounded-full",{"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400":o.status==="published","bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-400":o.status==="draft","bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400":o.status==="archived"}])},c(o.status.charAt(0).toUpperCase()+o.status.slice(1)),3)]),e("td",ve,c(o.questions_count),1),e("td",he,c(o.attempts_count),1),e("td",ke,c(o.total_points),1),e("td",be,[e("div",ye,[l(m,{variant:"outline",size:"sm","as-child":""},{default:s(()=>[l(g,{href:_.route("admin.quizzes.show",o.id)},{default:s(()=>t[16]||(t[16]=[e("svg",{class:"w-4 h-4 sm:mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})],-1),e("span",{class:"hidden sm:inline"},"View",-1)])),_:2},1032,["href"])]),_:2},1024),l(m,{variant:"outline",size:"sm","as-child":""},{default:s(()=>[l(g,{href:_.route("admin.quizzes.edit",o.id)},{default:s(()=>t[17]||(t[17]=[e("svg",{class:"w-4 h-4 sm:mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1),e("span",{class:"hidden sm:inline"},"Edit",-1)])),_:2},1032,["href"])]),_:2},1024),o.attempts_count?w("",!0):(d(),k(m,{key:0,onClick:D=>r.confirmDelete(o.id),variant:"outline",size:"sm",class:"text-destructive hover:text-destructive",disabled:r.isLoading},{default:s(()=>t[18]||(t[18]=[e("svg",{class:"w-4 h-4 sm:mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1),e("span",{class:"hidden sm:inline"},"Delete",-1)])),_:2},1032,["onClick","disabled"]))])])]))),128))])])])):(d(),f("div",we,[t[22]||(t[22]=e("div",{class:"mx-auto flex items-center justify-center h-16 w-16 rounded-full bg-muted mb-4"},[e("svg",{class:"h-8 w-8 text-muted-foreground",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})])],-1)),e("h3",Ce,c(r.hasActiveFilters?"No Quizzes Match Your Filters":"No Quizzes Available"),1),e("p",ze,[r.hasActiveFilters?(d(),f("span",Se,c(r.getFilteredEmptyMessage()),1)):(d(),f("span",Me," Get started by creating your first quiz to assess student knowledge and engagement. "))]),e("div",Le,[l(m,{"as-child":""},{default:s(()=>[l(g,{href:_.route("admin.quizzes.create")},{default:s(()=>t[20]||(t[20]=[e("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),a(" Create First Quiz ")])),_:1},8,["href"])]),_:1}),r.hasActiveFilters?(d(),k(m,{key:0,onClick:r.clearFilters,variant:"outline"},{default:s(()=>t[21]||(t[21]=[e("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1),a(" Clear Filters ")])),_:1},8,["onClick"])):w("",!0)])]))]),_:1})]),_:1}),n.quizzes.data&&n.quizzes.data.length>0&&n.quizzes.meta?(d(),f("div",je,[e("div",Ae,[e("div",Fe,[t[23]||(t[23]=a(" Showing ")),e("span",Ve,c(n.quizzes.meta.from||0),1),t[24]||(t[24]=a(" to ")),e("span",Te,c(n.quizzes.meta.to||0),1),t[25]||(t[25]=a(" of ")),e("span",Be,c(n.quizzes.meta.total||0),1),t[26]||(t[26]=a(" quizzes "))]),e("div",De,[(d(!0),f(j,null,A(n.quizzes.meta.links,o=>(d(),k(m,{key:o.label,disabled:!o.url||r.isLoading,onClick:D=>r.goToPage(o.url),variant:o.active?"default":"outline-solid",size:"sm",innerHTML:o.label},null,8,["disabled","onClick","variant","innerHTML"]))),128))])])])):w("",!0),l(T,{show:r.showDeleteModal,onClose:t[3]||(t[3]=o=>r.showDeleteModal=!1)},{default:s(()=>[e("div",Ne,[t[29]||(t[29]=e("h2",{class:"text-xl font-semibold text-foreground mb-3"},"Confirm Deletion",-1)),t[30]||(t[30]=e("p",{class:"text-sm text-muted-foreground mb-6"}," Are you sure you want to delete this quiz? This action cannot be undone. ",-1)),e("div",Qe,[l(m,{onClick:t[2]||(t[2]=o=>r.showDeleteModal=!1),variant:"outline",disabled:r.isLoading},{default:s(()=>t[27]||(t[27]=[a(" Cancel ")])),_:1},8,["disabled"]),l(m,{onClick:r.deleteQuiz,variant:"destructive",disabled:r.isLoading},{default:s(()=>[r.isLoading?(d(),f("span",qe,t[28]||(t[28]=[e("svg",{class:"animate-spin h-4 w-4 mr-2",fill:"none",viewBox:"0 0 24 24"},[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8h-8z"})],-1),a(" Deleting... ")]))):(d(),f("span",He,"Delete"))]),_:1},8,["onClick","disabled"])])])]),_:1},8,["show"])])]),_:1},8,["breadcrumbs"])}const et=ee(te,[["render",Pe],["__scopeId","data-v-85e1fee2"]]);export{et as default};
