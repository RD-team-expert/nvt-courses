import{d as Te,c as h,r as D,C as De,k as Y,M as me,l as Fe,g as b,o as d,w as n,e as s,b as o,u as e,P as Ie,f as c,j as Pe,a as _,h as p,F as B,i as R,t as r,n as ce}from"./app-sfv6CYbu.js";import{_ as Ae}from"./AdminLayout.vue_vue_type_script_setup_true_lang-vvSRP-jI.js";import{_ as M}from"./Button.vue_vue_type_script_setup_true_lang-Ccdh52Vd.js";import{_ as Le}from"./Input.vue_vue_type_script_setup_true_lang-PAMz5smE.js";import{_ as _e}from"./Textarea.vue_vue_type_script_setup_true_lang-rDCsa1Rq.js";import{_ as E}from"./Label.vue_vue_type_script_setup_true_lang-BH1zqArT.js";import{_ as A}from"./Card.vue_vue_type_script_setup_true_lang-C1bT-eXd.js";import{_ as L}from"./CardContent.vue_vue_type_script_setup_true_lang-Khif222k.js";import{_ as Z}from"./CardDescription.vue_vue_type_script_setup_true_lang-Du745yLv.js";import{_ as ee}from"./CardHeader.vue_vue_type_script_setup_true_lang-DnS62nQf.js";import{_ as te}from"./CardTitle.vue_vue_type_script_setup_true_lang-BUNiHSkD.js";import{_ as se,a as oe,b as ae,c as le,d as j}from"./SelectValue.vue_vue_type_script_setup_true_lang-BZdTdVyo.js";import{_ as je,a as Ne}from"./RadioGroupItem.vue_vue_type_script_setup_true_lang-BRhI8ok6.js";import{_ as G}from"./index-Dq640zwT.js";import{_ as Ce,a as Be,b as Re,c as Me}from"./DialogTitle.vue_vue_type_script_setup_true_lang-CpkpI_q5.js";import{_ as Oe}from"./DialogDescription.vue_vue_type_script_setup_true_lang-DvU4UaCA.js";import{_ as qe}from"./DialogFooter.vue_vue_type_script_setup_true_lang-9S9BcffC.js";import{_ as H,a as J}from"./index-B6tKGzdl.js";import{_ as ze}from"./Progress.vue_vue_type_script_setup_true_lang-DYBZhkoi.js";import{R as fe}from"./rotate-ccw-Bf_kok9t.js";import{U as Ge}from"./user-CHkBTstt.js";import{L as K}from"./loader-circle-Bs3wlpar.js";import{C as ne}from"./circle-check-big-Dm31aE_G.js";import{T as pe}from"./trending-up-Dt-7yHFG.js";import{D as He}from"./dollar-sign-DBPzdpCo.js";import{A as ve}from"./award-CYpy964z.js";import{S as Je}from"./send-CPZcE_WO.js";import"./AppLayout.vue_vue_type_script_setup_true_lang-BqoVmqtq.js";import"./index-DdH2r2B8.js";import"./index-C4PRPqD0.js";import"./x-BJKYekbZ.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-DttcJlkw.js";import"./clock-DTvpSLd-.js";import"./useForwardPropsEmits--cawDwsm.js";import"./Presence-CHrFqoPB.js";import"./ConfigProvider-CuMY5RD4.js";import"./useForwardExpose-C32JnqdD.js";import"./Teleport-DTKdiWK5.js";import"./handleAndDispatchCustomEvent-ChOKVcqp.js";import"./Collection-DekOIFXO.js";import"./usePrimitiveElement-BTNjppil.js";import"./check-Bs2OgQiG.js";import"./useSize-C9jzGnps.js";import"./ohash.D__AXeF1-DHF4M4F_.js";import"./nullish-CHIgUVhi.js";import"./VisuallyHidden-oKHpmjgu.js";import"./RovingFocusItem-WKShskIl.js";import"./VisuallyHiddenInput-DlgXvBvW.js";const Ke={class:"mx-auto max-w-7xl py-8 px-4 sm:px-6 lg:px-8 space-y-8"},Qe={class:"flex items-center justify-between"},We={class:"flex items-center"},Xe={class:"shrink-0 mr-4"},Ye={class:"flex items-center justify-center h-10 w-10 rounded-lg bg-primary/10"},Ze={class:"grid grid-cols-1 md:grid-cols-4 gap-6"},et={class:"space-y-2"},tt={class:"space-y-2"},st={class:"relative"},ot={key:0,class:"absolute right-8 top-2.5"},at={key:0,class:"text-xs text-muted-foreground"},lt={key:1,class:"text-xs text-destructive"},nt={key:2,class:"text-sm text-destructive"},it={class:"space-y-2"},rt={class:"relative"},dt={key:0,class:"absolute right-8 top-2.5"},ut={key:0,class:"text-xs text-muted-foreground"},mt={key:1,class:"text-xs text-destructive"},ct={key:2,class:"text-sm text-destructive"},_t={class:"space-y-2"},ft={key:0,class:"text-sm text-destructive"},pt={class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-5 gap-4 text-sm"},vt={key:0},gt={key:1},xt={key:0,class:"space-y-6"},yt={class:"flex items-center justify-between"},bt={class:"grid gap-6"},ht={class:"flex items-start justify-between"},wt={class:"flex-1"},kt={class:"flex items-center space-x-3 mb-2"},$t={key:0,class:"text-right"},St={class:"text-2xl font-bold text-foreground"},Et={class:"text-xs text-muted-foreground"},Vt={class:"grid grid-cols-1 lg:grid-cols-2 gap-6"},Ut={class:"space-y-4"},Tt={class:"flex-1 flex items-center justify-between"},Dt={class:"text-sm text-muted-foreground"},Ft={key:0,class:"text-sm text-destructive"},It={key:0,class:"space-y-4"},Pt={class:"space-y-3"},At={class:"flex items-center justify-between"},Lt={class:"flex items-center justify-between"},jt={class:"text-sm font-bold"},Nt={class:"mt-6 space-y-2"},Ct={key:0,class:"text-sm text-destructive"},Bt={class:"flex items-center"},Rt={class:"shrink-0 mr-4"},Mt={class:"flex items-center justify-center h-10 w-10 rounded-lg bg-green-100"},Ot={class:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6"},qt={class:"flex items-center"},zt={class:"flex items-center"},Gt={class:"text-2xl font-bold text-green-600"},Ht={class:"flex items-center"},Jt={class:"text-lg font-bold text-purple-600"},Kt={class:"font-semibold text-yellow-900"},Qt={class:"text-sm text-yellow-700"},Wt={class:"space-y-2"},Xt={key:0,class:"text-sm text-destructive"},Yt={key:2,class:"flex flex-col sm:flex-row justify-end space-y-3 sm:space-y-0 sm:space-x-4"},Zt={key:2},es={key:3},ts={class:"flex items-start"},ss={class:"shrink-0 mr-4"},os={class:"flex items-center justify-center h-12 w-12 rounded-full bg-green-100"},as={class:"flex-1"},ls={class:"font-semibold"},ns={class:"grid grid-cols-2 gap-4 text-sm"},is={class:"font-medium"},rs={class:"font-medium"},ds={class:"font-medium"},us={class:"font-medium"},ms={class:"font-medium"},cs={key:1},_s={key:2},ro=Te({__name:"UserEvaluation",props:{users:{},categories:{},departments:{},courses:{},incentives:{}},setup(ge){const F=ge,O=h(()=>F.users||[]),x=h(()=>F.categories||[]),xe=h(()=>F.departments||[]),N=h(()=>F.courses||[]),Q=h(()=>F.incentives||[]),I=D(!1),W=D(!1),w=D(O.value),k=D(N.value),V=D(!1),U=D(!1),$=D(!0),l=De({user_id:null,course_id:null,department_id:null,evaluation_date:new Date().toISOString().split("T")[0],notes:"",categories:[]}),X=()=>{l.categories=x.value.map(i=>({category_id:i.id,evaluation_type_id:null,comments:""}))};Y(()=>F.categories,()=>{X()},{immediate:!0});const ye=i=>{$.value&&(l.department_id=i==="none"?null:parseInt(i))},be=i=>{$.value&&(l.user_id=i==="none"?null:parseInt(i))},he=i=>{$.value&&(l.course_id=i==="none"?null:parseInt(i))};Y(()=>l.department_id,async i=>{if($.value){if(i){V.value=!0;try{const t=route("admin.evaluations.users-by-department"),a={department_id:i};console.log("Fetching users for department:",i);const f=await me.get(t,{params:a});w.value=f.data.users||[]}catch(t){console.error("Error fetching users by department:",t),w.value=[]}finally{V.value=!1}}else w.value=O.value;l.user_id=null,l.course_id=null,k.value=N.value}}),Y(()=>l.user_id,async i=>{if($.value){if(i){U.value=!0;try{const t=route("admin.evaluations.user-courses"),a={user_id:i},f=await me.get(t,{params:a});k.value=f.data.courses||[]}catch(t){console.error("Error fetching user courses:",t);const a=w.value.find(f=>f.id===i);k.value=(a==null?void 0:a.completed_courses)||[]}finally{U.value=!1}}else k.value=N.value;l.course_id=null}});const T=h(()=>l.user_id&&w.value.find(i=>i.id===l.user_id)||null),C=h(()=>l.course_id&&k.value.find(i=>i.id===l.course_id)||null),S=(i,t)=>{if(!t)return null;const a=x.value.find(f=>f.id===i);return a&&a.types.find(f=>f.id===t)||null},v=h(()=>l.categories.reduce((i,t)=>{const a=S(t.category_id,t.evaluation_type_id);return i+((a==null?void 0:a.score_value)||0)},0)),ie=h(()=>{if(v.value===0)return 0;const i=Q.value.find(t=>v.value>=t.min_score&&v.value<=t.max_score);return i?parseFloat(i.incentive_amount.toString()):0}),q=h(()=>{if(v.value===0)return null;const i=Q.value.find(t=>v.value>=t.min_score&&v.value<=t.max_score);return i?{range:`${i.min_score}-${i.max_score}`,amount:parseFloat(i.incentive_amount.toString()),tier:we(i.min_score,i.max_score)}:null}),we=(i,t)=>{const a=[...Q.value].sort((u,g)=>g.min_score-u.min_score);if(!a.find(u=>u.min_score===i&&u.max_score===t))return"Unknown Tier";const y=a.findIndex(u=>u.min_score===i&&u.max_score===t),m=["Exceptional Tier","Excellent Tier","Good Tier","Average Tier","Below Average Tier","Poor Tier","Very Poor Tier"];return y<m.length?m[y]:`Tier ${y+1}`},re=i=>i>=13?{label:"Excellent",variant:"default"}:i>=10?{label:"Good",variant:"secondary"}:i>=7?{label:"Average",variant:"outline"}:i>=4?{label:"Below Average",variant:"secondary"}:i>=1?{label:"Poor",variant:"destructive"}:{label:"No Score",variant:"secondary"},ke=(i,t)=>{const a=i/t*100;return a>=90?"default":a>=80?"secondary":a>=70?"outline":a>=60?"secondary":"destructive"},$e=(i,t)=>{if(!$.value)return;const a=l.categories.findIndex(f=>f.category_id===i);a!==-1&&(l.categories[a].evaluation_type_id=parseInt(t),de())},de=()=>{W.value=!!(l.user_id&&l.course_id&&l.evaluation_date&&l.categories.length>0&&l.categories.every(i=>i.evaluation_type_id!==null))};function Se(){de(),W.value&&(I.value=!0)}function Ee(){$.value&&l.post(route("admin.evaluations.user-evaluation.store"),{onSuccess:()=>{I.value=!1,l.reset(),w.value=O.value,k.value=N.value,X()},onError:i=>{I.value=!1,console.error("Validation errors:",i)}})}function Ve(){$.value&&(l.reset(),w.value=O.value,k.value=N.value,X())}const Ue=[{name:"Dashboard",href:route("dashboard")},{name:"Evaluations",href:route("admin.evaluations.index")},{name:"User Evaluation",href:null}];return Fe(()=>{$.value=!1}),(i,t)=>(d(),b(Ae,{breadcrumbs:Ue},{default:n(()=>[s("div",Ke,[s("div",null,[s("div",Qe,[t[5]||(t[5]=s("div",null,[s("h1",{class:"text-3xl font-bold text-foreground"},"User Performance Evaluation"),s("p",{class:"mt-2 text-sm text-muted-foreground"},"Assess employee performance for completed courses using predefined evaluation criteria.")],-1)),o(e(M),{as:e(Ie),href:i.route("admin.evaluations.index"),variant:"outline"},{default:n(()=>[o(e(fe),{class:"mr-2 h-4 w-4"}),t[4]||(t[4]=c(" Back to Evaluations "))]),_:1},8,["as","href"])])]),s("form",{onSubmit:Pe(Se,["prevent"]),class:"space-y-8"},[o(e(A),null,{default:n(()=>[o(e(ee),null,{default:n(()=>[s("div",We,[s("div",Xe,[s("div",Ye,[o(e(Ge),{class:"h-6 w-6 text-primary"})])]),s("div",null,[o(e(te),null,{default:n(()=>t[6]||(t[6]=[c("Select Department, Employee & Course")])),_:1}),o(e(Z),null,{default:n(()=>t[7]||(t[7]=[c("Choose department first, then employee, and finally their completed course")])),_:1})])])]),_:1}),o(e(L),null,{default:n(()=>{var a,f,y;return[s("div",Ze,[s("div",et,[o(e(E),{for:"department"},{default:n(()=>t[8]||(t[8]=[c("Select Department")])),_:1}),o(e(se),{"model-value":((a=e(l).department_id)==null?void 0:a.toString())||"none","onUpdate:modelValue":ye,disabled:e(l).processing},{default:n(()=>[o(e(oe),{id:"department"},{default:n(()=>[o(e(ae),{placeholder:"All Departments"})]),_:1}),o(e(le),null,{default:n(()=>[o(e(j),{value:"none"},{default:n(()=>t[9]||(t[9]=[c("All Departments")])),_:1}),(d(!0),_(B,null,R(xe.value,m=>(d(),b(e(j),{key:m.id,value:m.id.toString()},{default:n(()=>[c(r(m.name),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["model-value","disabled"]),t[10]||(t[10]=s("p",{class:"text-xs text-muted-foreground"},"Filter employees by department",-1))]),s("div",tt,[o(e(E),{for:"user"},{default:n(()=>t[11]||(t[11]=[c("Select Employee *")])),_:1}),s("div",st,[o(e(se),{"model-value":((f=e(l).user_id)==null?void 0:f.toString())||"none","onUpdate:modelValue":be,disabled:e(l).processing||V.value},{default:n(()=>[o(e(oe),{id:"user"},{default:n(()=>[o(e(ae),{placeholder:V.value?"Loading users...":"Choose an employee..."},null,8,["placeholder"])]),_:1}),o(e(le),null,{default:n(()=>[o(e(j),{value:"none"},{default:n(()=>[c(r(V.value?"Loading users...":"Choose an employee..."),1)]),_:1}),(d(!0),_(B,null,R(w.value,m=>(d(),b(e(j),{key:m.id,value:m.id.toString()},{default:n(()=>[c(r(m.name)+" "+r(m.department?`(${m.department.name})`:""),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["model-value","disabled"]),V.value?(d(),_("div",ot,[o(e(K),{class:"h-4 w-4 animate-spin text-primary"})])):p("",!0)]),e(l).department_id?w.value.length===0&&!V.value?(d(),_("p",lt,"No employees found in this department")):p("",!0):(d(),_("p",at,"Showing all employees")),e(l).errors.user_id?(d(),_("span",nt,r(e(l).errors.user_id),1)):p("",!0)]),s("div",it,[o(e(E),{for:"course"},{default:n(()=>t[12]||(t[12]=[c("Select Completed Course *")])),_:1}),s("div",rt,[o(e(se),{"model-value":((y=e(l).course_id)==null?void 0:y.toString())||"none","onUpdate:modelValue":he,disabled:e(l).processing||!e(l).user_id||U.value},{default:n(()=>[o(e(oe),{id:"course"},{default:n(()=>[o(e(ae),{placeholder:e(l).user_id?U.value?"Loading courses...":"Choose a completed course...":"Select employee first..."},null,8,["placeholder"])]),_:1}),o(e(le),null,{default:n(()=>[o(e(j),{value:"none"},{default:n(()=>[c(r(e(l).user_id?U.value?"Loading courses...":"Choose a completed course...":"Select employee first..."),1)]),_:1}),(d(!0),_(B,null,R(k.value,m=>(d(),b(e(j),{key:m.id,value:m.id.toString()},{default:n(()=>[c(r(m.title),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["model-value","disabled"]),U.value?(d(),_("div",dt,[o(e(K),{class:"h-4 w-4 animate-spin text-primary"})])):p("",!0)]),e(l).user_id?k.value.length===0&&!U.value?(d(),_("p",mt,"This employee hasn't completed any courses yet")):p("",!0):(d(),_("p",ut,"Select an employee to see their completed courses")),e(l).errors.course_id?(d(),_("span",ct,r(e(l).errors.course_id),1)):p("",!0)]),s("div",_t,[o(e(E),{for:"date"},{default:n(()=>t[13]||(t[13]=[c("Evaluation Date *")])),_:1}),o(e(Le),{id:"date",type:"date",modelValue:e(l).evaluation_date,"onUpdate:modelValue":t[0]||(t[0]=m=>e(l).evaluation_date=m),disabled:e(l).processing,required:""},null,8,["modelValue","disabled"]),e(l).errors.evaluation_date?(d(),_("span",ft,r(e(l).errors.evaluation_date),1)):p("",!0)])]),T.value&&C.value?(d(),b(e(H),{key:0,class:"mt-6"},{default:n(()=>[o(e(ne),{class:"h-4 w-4"}),o(e(J),null,{default:n(()=>[s("div",pt,[s("div",null,[t[14]||(t[14]=s("span",{class:"font-medium"},"Employee:",-1)),s("p",null,r(T.value.name),1)]),s("div",null,[t[15]||(t[15]=s("span",{class:"font-medium"},"Course:",-1)),s("p",null,r(C.value.title),1)]),C.value.completed_at?(d(),_("div",vt,[t[16]||(t[16]=s("span",{class:"font-medium"},"Completed:",-1)),s("p",null,r(new Date(C.value.completed_at).toLocaleDateString()),1)])):p("",!0),T.value.department?(d(),_("div",gt,[t[17]||(t[17]=s("span",{class:"font-medium"},"Department:",-1)),s("p",null,r(T.value.department.name),1)])):p("",!0),s("div",null,[t[18]||(t[18]=s("span",{class:"font-medium"},"Email:",-1)),s("p",null,r(T.value.email),1)])])]),_:1})]),_:1})):p("",!0)]}),_:1})]),_:1}),e(l).user_id&&e(l).course_id&&x.value.length>0?(d(),_("div",xt,[s("div",yt,[t[19]||(t[19]=s("h2",{class:"text-xl font-semibold text-foreground"},"Evaluation Categories",-1)),o(e(G),{variant:"secondary"},{default:n(()=>[c(r(x.value.length)+" categories",1)]),_:1})]),s("div",bt,[(d(!0),_(B,null,R(e(l).categories,(a,f)=>(d(),b(e(A),{key:a.category_id,class:"hover:shadow-md transition-shadow duration-200"},{default:n(()=>[o(e(ee),null,{default:n(()=>{var y,m;return[s("div",ht,[s("div",wt,[s("div",kt,[o(e(te),{class:"text-lg"},{default:n(()=>{var u;return[c(r(((u=x.value.find(g=>g.id===a.category_id))==null?void 0:u.name)||"Category"),1)]}),_:2},1024),o(e(G),{variant:"outline"},{default:n(()=>{var u;return[c(r(((u=x.value.find(g=>g.id===a.category_id))==null?void 0:u.weight)||0)+"% weight ",1)]}),_:2},1024)]),o(e(Z),null,{default:n(()=>{var u;return[c(r(((u=x.value.find(g=>g.id===a.category_id))==null?void 0:u.description)||"No description available"),1)]}),_:2},1024)]),S(a.category_id,a.evaluation_type_id)?(d(),_("div",$t,[s("div",St,r((y=S(a.category_id,a.evaluation_type_id))==null?void 0:y.score_value),1),s("div",Et," out of "+r((m=x.value.find(u=>u.id===a.category_id))==null?void 0:m.max_score),1)])):p("",!0)])]}),_:2},1024),o(e(L),null,{default:n(()=>{var y;return[s("div",Vt,[s("div",Ut,[o(e(E),{class:"text-sm font-medium"},{default:n(()=>t[20]||(t[20]=[c("Select Performance Level")])),_:1}),o(e(je),{"model-value":((y=a.evaluation_type_id)==null?void 0:y.toString())||"","onUpdate:modelValue":m=>$e(a.category_id,m),class:"space-y-2"},{default:n(()=>{var m;return[(d(!0),_(B,null,R(((m=x.value.find(u=>u.id===a.category_id))==null?void 0:m.types)||[],u=>{var g;return d(),_("div",{key:u.id,class:ce(["flex items-center space-x-3 p-4 border rounded-lg hover:bg-accent/50 transition-colors",{"border-primary bg-primary/5":a.evaluation_type_id===u.id}])},[o(e(Ne),{value:u.id.toString(),id:`type_${a.category_id}_${u.id}`},null,8,["value","id"]),s("div",Tt,[s("div",null,[o(e(E),{for:`type_${a.category_id}_${u.id}`,class:"font-medium cursor-pointer"},{default:n(()=>[c(r(u.type_name),1)]),_:2},1032,["for"]),s("p",Dt,r(u.description),1)]),o(e(G),{variant:ke(u.score_value,((g=x.value.find(z=>z.id===a.category_id))==null?void 0:g.max_score)||100)},{default:n(()=>[c(r(u.score_value)+" pts ",1)]),_:2},1032,["variant"])])],2)}),128))]}),_:2},1032,["model-value","onUpdate:modelValue"]),e(l).errors[`categories.${f}.evaluation_type_id`]?(d(),_("span",Ft,r(e(l).errors[`categories.${f}.evaluation_type_id`]),1)):p("",!0)]),S(a.category_id,a.evaluation_type_id)?(d(),_("div",It,[o(e(H),null,{default:n(()=>[o(e(pe),{class:"h-4 w-4"}),o(e(J),null,{default:n(()=>{var m,u,g,z,ue;return[t[23]||(t[23]=s("h4",{class:"font-medium mb-3"},"Selected Performance Level",-1)),s("div",Pt,[s("div",At,[t[21]||(t[21]=s("span",{class:"text-sm font-medium"},"Performance:",-1)),o(e(G),{variant:re(((m=S(a.category_id,a.evaluation_type_id))==null?void 0:m.score_value)||0).variant},{default:n(()=>{var P;return[c(r((P=S(a.category_id,a.evaluation_type_id))==null?void 0:P.type_name),1)]}),_:2},1032,["variant"])]),s("div",Lt,[t[22]||(t[22]=s("span",{class:"text-sm font-medium"},"Score:",-1)),s("span",jt,r((u=S(a.category_id,a.evaluation_type_id))==null?void 0:u.score_value)+" / "+r((g=x.value.find(P=>P.id===a.category_id))==null?void 0:g.max_score),1)]),o(e(ze),{value:Math.round((((z=S(a.category_id,a.evaluation_type_id))==null?void 0:z.score_value)||0)/(((ue=x.value.find(P=>P.id===a.category_id))==null?void 0:ue.max_score)||100)*100),class:"h-2"},null,8,["value"])])]}),_:2},1024)]),_:2},1024)])):p("",!0)]),s("div",Nt,[o(e(E),{for:`comments_${a.category_id}`},{default:n(()=>t[24]||(t[24]=[c("Detailed Comments & Feedback")])),_:2},1032,["for"]),o(e(_e),{id:`comments_${a.category_id}`,modelValue:a.comments,"onUpdate:modelValue":m=>a.comments=m,rows:"3",disabled:e(l).processing,placeholder:"Provide specific feedback, strengths, areas for improvement, and recommendations..."},null,8,["id","modelValue","onUpdate:modelValue","disabled"]),e(l).errors[`categories.${f}.comments`]?(d(),_("span",Ct,r(e(l).errors[`categories.${f}.comments`]),1)):p("",!0)])]}),_:2},1024)]),_:2},1024))),128))])])):p("",!0),e(l).user_id&&e(l).course_id&&e(l).categories.some(a=>a.evaluation_type_id!==null)?(d(),b(e(A),{key:1},{default:n(()=>[o(e(ee),null,{default:n(()=>[s("div",Bt,[s("div",Rt,[s("div",Mt,[o(e(ne),{class:"h-6 w-6 text-green-600"})])]),s("div",null,[o(e(te),null,{default:n(()=>t[25]||(t[25]=[c("Overall Assessment")])),_:1}),o(e(Z),null,{default:n(()=>t[26]||(t[26]=[c("Summary of evaluation results and incentive information")])),_:1})])])]),_:1}),o(e(L),null,{default:n(()=>[s("div",Ot,[o(e(A),{class:"bg-gradient-to-r from-blue-50 to-indigo-50 border-blue-200"},{default:n(()=>[o(e(L),{class:"p-4"},{default:n(()=>[s("div",qt,[o(e(pe),{class:"h-8 w-8 text-blue-600 mr-4"}),s("div",null,[t[27]||(t[27]=s("p",{class:"text-sm font-medium text-blue-900"},"Total Score",-1)),s("p",{class:ce(["text-2xl font-bold",{"text-emerald-600":v.value>=13,"text-green-600":v.value>=10&&v.value<13,"text-blue-600":v.value>=7&&v.value<10,"text-yellow-600":v.value>=4&&v.value<7,"text-red-600":v.value<4}])},r(v.value),3)])])]),_:1})]),_:1}),o(e(A),{class:"bg-gradient-to-r from-green-50 to-emerald-50 border-green-200"},{default:n(()=>[o(e(L),{class:"p-4"},{default:n(()=>[s("div",zt,[o(e(He),{class:"h-8 w-8 text-green-600 mr-4"}),s("div",null,[t[28]||(t[28]=s("p",{class:"text-sm font-medium text-green-900"},"Incentive Amount",-1)),s("p",Gt," $"+r(ie.value.toFixed(2)),1)])])]),_:1})]),_:1}),o(e(A),{class:"bg-gradient-to-r from-purple-50 to-pink-50 border-purple-200"},{default:n(()=>[o(e(L),{class:"p-4"},{default:n(()=>[s("div",Ht,[o(e(ve),{class:"h-8 w-8 text-purple-600 mr-4"}),s("div",null,[t[29]||(t[29]=s("p",{class:"text-sm font-medium text-purple-900"},"Performance Rating",-1)),s("p",Jt,r(re(v.value).label),1)])])]),_:1})]),_:1})]),q.value?(d(),b(e(H),{key:0,class:"mb-6 bg-gradient-to-r from-yellow-50 to-amber-50 border-yellow-200"},{default:n(()=>[o(e(ve),{class:"h-4 w-4"}),o(e(J),null,{default:n(()=>[s("h4",Kt,r(q.value.tier),1),s("p",Qt," Score Range: "+r(q.value.range)+" | Incentive: $"+r(q.value.amount.toFixed(2)),1)]),_:1})]),_:1})):p("",!0),s("div",Wt,[o(e(E),{for:"notes"},{default:n(()=>t[30]||(t[30]=[c("Overall Notes & Recommendations")])),_:1}),o(e(_e),{id:"notes",modelValue:e(l).notes,"onUpdate:modelValue":t[1]||(t[1]=a=>e(l).notes=a),rows:"4",disabled:e(l).processing,placeholder:"Provide overall assessment, key achievements, development areas, goals for improvement, and recommendations for career development..."},null,8,["modelValue","disabled"]),e(l).errors.notes?(d(),_("span",Xt,r(e(l).errors.notes),1)):p("",!0)])]),_:1})]),_:1})):p("",!0),e(l).user_id&&e(l).course_id?(d(),_("div",Yt,[o(e(M),{type:"button",onClick:Ve,variant:"outline",disabled:e(l).processing},{default:n(()=>[o(e(fe),{class:"mr-2 h-4 w-4"}),t[31]||(t[31]=c(" Reset Form "))]),_:1},8,["disabled"]),o(e(M),{type:"submit",disabled:e(l).processing||!W.value||v.value===0},{default:n(()=>[e(l).processing?(d(),b(e(K),{key:0,class:"mr-2 h-4 w-4 animate-spin"})):(d(),b(e(Je),{key:1,class:"mr-2 h-4 w-4"})),e(l).processing?(d(),_("span",Zt,"Submitting Evaluation...")):(d(),_("span",es,"Submit Evaluation"))]),_:1},8,["disabled"])])):p("",!0)],32)]),o(e(Ce),{open:I.value,"onUpdate:open":t[3]||(t[3]=a=>I.value=a)},{default:n(()=>[o(e(Be),{class:"sm:max-w-lg"},{default:n(()=>[o(e(Re),null,{default:n(()=>[s("div",ts,[s("div",ss,[s("div",os,[o(e(ne),{class:"h-6 w-6 text-green-600"})])]),s("div",as,[o(e(Me),null,{default:n(()=>t[32]||(t[32]=[c("Confirm Evaluation Submission")])),_:1}),o(e(Oe),null,{default:n(()=>{var a;return[t[33]||(t[33]=c(" Please review the evaluation details before submitting. This action will record the performance evaluation for ")),s("span",ls,r((a=T.value)==null?void 0:a.name),1),t[34]||(t[34]=c(". "))]}),_:1})])])]),_:1}),o(e(H),{class:"my-4"},{default:n(()=>[o(e(J),null,{default:n(()=>{var a,f;return[t[40]||(t[40]=s("h4",{class:"font-medium mb-2"},"Evaluation Summary",-1)),s("div",ns,[s("div",null,[t[35]||(t[35]=s("span",{class:"text-muted-foreground"},"Employee:",-1)),s("p",is,r((a=T.value)==null?void 0:a.name),1)]),s("div",null,[t[36]||(t[36]=s("span",{class:"text-muted-foreground"},"Course:",-1)),s("p",rs,r((f=C.value)==null?void 0:f.title),1)]),s("div",null,[t[37]||(t[37]=s("span",{class:"text-muted-foreground"},"Date:",-1)),s("p",ds,r(e(l).evaluation_date),1)]),s("div",null,[t[38]||(t[38]=s("span",{class:"text-muted-foreground"},"Total Score:",-1)),s("p",us,r(v.value),1)]),s("div",null,[t[39]||(t[39]=s("span",{class:"text-muted-foreground"},"Incentive Amount:",-1)),s("p",ms,"$"+r(ie.value.toFixed(2)),1)])])]}),_:1})]),_:1}),o(e(qe),null,{default:n(()=>[o(e(M),{onClick:t[2]||(t[2]=a=>I.value=!1),variant:"outline"},{default:n(()=>t[41]||(t[41]=[c(" Cancel ")])),_:1}),o(e(M),{onClick:Ee,disabled:e(l).processing},{default:n(()=>[e(l).processing?(d(),b(e(K),{key:0,class:"mr-2 h-4 w-4 animate-spin"})):p("",!0),e(l).processing?(d(),_("span",cs,"Submitting...")):(d(),_("span",_s,"Confirm & Submit"))]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1},8,["open"])]),_:1}))}});export{ro as default};
