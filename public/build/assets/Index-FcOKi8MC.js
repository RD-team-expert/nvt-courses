import{d as K,r as k,c as y,l as O,W as D,a as u,o as d,b as r,u as s,m as X,w as a,e as l,h as w,f as i,F as L,i as U,g as V,t as n,y as Y}from"./app-WJ99k70a.js";import{f as Z}from"./AppLayout.vue_vue_type_script_setup_true_lang-Dy1GYN7i.js";import{_ as ee}from"./Button.vue_vue_type_script_setup_true_lang-Dy3RlMKi.js";import{_ as v}from"./Card.vue_vue_type_script_setup_true_lang-DflwHKhY.js";import{_ as x}from"./CardContent.vue_vue_type_script_setup_true_lang-BMStSPTP.js";import{_ as A}from"./index-DeNvFObS.js";import{_ as te}from"./Input.vue_vue_type_script_setup_true_lang-BSfZbzt_.js";import{_ as P,a as N,b as I,c as T,d as p}from"./SelectValue.vue_vue_type_script_setup_true_lang-DpwJwiVN.js";import{S as C}from"./square-play-Bh-lxvBH.js";import{S as se}from"./search-CfnfVGNm.js";import{P as B}from"./play-DPPsbZ49.js";import{C as re}from"./circle-check-big-Bla7bMyD.js";import{T as le}from"./trending-up-DUO07QHg.js";import{_ as oe}from"./_plugin-vue_export-helper-fGKAwq7e.js";import"./index-CLwR-uw6.js";import"./index-Dhh5zSp0.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-DJLofgmd.js";import"./clock-D6SfQS9I.js";import"./useForwardPropsEmits-BNdFBwb6.js";import"./Presence-C447BjxN.js";import"./ConfigProvider-BzvyYtnr.js";import"./useForwardExpose-CBKzvtQE.js";import"./Teleport-Fm1ZlnPU.js";import"./handleAndDispatchCustomEvent-ChOKVcqp.js";import"./chevron-up-f32YkvId.js";import"./Collection-DgIeGgCh.js";import"./usePrimitiveElement-Bq8IOiVk.js";import"./check-Dj8hM6Sv.js";import"./useSize-CepR3Y4N.js";import"./ohash.D__AXeF1-DHF4M4F_.js";import"./nullish-CHIgUVhi.js";import"./VisuallyHidden-BcuC4gal.js";const ae={class:"space-y-6 bg-background text-foreground"},de={class:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4"},ie={class:"text-3xl font-bold flex items-center gap-3 text-foreground"},ne={class:"flex flex-col lg:flex-row gap-4"},ue={class:"flex-1"},ce={class:"relative"},fe={class:"grid grid-cols-1 md:grid-cols-4 gap-4"},me={class:"flex items-center gap-3"},pe={class:"p-2 bg-blue-500 dark:bg-blue-600 rounded-lg"},ge={class:"text-2xl font-bold text-blue-900 dark:text-blue-100"},_e={class:"flex items-center gap-3"},be={class:"p-2 bg-yellow-500 dark:bg-yellow-600 rounded-lg"},ve={class:"text-2xl font-bold text-yellow-900 dark:text-yellow-100"},xe={class:"flex items-center gap-3"},he={class:"p-2 bg-green-500 dark:bg-green-600 rounded-lg"},ye={class:"text-2xl font-bold text-green-900 dark:text-green-100"},we={class:"flex items-center gap-3"},ke={class:"p-2 bg-purple-500 dark:bg-purple-600 rounded-lg"},Ve={class:"text-2xl font-bold text-purple-900 dark:text-purple-100"},Ce={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6"},Se={class:"relative aspect-video bg-gradient-to-br from-blue-100 to-purple-100 dark:from-blue-950/50 dark:to-purple-950/50 rounded-t-lg overflow-hidden"},$e=["src","alt"],Le={key:1,class:"w-full h-full flex items-center justify-center"},Pe={class:"absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-center justify-center"},Ne={class:"bg-white/90 dark:bg-gray-900/90 rounded-full p-4"},Ie={class:"absolute top-2 right-2 bg-black/70 text-white px-2 py-1 rounded text-sm font-medium"},Te={key:2,class:"absolute bottom-0 left-0 right-0 bg-black/40 h-2"},je={class:"space-y-2"},De={class:"font-semibold text-lg line-clamp-2 text-card-foreground group-hover:text-blue-600 dark:group-hover:text-blue-400 transition-colors"},Ue={class:"text-sm text-muted-foreground line-clamp-2"},Ae={class:"flex items-center justify-between"},Be={key:1,class:"text-xs text-muted-foreground"},Fe={key:0,class:"text-xs text-muted-foreground"},Me={key:0},qe={key:0,class:"text-center py-16"},Ee={class:"text-muted-foreground mb-4"},We=K({__name:"Index",props:{videos:{},categories:{},filters:{}},setup(F){const g=F,M=[{title:"Video Library",href:"/videos"}],c=k(g.filters.search||""),f=k(g.filters.category_id||""),m=k(g.filters.status||""),_=k(g.filters.sort||"latest"),S=y(()=>{let o=[...g.videos];if(c.value){const e=c.value.toLowerCase();o=o.filter(t=>t.name.toLowerCase().includes(e)||t.description&&t.description.toLowerCase().includes(e))}switch(f.value&&(o=o.filter(e=>{var t;return((t=e.category)==null?void 0:t.id.toString())===f.value})),m.value&&(o=o.filter(e=>e.status===m.value)),_.value){case"name":o.sort((e,t)=>e.name.localeCompare(t.name));break;case"duration":o.sort((e,t)=>(e.duration||0)-(t.duration||0));break}return o}),q=y(()=>g.videos.filter(o=>o.status==="in_progress").length),E=y(()=>g.videos.filter(o=>o.status==="completed").length),W=y(()=>{const o=g.videos.filter(t=>t.user_progress);if(o.length===0)return 0;const e=o.reduce((t,b)=>{var h;return t+(((h=b.user_progress)==null?void 0:h.completion_percentage)||0)},0);return Math.round(e/o.length)}),j=y(()=>c.value||f.value||m.value);let $=null;O([c,f,m,_],()=>{$&&clearTimeout($),$=setTimeout(()=>{const o=new URLSearchParams;c.value&&o.set("search",c.value),f.value&&o.set("category_id",f.value),m.value&&o.set("status",m.value),_.value!=="latest"&&o.set("sort",_.value);const e=o.toString(),t=e?`/videos?${e}`:"/videos";D.visit(t,{preserveState:!0,preserveScroll:!0,replace:!0})},500)});function R(o){D.visit(`/videos/${o.id}`)}function z(){c.value="",f.value="",m.value="",_.value="latest"}function H(o){switch(o){case"completed":return"default";case"in_progress":return"secondary";default:return"outline"}}function Q(o){switch(o){case"completed":return"Completed";case"in_progress":return"In Progress";default:return"New"}}function G(o){const e=new Date(o),b=Math.floor((new Date().getTime()-e.getTime())/(1e3*60*60));if(b<1)return"just now";if(b<24)return`${b}h ago`;const h=Math.floor(b/24);return h<7?`${h}d ago`:e.toLocaleDateString()}function J(o){const e=o.target;e.style.display="none"}return(o,e)=>(d(),u(L,null,[r(s(X),{title:"Video Library"}),r(Z,{breadcrumbs:M},{default:a(()=>[l("div",ae,[l("div",de,[l("div",null,[l("h1",ie,[r(s(C),{class:"h-8 w-8 text-blue-600 dark:text-blue-500"}),e[4]||(e[4]=i(" Video Library "))]),e[5]||(e[5]=l("p",{class:"text-muted-foreground text-lg"}," Discover and learn from our comprehensive video courses ",-1))])]),r(s(v),{class:"bg-card border-border"},{default:a(()=>[r(s(x),{class:"p-6"},{default:a(()=>[l("div",ne,[l("div",ue,[l("div",ce,[r(s(se),{class:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),r(s(te),{modelValue:c.value,"onUpdate:modelValue":e[0]||(e[0]=t=>c.value=t),placeholder:"Search video courses...",class:"pl-10"},null,8,["modelValue"])])]),r(s(P),{modelValue:f.value,"onUpdate:modelValue":e[1]||(e[1]=t=>f.value=t)},{default:a(()=>[r(s(N),{class:"w-full lg:w-48"},{default:a(()=>[r(s(I),{placeholder:"All Categories"})]),_:1}),r(s(T),null,{default:a(()=>[r(s(p),{value:""},{default:a(()=>e[6]||(e[6]=[i("All Categories")])),_:1}),(d(!0),u(L,null,U(o.categories,t=>(d(),V(s(p),{key:t.id,value:t.id.toString()},{default:a(()=>[i(n(t.name),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue"]),r(s(P),{modelValue:m.value,"onUpdate:modelValue":e[2]||(e[2]=t=>m.value=t)},{default:a(()=>[r(s(N),{class:"w-full lg:w-48"},{default:a(()=>[r(s(I),{placeholder:"All Videos"})]),_:1}),r(s(T),null,{default:a(()=>[r(s(p),{value:""},{default:a(()=>e[7]||(e[7]=[i("All Videos")])),_:1}),r(s(p),{value:"not_started"},{default:a(()=>e[8]||(e[8]=[i("Not Started")])),_:1}),r(s(p),{value:"in_progress"},{default:a(()=>e[9]||(e[9]=[i("In Progress")])),_:1}),r(s(p),{value:"completed"},{default:a(()=>e[10]||(e[10]=[i("Completed")])),_:1})]),_:1})]),_:1},8,["modelValue"]),r(s(P),{modelValue:_.value,"onUpdate:modelValue":e[3]||(e[3]=t=>_.value=t)},{default:a(()=>[r(s(N),{class:"w-full lg:w-48"},{default:a(()=>[r(s(I),{placeholder:"Sort by..."})]),_:1}),r(s(T),null,{default:a(()=>[r(s(p),{value:"latest"},{default:a(()=>e[11]||(e[11]=[i("Latest")])),_:1}),r(s(p),{value:"name"},{default:a(()=>e[12]||(e[12]=[i("Name")])),_:1}),r(s(p),{value:"duration"},{default:a(()=>e[13]||(e[13]=[i("Duration")])),_:1})]),_:1})]),_:1},8,["modelValue"])])]),_:1})]),_:1}),l("div",fe,[r(s(v),{class:"border-0 bg-gradient-to-br from-blue-50 to-blue-100 dark:from-blue-950/50 dark:to-blue-900/50 border border-blue-200/50 dark:border-blue-800/50"},{default:a(()=>[r(s(x),{class:"p-4"},{default:a(()=>[l("div",me,[l("div",pe,[r(s(C),{class:"h-6 w-6 text-white"})]),l("div",null,[l("div",ge,n(S.value.length),1),e[14]||(e[14]=l("div",{class:"text-sm text-blue-700 dark:text-blue-300"},"Available Videos",-1))])])]),_:1})]),_:1}),r(s(v),{class:"border-0 bg-gradient-to-br from-yellow-50 to-yellow-100 dark:from-yellow-950/50 dark:to-yellow-900/50 border border-yellow-200/50 dark:border-yellow-800/50"},{default:a(()=>[r(s(x),{class:"p-4"},{default:a(()=>[l("div",_e,[l("div",be,[r(s(B),{class:"h-6 w-6 text-white"})]),l("div",null,[l("div",ve,n(q.value),1),e[15]||(e[15]=l("div",{class:"text-sm text-yellow-700 dark:text-yellow-300"},"In Progress",-1))])])]),_:1})]),_:1}),r(s(v),{class:"border-0 bg-gradient-to-br from-green-50 to-green-100 dark:from-green-950/50 dark:to-green-900/50 border border-green-200/50 dark:border-green-800/50"},{default:a(()=>[r(s(x),{class:"p-4"},{default:a(()=>[l("div",xe,[l("div",he,[r(s(re),{class:"h-6 w-6 text-white"})]),l("div",null,[l("div",ye,n(E.value),1),e[16]||(e[16]=l("div",{class:"text-sm text-green-700 dark:text-green-300"},"Completed",-1))])])]),_:1})]),_:1}),r(s(v),{class:"border-0 bg-gradient-to-br from-purple-50 to-purple-100 dark:from-purple-950/50 dark:to-purple-900/50 border border-purple-200/50 dark:border-purple-800/50"},{default:a(()=>[r(s(x),{class:"p-4"},{default:a(()=>[l("div",we,[l("div",ke,[r(s(le),{class:"h-6 w-6 text-white"})]),l("div",null,[l("div",Ve,n(W.value)+"% ",1),e[17]||(e[17]=l("div",{class:"text-sm text-purple-700 dark:text-purple-300"},"Avg Progress",-1))])])]),_:1})]),_:1})]),l("div",Ce,[(d(!0),u(L,null,U(S.value,t=>(d(),V(s(v),{key:t.id,class:"group hover:shadow-xl transition-all duration-300 bg-card border-border cursor-pointer",onClick:b=>R(t)},{default:a(()=>[l("div",Se,[t.thumbnail_url?(d(),u("img",{key:0,src:t.thumbnail_url,alt:t.name,class:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300",onError:J},null,40,$e)):(d(),u("div",Le,[r(s(C),{class:"h-16 w-16 text-blue-500 dark:text-blue-400 opacity-50"})])),l("div",Pe,[l("div",Ne,[r(s(B),{class:"h-8 w-8 text-blue-600 dark:text-blue-400 fill-current"})])]),l("div",Ie,n(t.formatted_duration),1),t.user_progress?(d(),u("div",Te,[l("div",{class:"h-full bg-blue-500 transition-all duration-300",style:Y({width:`${t.user_progress.completion_percentage}%`})},null,4)])):w("",!0)]),r(s(x),{class:"p-4"},{default:a(()=>[l("div",je,[l("h3",De,n(t.name),1),l("p",Ue,n(t.description||"No description available"),1),l("div",Ae,[t.category?(d(),V(s(A),{key:0,variant:"outline",class:"bg-background border-border text-foreground"},{default:a(()=>[i(n(t.category.name),1)]),_:2},1024)):(d(),u("span",Be,"No category")),r(s(A),{variant:H(t.status),class:"bg-background border-border"},{default:a(()=>[i(n(Q(t.status)),1)]),_:2},1032,["variant"])]),t.user_progress?(d(),u("div",Fe,[i(n(Math.round(t.user_progress.completion_percentage))+"% completed ",1),t.user_progress.last_accessed_at?(d(),u("span",Me," • Last watched "+n(G(t.user_progress.last_accessed_at)),1)):w("",!0)])):w("",!0)])]),_:2},1024)]),_:2},1032,["onClick"]))),128))]),S.value.length===0?(d(),u("div",qe,[r(s(C),{class:"h-24 w-24 mx-auto text-muted-foreground mb-6"}),e[19]||(e[19]=l("h3",{class:"text-xl font-semibold text-foreground mb-2"},"No videos found",-1)),l("p",Ee,n(j.value?"Try adjusting your filters to see more videos":"No video courses are available yet"),1),j.value?(d(),V(s(ee),{key:0,onClick:z,variant:"outline"},{default:a(()=>e[18]||(e[18]=[i(" Clear Filters ")])),_:1})):w("",!0)])):w("",!0)])]),_:1})],64))}}),yt=oe(We,[["__scopeId","data-v-8a4dc194"]]);export{yt as default};
