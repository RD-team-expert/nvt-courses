import{d as N,B as ce,r as D,c as k,g as V,o as y,w as p,J as Y,x as me,u as e,y as Oe,K as oe,h as H,bz as Ue,D as ie,l as ue,b as m,a as I,F as de,i as Se,m as Xe,e as n,P as Ye,f as q,t as R,M as he}from"./app-sfv6CYbu.js";import{c as We}from"./AppLayout.vue_vue_type_script_setup_true_lang-BqoVmqtq.js";import{c as le,P as se,a as Ge,_ as F}from"./Button.vue_vue_type_script_setup_true_lang-Ccdh52Vd.js";import{_ as _e}from"./Card.vue_vue_type_script_setup_true_lang-C1bT-eXd.js";import{_ as be}from"./CardContent.vue_vue_type_script_setup_true_lang-Khif222k.js";import{_ as Je}from"./CardDescription.vue_vue_type_script_setup_true_lang-Du745yLv.js";import{_ as Qe}from"./CardHeader.vue_vue_type_script_setup_true_lang-DnS62nQf.js";import{_ as we}from"./CardTitle.vue_vue_type_script_setup_true_lang-BUNiHSkD.js";import{_ as Ze}from"./index-Dq640zwT.js";import{u as et}from"./useForwardPropsEmits--cawDwsm.js";import{c as Ce,u as tt}from"./useSize-C9jzGnps.js";import{c as De,u as G}from"./useForwardExpose-C32JnqdD.js";import{a as at,u as fe}from"./Collection-DekOIFXO.js";import{u as ot}from"./VisuallyHidden-oKHpmjgu.js";import{V as lt}from"./VisuallyHiddenInput-DlgXvBvW.js";import{u as st,m as nt,r as rt}from"./index-DdH2r2B8.js";import{_ as it}from"./Progress.vue_vue_type_script_setup_true_lang-DYBZhkoi.js";import{_ as ut,a as dt}from"./index-B6tKGzdl.js";import{A as ct}from"./arrow-left-CctnTLgW.js";import{V as re}from"./volume-2-CrRBrxj6.js";import{B as mt}from"./book-open-FPj6PwVf.js";import{C as ft}from"./clock-DTvpSLd-.js";import{R as vt}from"./rotate-ccw-Bf_kok9t.js";import{C as xe}from"./circle-check-big-Dm31aE_G.js";import{T as pt}from"./triangle-alert-BvMIqfKd.js";import{E as gt}from"./external-link-DK6Qc48W.js";import{P as yt}from"./play-kHKQNFst.js";import{P as ht}from"./pause-klv3kzqs.js";import{_ as _t}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./index-C4PRPqD0.js";import"./x-BJKYekbZ.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-DttcJlkw.js";import"./ConfigProvider-CuMY5RD4.js";import"./usePrimitiveElement-BTNjppil.js";import"./nullish-CHIgUVhi.js";/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bt=le("HeadphonesIcon",[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ae=le("RefreshCwIcon",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wt=le("SkipBackIcon",[["polygon",{points:"19 20 9 12 19 4 19 20",key:"o2sva"}],["line",{x1:"5",x2:"5",y1:"19",y2:"5",key:"1ocqjk"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xt=le("SkipForwardIcon",[["polygon",{points:"5 4 15 12 5 20 5 4",key:"16p6eg"}],["line",{x1:"19",x2:"19",y1:"5",y2:"19",key:"futhcm"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kt=le("VolumeXIcon",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]);function St(c=[],t,o){const u=[...c];return u[o]=t,u.sort((s,f)=>s-f)}function Ee(c,t,o){const f=100/(o-t)*(c-t);return Ce(f,0,100)}function Ct(c,t){return t>2?`Value ${c+1} of ${t}`:t===2?["Minimum","Maximum"][c]:void 0}function Dt(c,t){if(c.length===1)return 0;const o=c.map(s=>Math.abs(s-t)),u=Math.min(...o);return o.indexOf(u)}function Et(c,t,o){const u=c/2,f=ve([0,50],[0,u]);return(u-f(t)*o)*o}function Pt(c){return c.slice(0,-1).map((t,o)=>c[o+1]-t)}function At(c,t){if(t>0){const o=Pt(c);return Math.min(...o)>=t}return!0}function ve(c,t){return o=>{if(c[0]===c[1]||t[0]===t[1])return t[0];const u=(t[1]-t[0])/(c[1]-c[0]);return t[0]+u*(o-c[0])}}function Mt(c){return(String(c).split(".")[1]||"").length}function Vt(c,t){const o=10**t;return Math.round(c*o)/o}const Pe=["PageUp","PageDown"],Ae=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Me={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageUp","ArrowUp","ArrowLeft"]},[Ve,Te]=De(["SliderVertical","SliderHorizontal"]);var Tt=N({__name:"SliderHorizontal",props:{dir:{type:String,required:!1},min:{type:Number,required:!0},max:{type:Number,required:!0},inverted:{type:Boolean,required:!0}},emits:["slideEnd","slideStart","slideMove","homeKeyDown","endKeyDown","stepKeyDown"],setup(c,{emit:t}){const o=c,u=t,{max:s,min:f,dir:l,inverted:r}=ce(o),{forwardRef:h,currentElement:x}=G(),P=ee(),E=D(),b=D(),w=k(()=>(l==null?void 0:l.value)!=="rtl"&&!r.value||(l==null?void 0:l.value)!=="ltr"&&r.value);function g(v,d){const _=b.value||x.value.getBoundingClientRect(),B=[...P.thumbElements.value][P.valueIndexToChangeRef.value],z=P.thumbAlignment.value==="contain"?B.clientWidth:0;!E.value&&!d&&P.thumbAlignment.value==="contain"&&(E.value=v.clientX-B.getBoundingClientRect().left);const W=[0,_.width-z],$=w.value?[f.value,s.value]:[s.value,f.value],O=ve(W,$);b.value=_;const S=d?v.clientX-_.left-z/2:v.clientX-_.left-(E.value??0);return O(S)}const T=k(()=>w.value?"left":"right"),j=k(()=>w.value?"right":"left"),M=k(()=>w.value?1:-1);return Te({startEdge:T,endEdge:j,direction:M,size:"width"}),(v,d)=>(y(),V(Be,{ref:e(h),dir:e(l),"data-orientation":"horizontal",style:me({"--reka-slider-thumb-transform":!w.value&&e(P).thumbAlignment.value==="overflow"?"translateX(50%)":"translateX(-50%)"}),onSlideStart:d[0]||(d[0]=_=>{const B=g(_,!0);u("slideStart",B)}),onSlideMove:d[1]||(d[1]=_=>{const B=g(_);u("slideMove",B)}),onSlideEnd:d[2]||(d[2]=()=>{b.value=void 0,E.value=void 0,u("slideEnd")}),onStepKeyDown:d[3]||(d[3]=_=>{const B=w.value?"from-left":"from-right",z=e(Me)[B].includes(_.key);u("stepKeyDown",_,z?-1:1)}),onEndKeyDown:d[4]||(d[4]=_=>u("endKeyDown",_)),onHomeKeyDown:d[5]||(d[5]=_=>u("homeKeyDown",_))},{default:p(()=>[Y(v.$slots,"default")]),_:3},8,["dir","style"]))}}),Bt=Tt,Rt=N({__name:"SliderVertical",props:{min:{type:Number,required:!0},max:{type:Number,required:!0},inverted:{type:Boolean,required:!0}},emits:["slideEnd","slideStart","slideMove","homeKeyDown","endKeyDown","stepKeyDown"],setup(c,{emit:t}){const o=c,u=t,{max:s,min:f,inverted:l}=ce(o),r=ee(),{forwardRef:h,currentElement:x}=G(),P=D(),E=D(),b=k(()=>!l.value);function w(M,v){const d=E.value||x.value.getBoundingClientRect(),_=[...r.thumbElements.value][r.valueIndexToChangeRef.value],B=r.thumbAlignment.value==="contain"?_.clientHeight:0;!P.value&&!v&&r.thumbAlignment.value==="contain"&&(P.value=M.clientY-_.getBoundingClientRect().top);const z=[0,d.height-B],W=b.value?[s.value,f.value]:[f.value,s.value],$=ve(z,W),O=v?M.clientY-d.top-B/2:M.clientY-d.top-(P.value??0);return E.value=d,$(O)}const g=k(()=>b.value?"bottom":"top"),T=k(()=>b.value?"top":"bottom"),j=k(()=>b.value?1:-1);return Te({startEdge:g,endEdge:T,direction:j,size:"height"}),(M,v)=>(y(),V(Be,{ref:e(h),"data-orientation":"vertical",style:me({"--reka-slider-thumb-transform":!b.value&&e(r).thumbAlignment.value==="overflow"?"translateY(-50%)":"translateY(50%)"}),onSlideStart:v[0]||(v[0]=d=>{const _=w(d,!0);u("slideStart",_)}),onSlideMove:v[1]||(v[1]=d=>{const _=w(d);u("slideMove",_)}),onSlideEnd:v[2]||(v[2]=()=>{E.value=void 0,P.value=void 0,u("slideEnd")}),onStepKeyDown:v[3]||(v[3]=d=>{const _=b.value?"from-bottom":"from-top",B=e(Me)[_].includes(d.key);u("stepKeyDown",d,B?-1:1)}),onEndKeyDown:v[4]||(v[4]=d=>u("endKeyDown",d)),onHomeKeyDown:v[5]||(v[5]=d=>u("homeKeyDown",d))},{default:p(()=>[Y(M.$slots,"default")]),_:3},8,["style"]))}}),Kt=Rt;const[ee,qt]=De("SliderRoot");var $t=N({inheritAttrs:!1,__name:"SliderRoot",props:{defaultValue:{type:Array,required:!1,default:()=>[0]},modelValue:{type:[Array,null],required:!1},disabled:{type:Boolean,required:!1,default:!1},orientation:{type:String,required:!1,default:"horizontal"},dir:{type:String,required:!1},inverted:{type:Boolean,required:!1,default:!1},min:{type:Number,required:!1,default:0},max:{type:Number,required:!1,default:100},step:{type:Number,required:!1,default:1},minStepsBetweenThumbs:{type:Number,required:!1,default:0},thumbAlignment:{type:String,required:!1,default:"contain"},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"span"},name:{type:String,required:!1},required:{type:Boolean,required:!1}},emits:["update:modelValue","valueCommit"],setup(c,{emit:t}){const o=c,u=t,{min:s,max:f,step:l,minStepsBetweenThumbs:r,orientation:h,disabled:x,thumbAlignment:P,dir:E}=ce(o),b=at(E),{forwardRef:w,currentElement:g}=G(),T=ot(g),{CollectionSlot:j}=fe({isProvider:!0}),M=st(o,"modelValue",u,{defaultValue:o.defaultValue,passive:o.modelValue===void 0}),v=k(()=>Array.isArray(M.value)?[...M.value]:[]),d=D(0),_=D(v.value);function B(S){const C=Dt(v.value,S);$(S,C)}function z(S){$(S,d.value)}function W(){const S=_.value[d.value];v.value[d.value]!==S&&u("valueCommit",Ue(v.value))}function $(S,C,{commit:K}={commit:!1}){var U;const J=Mt(l.value),Q=Vt(Math.round((S-s.value)/l.value)*l.value+s.value,J),Z=Ce(Q,s.value,f.value),L=St(v.value,Z,C);if(At(L,r.value*l.value)){d.value=L.indexOf(Z);const X=String(L)!==String(M.value);X&&K&&u("valueCommit",L),X&&((U=O.value[d.value])==null||U.focus(),M.value=L)}}const O=D([]);return qt({modelValue:M,currentModelValue:v,valueIndexToChangeRef:d,thumbElements:O,orientation:h,min:s,max:f,disabled:x,thumbAlignment:P}),(S,C)=>(y(),V(e(j),null,{default:p(()=>[(y(),V(Oe(e(h)==="horizontal"?Bt:Kt),oe(S.$attrs,{ref:e(w),"as-child":S.asChild,as:S.as,min:e(s),max:e(f),dir:e(b),inverted:S.inverted,"aria-disabled":e(x),"data-disabled":e(x)?"":void 0,onPointerdown:C[0]||(C[0]=()=>{e(x)||(_.value=v.value)}),onSlideStart:C[1]||(C[1]=K=>!e(x)&&B(K)),onSlideMove:C[2]||(C[2]=K=>!e(x)&&z(K)),onSlideEnd:C[3]||(C[3]=K=>!e(x)&&W()),onHomeKeyDown:C[4]||(C[4]=K=>!e(x)&&$(e(s),0,{commit:!0})),onEndKeyDown:C[5]||(C[5]=K=>!e(x)&&$(e(f),v.value.length-1,{commit:!0})),onStepKeyDown:C[6]||(C[6]=(K,J)=>{if(!e(x)){const L=e(Pe).includes(K.key)||K.shiftKey&&e(Ae).includes(K.key)?10:1,U=d.value,X=v.value[U],ne=e(l)*L*J;$(X+ne,U,{commit:!0})}})}),{default:p(()=>[Y(S.$slots,"default",{modelValue:e(M)}),e(T)&&S.name?(y(),V(e(lt),{key:0,type:"number",value:e(M),name:S.name,required:S.required,disabled:e(x),step:e(l)},null,8,["value","name","required","disabled","step"])):H("v-if",!0)]),_:3},16,["as-child","as","min","max","dir","inverted","aria-disabled","data-disabled"]))]),_:3}))}}),It=$t,zt=N({__name:"SliderImpl",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"span"}},emits:["slideStart","slideMove","slideEnd","homeKeyDown","endKeyDown","stepKeyDown"],setup(c,{emit:t}){const o=c,u=t,s=ee();return(f,l)=>(y(),V(e(se),oe({"data-slider-impl":""},o,{onKeydown:l[0]||(l[0]=r=>{r.key==="Home"?(u("homeKeyDown",r),r.preventDefault()):r.key==="End"?(u("endKeyDown",r),r.preventDefault()):e(Pe).concat(e(Ae)).includes(r.key)&&(u("stepKeyDown",r),r.preventDefault())}),onPointerdown:l[1]||(l[1]=r=>{const h=r.target;h.setPointerCapture(r.pointerId),r.preventDefault(),e(s).thumbElements.value.includes(h)?h.focus():u("slideStart",r)}),onPointermove:l[2]||(l[2]=r=>{r.target.hasPointerCapture(r.pointerId)&&u("slideMove",r)}),onPointerup:l[3]||(l[3]=r=>{const h=r.target;h.hasPointerCapture(r.pointerId)&&(h.releasePointerCapture(r.pointerId),u("slideEnd",r))})}),{default:p(()=>[Y(f.$slots,"default")]),_:3},16))}}),Be=zt,Lt=N({__name:"SliderRange",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"span"}},setup(c){const t=ee(),o=Ve();G();const u=k(()=>t.currentModelValue.value.map(l=>Ee(l,t.min.value,t.max.value))),s=k(()=>t.currentModelValue.value.length>1?Math.min(...u.value):0),f=k(()=>100-Math.max(...u.value,0));return(l,r)=>(y(),V(e(se),{"data-disabled":e(t).disabled.value?"":void 0,"data-orientation":e(t).orientation.value,"as-child":l.asChild,as:l.as,style:me({[e(o).startEdge.value]:`${s.value}%`,[e(o).endEdge.value]:`${f.value}%`})},{default:p(()=>[Y(l.$slots,"default")]),_:3},8,["data-disabled","data-orientation","as-child","as","style"]))}}),Nt=Lt,Ft=N({inheritAttrs:!1,__name:"SliderThumbImpl",props:{index:{type:Number,required:!0},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(c){const t=c,o=ee(),u=Ve(),{forwardRef:s,currentElement:f}=G(),{CollectionItem:l}=fe(),r=k(()=>{var g,T;return(T=(g=o.modelValue)==null?void 0:g.value)==null?void 0:T[t.index]}),h=k(()=>r.value===void 0?0:Ee(r.value,o.min.value??0,o.max.value??100)),x=k(()=>{var g,T;return Ct(t.index,((T=(g=o.modelValue)==null?void 0:g.value)==null?void 0:T.length)??0)}),P=tt(f),E=k(()=>P[u.size].value),b=k(()=>o.thumbAlignment.value==="overflow"||!E.value?0:Et(E.value,h.value,u.direction.value)),w=nt();return ie(()=>{o.thumbElements.value.push(f.value)}),ue(()=>{const g=o.thumbElements.value.findIndex(T=>T===f.value)??-1;o.thumbElements.value.splice(g,1)}),(g,T)=>(y(),V(e(l),null,{default:p(()=>[m(e(se),oe(g.$attrs,{ref:e(s),role:"slider",tabindex:e(o).disabled.value?void 0:0,"aria-label":g.$attrs["aria-label"]||x.value,"data-disabled":e(o).disabled.value?"":void 0,"data-orientation":e(o).orientation.value,"aria-valuenow":r.value,"aria-valuemin":e(o).min.value,"aria-valuemax":e(o).max.value,"aria-orientation":e(o).orientation.value,"as-child":g.asChild,as:g.as,style:{transform:"var(--reka-slider-thumb-transform)",position:"absolute",[e(u).startEdge.value]:`calc(${h.value}% + ${b.value}px)`,display:!e(w)&&r.value===void 0?"none":void 0},onFocus:T[0]||(T[0]=()=>{e(o).valueIndexToChangeRef.value=g.index})}),{default:p(()=>[Y(g.$slots,"default")]),_:3},16,["tabindex","aria-label","data-disabled","data-orientation","aria-valuenow","aria-valuemin","aria-valuemax","aria-orientation","as-child","as","style"])]),_:3}))}}),Ht=Ft,jt=N({__name:"SliderThumb",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"span"}},setup(c){const t=c,{getItems:o}=fe(),{forwardRef:u,currentElement:s}=G(),f=k(()=>s.value?o(!0).findIndex(l=>l.ref===s.value):-1);return(l,r)=>(y(),V(Ht,oe({ref:e(u)},t,{index:f.value}),{default:p(()=>[Y(l.$slots,"default")]),_:3},16,["index"]))}}),Ot=jt,Ut=N({__name:"SliderTrack",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"span"}},setup(c){const t=ee();return G(),(o,u)=>(y(),V(e(se),{"as-child":o.asChild,as:o.as,"data-disabled":e(t).disabled.value?"":void 0,"data-orientation":e(t).orientation.value},{default:p(()=>[Y(o.$slots,"default")]),_:3},8,["as-child","as","data-disabled","data-orientation"]))}}),Xt=Ut;const ke=N({__name:"Slider",props:{defaultValue:{},modelValue:{},disabled:{type:Boolean},orientation:{},dir:{},inverted:{type:Boolean},min:{},max:{},step:{},minStepsBetweenThumbs:{},thumbAlignment:{},asChild:{type:Boolean},as:{},name:{},required:{type:Boolean},class:{}},emits:["update:modelValue","valueCommit"],setup(c,{emit:t}){const o=c,u=t,s=rt(o,"class"),f=et(s,u);return(l,r)=>(y(),V(e(It),oe({"data-slot":"slider",class:e(Ge)("relative flex w-full touch-none items-center select-none data-[disabled]:opacity-50 data-[orientation=vertical]:h-full data-[orientation=vertical]:min-h-44 data-[orientation=vertical]:w-auto data-[orientation=vertical]:flex-col",o.class)},e(f)),{default:p(({modelValue:h})=>[m(e(Xt),{"data-slot":"slider-track",class:"bg-muted relative grow overflow-hidden rounded-full data-[orientation=horizontal]:h-1.5 data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-1.5"},{default:p(()=>[m(e(Nt),{"data-slot":"slider-range",class:"bg-primary absolute data-[orientation=horizontal]:h-full data-[orientation=vertical]:w-full"})]),_:1}),(y(!0),I(de,null,Se(h,(x,P)=>(y(),V(e(Ot),{key:P,"data-slot":"slider-thumb",class:"border-primary bg-background ring-ring/50 block size-4 shrink-0 rounded-full border shadow-sm transition-[color,box-shadow] hover:ring-4 focus-visible:ring-4 focus-visible:outline-hidden disabled:pointer-events-none disabled:opacity-50"}))),128))]),_:1},16,["class"]))}}),Yt={class:"max-w-4xl mx-auto space-y-6"},Wt={class:"flex flex-col md:flex-row gap-6"},Gt={class:"w-full md:w-64 aspect-video bg-gradient-to-br from-blue-100 to-purple-100 rounded-lg overflow-hidden shrink-0 relative"},Jt=["src","alt"],Qt={key:1,class:"w-full h-full flex items-center justify-center"},Zt={key:2,class:"absolute inset-0 bg-black/20 flex items-center justify-center"},ea={class:"bg-white/90 rounded-full p-3"},ta={class:"flex-1 space-y-4"},aa={key:0,class:"flex items-center gap-2 mb-2"},oa={class:"flex flex-wrap items-center gap-4"},la={class:"flex items-center gap-2 text-sm text-muted-foreground"},sa={class:"flex items-center gap-2 text-sm text-blue-600"},na={class:"flex items-center gap-2 text-sm text-purple-600"},ra={key:0,class:"flex items-center gap-2 text-sm text-green-600"},ia={class:"space-y-2"},ua={class:"flex justify-between items-center text-sm"},da={class:"font-medium"},ca={class:"flex justify-between text-xs text-muted-foreground"},ma={key:0,class:"ml-2 flex items-center gap-2 text-sm text-muted-foreground"},fa=["src"],va={class:"space-y-3"},pa={class:"flex gap-2"},ga=["href"],ya={key:1,class:"text-center py-8"},ha={class:"flex items-center justify-center gap-2 text-muted-foreground mb-4"},_a={key:2,class:"space-y-6"},ba={class:"flex items-center justify-center gap-4"},wa={class:"space-y-2"},xa={class:"flex justify-between text-sm text-muted-foreground"},ka={class:"flex justify-between text-xs text-muted-foreground"},Sa={class:"flex flex-col sm:flex-row items-center justify-between gap-4"},Ca={class:"flex items-center gap-3"},Da={class:"text-xs text-muted-foreground min-w-[3ch]"},Ea={class:"flex items-center gap-2"},Pa={class:"flex gap-1"},Aa=N({__name:"Show",props:{audio:{},user_progress:{}},setup(c){var ge;const t=c,o=(ge=document.querySelector('meta[name="csrf-token"]'))==null?void 0:ge.getAttribute("content"),u=[{title:"Dashboard",href:"/dashboard"},{title:"Audio Courses",href:"/audio"},{title:t.audio.name,href:"#"}],s=D(),f=D(!1),l=D(t.user_progress.current_time||0),r=D(t.audio.duration||0),h=D(1),x=D(!1),P=D(1),E=D(!0),b=D(""),w=D(!1),g=D(!1),T=k(()=>Math.floor(l.value)),j=D(!1),M=D(l.value),v=D(),d=D(),_=[.5,.75,1,1.25,1.5,1.75,2],B=k(()=>r.value>0?l.value/r.value*100:0),z=k(()=>C(l.value)),W=k(()=>C(r.value)),$=k(()=>B.value>=95||l.value>=r.value-30),O=k(()=>Math.min(B.value,100)),S=k(()=>{const a=T.value,i=Math.floor(a/60),A=a%60;return i>0?A>0?`${i}m ${A}s listened`:`${i}m listened`:A>0?`${A}s listened`:"0m listened"});function C(a){if(!a||isNaN(a))return"00:00";const i=Math.floor(a/60),A=Math.floor(a%60);return`${i.toString().padStart(2,"0")}:${A.toString().padStart(2,"0")}`}function K(){j.value=!0}function J(){!s.value||!g.value||(f.value?s.value.pause():(w.value=!0,s.value.play().catch(a=>{console.error("Play failed:",a),b.value="Unable to play audio. The file might be restricted or your connection is slow.",w.value=!1})))}function Q(a){!s.value||!g.value||(w.value=!0,s.value.currentTime=a,l.value=a,d.value&&clearTimeout(d.value),d.value=setTimeout(()=>{te()},1e3))}function Z(){const a=Math.min(l.value+15,r.value);Q(a)}function L(){const a=Math.max(l.value-15,0);Q(a)}function U(){s.value&&(x.value=!x.value,s.value.muted=x.value)}function X(a){s.value&&(h.value=a[0],s.value.volume=h.value,h.value>0&&x.value&&(x.value=!1,s.value.muted=!1))}function ne(a){s.value&&(P.value=a,s.value.playbackRate=a)}async function te(){console.log("saveProgress called!",{currentTime:l.value,lastSavedTime:M.value,audioId:t.audio.id});try{const a=Math.abs(l.value-M.value);if(a>=1){const i=await he.post(`/audio/${t.audio.id}/progress`,{current_time:l.value,total_listened_time:t.user_progress.total_listened_time+a});console.log("Progress API response:",i.data),i.data.success&&i.data.progress&&(t.user_progress.current_time=i.data.progress.current_time,t.user_progress.completion_percentage=i.data.progress.completion_percentage,t.user_progress.is_completed=i.data.progress.is_completed,console.log("✅ Local progress updated:",{completion:t.user_progress.completion_percentage,is_completed:t.user_progress.is_completed}),M.value=l.value)}}catch(a){console.error("Failed to save progress:",a.response||a)}}async function pe(){console.log("markCompleted called for audio ID:",t.audio.id);try{const a=await he.post(`/audio/${t.audio.id}/complete`,{},{headers:{"X-CSRF-TOKEN":o}});console.log("Complete API response:",a.data),a.data.success&&(console.log("Audio marked as completed successfully"),setTimeout(()=>{window.location.reload()},1e3))}catch(a){console.error("Failed to mark as completed:",a.response||a),a.value="Failed to mark as completed. Please try again."}}function Re(){s.value&&(b.value="",E.value=!0,g.value=!1,s.value.load())}function Ke(){E.value=!0,w.value=!0,console.log("Audio loading started")}function qe(){g.value=!0,w.value=!1,console.log("Audio can start playing")}function $e(){s.value&&(r.value=s.value.duration||t.audio.duration,l.value>0&&l.value<r.value&&(s.value.currentTime=l.value),E.value=!1,w.value=!1,g.value=!0,b.value="",console.log("Audio loaded successfully, duration:",r.value,"resume from:",l.value))}function Ie(){s.value&&(l.value=s.value.currentTime,w.value=!1)}function ze(){f.value=!0,w.value=!1}function Le(){f.value=!1,te()}function Ne(){f.value=!1,l.value=r.value,t.user_progress.is_completed||pe()}function Fe(){w.value=!0,console.log("Audio is buffering...")}function He(){w.value=!1,f.value=!0}function je(a){var i;if(console.error("Audio loading error:",a),(i=s.value)!=null&&i.error){const A=s.value.error.code,ye=s.value.error.message;switch(console.error("Audio error details:",{code:A,message:ye}),A){case 1:b.value="Audio loading was aborted. Please try again.";break;case 2:b.value="Network error while loading audio. Check your connection and try again.";break;case 3:b.value="Audio file is corrupted or in an unsupported format.";break;case 4:b.value="Audio file format is not supported or file is not accessible.";break;default:b.value="Failed to load audio. The file might be private or moved."}}else b.value="Failed to load audio from Google Drive. Please check if the file is publicly accessible.";E.value=!1,w.value=!1,g.value=!1}return ie(()=>{s.value&&(s.value.volume=h.value,s.value.playbackRate=P.value,s.value.preload="metadata"),v.value=setInterval(()=>{f.value&&te()},1e4);const a=()=>{te()};window.addEventListener("beforeunload",a),ue(()=>{v.value&&clearInterval(v.value),d.value&&clearTimeout(d.value),window.removeEventListener("beforeunload",a),te()})}),ie(()=>{function a(i){const A=i.target;if(!(A.tagName==="INPUT"||A.tagName==="TEXTAREA"||A.contentEditable==="true"))switch(i.code){case"Space":i.preventDefault(),J();break;case"ArrowLeft":i.preventDefault(),L();break;case"ArrowRight":i.preventDefault(),Z();break;case"KeyM":i.preventDefault(),U();break;case"ArrowUp":i.preventDefault(),X([Math.min(h.value+.1,1)]);break;case"ArrowDown":i.preventDefault(),X([Math.max(h.value-.1,0)]);break}}document.addEventListener("keydown",a),ue(()=>{document.removeEventListener("keydown",a)})}),(a,i)=>(y(),I(de,null,[m(e(Xe),{title:`${a.audio.name} - Audio Course`},null,8,["title"]),m(We,{breadcrumbs:u},{default:p(()=>[n("div",Yt,[m(e(F),{asChild:"",variant:"ghost",class:"mb-4"},{default:p(()=>[m(e(Ye),{href:"/audio"},{default:p(()=>[m(e(ct),{class:"h-4 w-4 mr-2"}),i[1]||(i[1]=q(" Back to Audio Courses "))]),_:1})]),_:1}),m(e(_e),null,{default:p(()=>[m(e(be),{class:"p-6"},{default:p(()=>[n("div",Wt,[n("div",Gt,[a.audio.thumbnail_url&&!j.value?(y(),I("img",{key:0,src:a.audio.thumbnail_url,alt:a.audio.name,class:"w-full h-full object-cover",onError:K},null,40,Jt)):(y(),I("div",Qt,[m(e(re),{class:"h-16 w-16 text-blue-500"})])),w.value||E.value?(y(),I("div",Zt,[n("div",ea,[m(e(ae),{class:"h-8 w-8 text-blue-600 animate-spin"})])])):H("",!0)]),n("div",ta,[n("div",null,[a.audio.category?(y(),I("div",aa,[m(e(mt),{class:"h-4 w-4 text-muted-foreground"}),m(e(Ze),{variant:"outline"},{default:p(()=>[q(R(a.audio.category.name),1)]),_:1})])):H("",!0),m(e(we),{class:"text-2xl mb-2"},{default:p(()=>[q(R(a.audio.name),1)]),_:1}),m(e(Je),{class:"text-base"},{default:p(()=>[q(R(a.audio.description||"No description available"),1)]),_:1})]),n("div",oa,[n("div",la,[m(e(ft),{class:"h-4 w-4"}),n("span",null,R(a.audio.formatted_duration),1)]),n("div",sa,[m(e(vt),{class:"h-4 w-4"}),n("span",null,R(Math.round(a.user_progress.completion_percentage))+"% Complete",1)]),n("div",na,[m(e(bt),{class:"h-4 w-4"}),n("span",null,R(S.value),1)]),a.user_progress.is_completed?(y(),I("div",ra,[m(e(xe),{class:"h-4 w-4"}),i[2]||(i[2]=n("span",null,"Completed",-1))])):H("",!0)]),n("div",ia,[n("div",ua,[i[3]||(i[3]=n("span",{class:"text-muted-foreground"},"Overall Progress",-1)),n("span",da,R(Math.round(a.user_progress.completion_percentage))+"%",1)]),m(e(it),{value:a.user_progress.completion_percentage,class:"h-2"},null,8,["value"]),n("div",ca,[n("span",null,R(a.user_progress.formatted_current_time)+" / "+R(a.audio.formatted_duration),1),n("span",null,R(S.value),1)])])])])]),_:1})]),_:1}),m(e(_e),null,{default:p(()=>[m(e(Qe),null,{default:p(()=>[m(e(we),{class:"flex items-center gap-2"},{default:p(()=>[m(e(re),{class:"h-5 w-5"}),i[5]||(i[5]=q(" Audio Player ")),w.value?(y(),I("div",ma,[m(e(ae),{class:"h-4 w-4 animate-spin"}),i[4]||(i[4]=q(" Buffering... "))])):H("",!0)]),_:1})]),_:1}),m(e(be),{class:"space-y-6"},{default:p(()=>[n("audio",{ref_key:"audioRef",ref:s,src:a.audio.google_cloud_url,preload:"metadata",onLoadstart:Ke,onCanplay:qe,onLoadeddata:$e,onTimeupdate:Ie,onPlay:ze,onPause:Le,onEnded:Ne,onWaiting:Fe,onPlaying:He,onError:je,crossorigin:"anonymous"},null,40,fa),b.value?(y(),V(e(ut),{key:0,variant:"destructive"},{default:p(()=>[m(e(pt),{class:"h-4 w-4"}),m(e(dt),null,{default:p(()=>[n("div",va,[n("p",null,R(b.value),1),n("div",pa,[m(e(F),{onClick:Re,size:"sm",variant:"outline"},{default:p(()=>[m(e(ae),{class:"h-4 w-4 mr-2"}),i[6]||(i[6]=q(" Retry "))]),_:1}),m(e(F),{asChild:"",size:"sm",variant:"outline"},{default:p(()=>[n("a",{href:a.audio.google_cloud_url,target:"_blank"},[m(e(gt),{class:"h-4 w-4 mr-2"}),i[7]||(i[7]=q(" Open Direct Link "))],8,ga)]),_:1})])])]),_:1})]),_:1})):H("",!0),E.value&&!b.value?(y(),I("div",ya,[n("div",ha,[m(e(ae),{class:"h-5 w-5 animate-spin"}),i[8]||(i[8]=n("span",null,"Loading audio from Google Drive...",-1))]),i[9]||(i[9]=n("div",{class:"text-sm text-muted-foreground"}," This may take a moment for large files ",-1))])):H("",!0),!E.value&&!b.value?(y(),I("div",_a,[n("div",ba,[m(e(F),{onClick:L,variant:"outline",size:"sm",disabled:!g.value},{default:p(()=>[m(e(wt),{class:"h-4 w-4"})]),_:1},8,["disabled"]),m(e(F),{onClick:J,size:"lg",class:"h-14 w-14 rounded-full relative",disabled:!g.value},{default:p(()=>[w.value?(y(),V(e(ae),{key:0,class:"h-6 w-6 animate-spin"})):f.value?(y(),V(e(ht),{key:2,class:"h-6 w-6"})):(y(),V(e(yt),{key:1,class:"h-6 w-6 ml-0.5"}))]),_:1},8,["disabled"]),m(e(F),{onClick:Z,variant:"outline",size:"sm",disabled:!g.value},{default:p(()=>[m(e(xt),{class:"h-4 w-4"})]),_:1},8,["disabled"])]),n("div",wa,[n("div",xa,[n("span",null,R(z.value),1),n("span",null,R(W.value),1)]),m(e(ke),{value:[l.value],max:r.value,step:1,"onUpdate:modelValue":i[0]||(i[0]=A=>Q(A[0])),class:"w-full",disabled:!g.value},null,8,["value","max","disabled"]),n("div",ka,[n("span",null,R(Math.round(O.value))+"% played",1),n("span",null,R(S.value),1)])]),n("div",Sa,[n("div",Ca,[m(e(F),{onClick:U,variant:"ghost",size:"sm"},{default:p(()=>[!x.value&&h.value>0?(y(),V(e(re),{key:0,class:"h-4 w-4"})):(y(),V(e(kt),{key:1,class:"h-4 w-4"}))]),_:1}),m(e(ke),{value:[h.value],max:1,step:.1,"onUpdate:modelValue":X,class:"w-24"},null,8,["value"]),n("span",Da,R(Math.round(h.value*100))+"% ",1)]),n("div",Ea,[i[10]||(i[10]=n("span",{class:"text-sm text-muted-foreground"},"Speed:",-1)),n("div",Pa,[(y(),I(de,null,Se(_,A=>m(e(F),{key:A,onClick:ye=>ne(A),variant:P.value===A?"default":"outline",size:"sm",class:"text-xs px-2 py-1 h-auto"},{default:p(()=>[q(R(A)+"x ",1)]),_:2},1032,["onClick","variant"])),64))])]),$.value&&!a.user_progress.is_completed?(y(),V(e(F),{key:0,onClick:pe,variant:"outline",size:"sm",class:"gap-2"},{default:p(()=>[m(e(xe),{class:"h-4 w-4"}),i[11]||(i[11]=q(" Mark Complete "))]),_:1})):H("",!0)]),i[12]||(i[12]=n("div",{class:"text-xs text-muted-foreground text-center space-y-1"},[n("div",{class:"font-medium"},"Keyboard Shortcuts:"),n("div",{class:"flex flex-wrap justify-center gap-x-4 gap-y-1"},[n("span",null,[n("kbd",{class:"px-1 bg-muted rounded"},"Space"),q(" Play/Pause")]),n("span",null,[n("kbd",{class:"px-1 bg-muted rounded"},"←/→"),q(" Skip 15s")]),n("span",null,[n("kbd",{class:"px-1 bg-muted rounded"},"M"),q(" Mute")]),n("span",null,[n("kbd",{class:"px-1 bg-muted rounded"},"↑/↓"),q(" Volume")])])],-1))])):H("",!0)]),_:1})]),_:1})])]),_:1})],64))}}),mo=_t(Aa,[["__scopeId","data-v-1adc3146"]]);export{mo as default};
