import{d as rt,z as lt,r as S,W as C,l as ot,g as m,o,w as e,e as u,b as s,u as t,P as b,f as l,a as x,h as _,F as V,i as B,t as n,k as A}from"./app-B6yE8LOk.js";import{l as it}from"./lodash-DAFX6rJW.js";import{_ as ut}from"./AdminLayout.vue_vue_type_script_setup_true_lang-Dla4wK9w.js";import{_ as v}from"./Button.vue_vue_type_script_setup_true_lang-BCmbLoyf.js";import{_ as N}from"./Card.vue_vue_type_script_setup_true_lang-DD4LNril.js";import{_ as T}from"./CardContent.vue_vue_type_script_setup_true_lang-CZheQe_Z.js";import{_ as nt}from"./CardDescription.vue_vue_type_script_setup_true_lang-CXK7hJOE.js";import{_ as dt}from"./CardHeader.vue_vue_type_script_setup_true_lang-CboW5KhX.js";import{_ as mt}from"./CardTitle.vue_vue_type_script_setup_true_lang-C-pTtL_h.js";import{_ as ft,a as ct,b as j,c as y,d as pt,e as h}from"./TableHeader.vue_vue_type_script_setup_true_lang-C98UUgiA.js";import{_ as w}from"./index-DI_vaViV.js";import{c as U,e as E}from"./AppLayout.vue_vue_type_script_setup_true_lang-fW9bHL08.js";import{_ as vt}from"./Input.vue_vue_type_script_setup_true_lang-DZioDOGQ.js";import{_ as F,a as I,b as q,c as L,d as $}from"./SelectValue.vue_vue_type_script_setup_true_lang-D42fbF8p.js";import{_ as _t,a as gt,b as xt,c as yt,d as ht,e as bt,f as wt,g as $t}from"./AlertDialogTitle.vue_vue_type_script_setup_true_lang-H-mo281L.js";import{_ as kt}from"./AlertDialogTrigger.vue_vue_type_script_setup_true_lang-CqgcUyGf.js";import{P as W}from"./plus-M2AtKn5e.js";import{S as Rt}from"./search-CYhNKWbw.js";import{X}from"./_plugin-vue_export-helper-DSV2G5wh.js";import{B as M}from"./bug-DioH8Yp3.js";import{E as P}from"./eye-D3M3yheQ.js";import{S as St}from"./square-pen-DE9PdMAr.js";import{C as G}from"./circle-check-HrBDjhBZ.js";import{T as Ct}from"./trash-2-C-se8X9s.js";import{C as k}from"./clock-TaqH5Jq1.js";import{C as H}from"./circle-x-ClxP94AQ.js";import{T as Vt}from"./triangle-alert-BKtrGwxt.js";import"./index-ByyNcVWT.js";import"./index-Cm0BeycD.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-ypd93s_P.js";import"./useForwardPropsEmits-SSLLGrJh.js";import"./Presence-Dm6ZMHfA.js";import"./ConfigProvider-C0zqv-SX.js";import"./useForwardExpose-CusEPu18.js";import"./Teleport-DPDyMkpW.js";import"./handleAndDispatchCustomEvent-ChOKVcqp.js";import"./chevron-up-Df01o_XA.js";import"./Collection-Dft6h26F.js";import"./usePrimitiveElement-iDJ2G07Q.js";import"./check-lhpFQjvm.js";import"./useSize-Cf-Feo3N.js";import"./ohash.D__AXeF1-DHF4M4F_.js";import"./nullish-CHIgUVhi.js";import"./VisuallyHidden-BPH1I801.js";const Bt={class:"px-4 sm:px-0 space-y-6"},Pt={class:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4"},Dt={class:"grid grid-cols-1 md:grid-cols-4 gap-4"},zt={class:"relative md:col-span-2"},Ot={key:0,class:"flex items-center gap-2 mt-4"},At={class:"overflow-x-auto"},Nt={class:"font-medium text-foreground mb-1"},Tt={class:"text-xs text-muted-foreground line-clamp-2"},jt={class:"flex items-center space-x-2"},Ut={class:"text-sm font-medium"},Et={key:0,class:"flex items-center space-x-2"},Ft={class:"text-sm"},It={key:1,class:"text-xs text-muted-foreground"},qt={class:"text-sm text-muted-foreground"},Lt={class:"flex justify-end space-x-1"},Wt={key:0,class:"text-center py-12"},Xt={class:"text-lg font-medium text-foreground mb-2"},Mt={class:"text-sm text-muted-foreground mb-6"},Gt={class:"space-x-2"},Ht={key:0,class:"flex justify-between items-center pt-4 border-t"},Jt={class:"text-sm text-muted-foreground hidden sm:block"},Kt={key:0},Qt={key:0},qe=rt({__name:"Index",props:{bugReports:Object,search:String,status:String,priority:String,statusOptions:Object,priorityOptions:Object},setup(i){const R=i;lt();const f=S(R.search||""),c=S(R.status||"all"),p=S(R.priority||"all"),J=[{name:"Dashboard",href:route("dashboard")},{name:"Bug Reports",href:route("admin.bug-reports.index")}],K=it.debounce(()=>{C.get(route("admin.bug-reports.index"),{search:f.value||void 0,status:c.value!=="all"?c.value:void 0,priority:p.value!=="all"?p.value:void 0},{preserveState:!0,preserveScroll:!0,replace:!0})},500);ot([f,c,p],()=>{K()});const D=()=>{f.value="",c.value="all",p.value="all"};function Q(d){switch(d){case"low":return k;case"medium":return P;case"high":return Vt;case"critical":return H;default:return k}}function Y(d){switch(d){case"low":return"secondary";case"medium":return"default";case"high":return"destructive";case"critical":return"destructive";default:return"secondary"}}function Z(d){switch(d){case"open":return k;case"in_progress":return P;case"resolved":return G;case"closed":return H;default:return k}}function tt(d){switch(d){case"open":return"secondary";case"in_progress":return"default";case"resolved":return"default";case"closed":return"outline";default:return"secondary"}}const et=d=>{C.delete(`/admin/bug-reports/${d}`,{preserveState:!0,onSuccess:()=>{},onError:a=>{console.error("Delete failed:",a)}})},st=d=>{C.patch(`/admin/bug-reports/${d}/resolve`,{},{preserveState:!0,preserveScroll:!0})},z=d=>d.split(" ").map(a=>a.charAt(0).toUpperCase()).join("").slice(0,2),at=d=>new Date(d).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return(d,a)=>(o(),m(ut,{breadcrumbs:J},{default:e(()=>[u("div",Bt,[u("div",Pt,[a[5]||(a[5]=u("div",null,[u("h1",{class:"text-xl sm:text-2xl font-bold text-foreground"},"Bug Reports"),u("p",{class:"text-sm text-muted-foreground mt-1"},"Track and manage technical issues and bugs")],-1)),s(t(v),{as:t(b),href:"/admin/bug-reports/create"},{default:e(()=>[s(t(W),{class:"mr-2 h-4 w-4"}),a[4]||(a[4]=l(" Report New Bug "))]),_:1},8,["as"])]),s(t(N),null,{default:e(()=>[s(t(T),{class:"pt-6"},{default:e(()=>[u("div",Dt,[u("div",zt,[s(t(Rt),{class:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s(t(vt),{modelValue:f.value,"onUpdate:modelValue":a[0]||(a[0]=r=>f.value=r),type:"text",placeholder:"Search bug reports by title or description...",class:"pl-10 pr-10"},null,8,["modelValue"]),f.value?(o(),m(t(v),{key:0,onClick:a[1]||(a[1]=r=>f.value=""),variant:"ghost",size:"sm",class:"absolute right-1 top-1/2 transform -translate-y-1/2 h-8 w-8 p-0"},{default:e(()=>[s(t(X),{class:"h-4 w-4"})]),_:1})):_("",!0)]),u("div",null,[s(t(F),{modelValue:c.value,"onUpdate:modelValue":a[2]||(a[2]=r=>c.value=r)},{default:e(()=>[s(t(I),null,{default:e(()=>[s(t(q),{placeholder:"All Status"})]),_:1}),s(t(L),null,{default:e(()=>[s(t($),{value:"all"},{default:e(()=>a[6]||(a[6]=[l("All Status")])),_:1}),(o(!0),x(V,null,B(i.statusOptions,(r,g)=>(o(),m(t($),{key:g,value:g},{default:e(()=>[l(n(r),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue"])]),u("div",null,[s(t(F),{modelValue:p.value,"onUpdate:modelValue":a[3]||(a[3]=r=>p.value=r)},{default:e(()=>[s(t(I),null,{default:e(()=>[s(t(q),{placeholder:"All Priority"})]),_:1}),s(t(L),null,{default:e(()=>[s(t($),{value:"all"},{default:e(()=>a[7]||(a[7]=[l("All Priority")])),_:1}),(o(!0),x(V,null,B(i.priorityOptions,(r,g)=>(o(),m(t($),{key:g,value:g},{default:e(()=>[l(n(r),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue"])])]),f.value||c.value!=="all"||p.value!=="all"?(o(),x("div",Ot,[a[9]||(a[9]=u("span",{class:"text-sm text-muted-foreground"},"Active filters:",-1)),f.value?(o(),m(t(w),{key:0,variant:"secondary",class:"text-xs"},{default:e(()=>[l(' Search: "'+n(f.value)+'" ',1)]),_:1})):_("",!0),c.value!=="all"?(o(),m(t(w),{key:1,variant:"secondary",class:"text-xs"},{default:e(()=>[l(" Status: "+n(i.statusOptions[c.value]),1)]),_:1})):_("",!0),p.value!=="all"?(o(),m(t(w),{key:2,variant:"secondary",class:"text-xs"},{default:e(()=>[l(" Priority: "+n(i.priorityOptions[p.value]),1)]),_:1})):_("",!0),s(t(v),{onClick:D,variant:"ghost",size:"sm",class:"text-xs"},{default:e(()=>[s(t(X),{class:"h-3 w-3 mr-1"}),a[8]||(a[8]=l(" Clear all "))]),_:1})])):_("",!0)]),_:1})]),_:1}),s(t(N),null,{default:e(()=>[s(t(dt),null,{default:e(()=>[s(t(mt),{class:"flex items-center"},{default:e(()=>[s(t(M),{class:"mr-2 h-5 w-5"}),a[10]||(a[10]=l(" Bug Reports "))]),_:1}),s(t(nt),null,{default:e(()=>{var r,g,O;return[l(" Showing "+n(((g=(r=i.bugReports)==null?void 0:r.data)==null?void 0:g.length)||0)+" bug reports "+n((O=i.bugReports)!=null&&O.total?`of ${i.bugReports.total} total`:""),1)]}),_:1})]),_:1}),s(t(T),null,{default:e(()=>[u("div",At,[s(t(ft),null,{default:e(()=>[s(t(ct),null,{default:e(()=>[s(t(j),null,{default:e(()=>[s(t(y),null,{default:e(()=>a[11]||(a[11]=[l("Bug Report")])),_:1}),s(t(y),null,{default:e(()=>a[12]||(a[12]=[l("Reporter")])),_:1}),s(t(y),null,{default:e(()=>a[13]||(a[13]=[l("Priority")])),_:1}),s(t(y),null,{default:e(()=>a[14]||(a[14]=[l("Status")])),_:1}),s(t(y),null,{default:e(()=>a[15]||(a[15]=[l("Assigned To")])),_:1}),s(t(y),null,{default:e(()=>a[16]||(a[16]=[l("Date")])),_:1}),s(t(y),{class:"text-right"},{default:e(()=>a[17]||(a[17]=[l("Actions")])),_:1})]),_:1})]),_:1}),s(t(pt),null,{default:e(()=>[(o(!0),x(V,null,B(i.bugReports.data,r=>(o(),m(t(j),{key:r.id,class:"hover:bg-muted/50"},{default:e(()=>[s(t(h),{class:"max-w-xs"},{default:e(()=>[u("div",Nt,n(r.title),1),u("div",Tt,n(r.description.substring(0,100))+n(r.description.length>100?"...":""),1)]),_:2},1024),s(t(h),null,{default:e(()=>[u("div",jt,[s(t(U),{class:"h-6 w-6"},{default:e(()=>[s(t(E),{class:"bg-muted text-muted-foreground text-xs"},{default:e(()=>[l(n(z(r.reported_by.name)),1)]),_:2},1024)]),_:2},1024),u("div",Ut,n(r.reported_by.name),1)])]),_:2},1024),s(t(h),null,{default:e(()=>[s(t(w),{variant:Y(r.priority),class:"flex items-center w-fit"},{default:e(()=>[(o(),m(A(Q(r.priority)),{class:"mr-1 h-3 w-3"})),l(" "+n(i.priorityOptions[r.priority]),1)]),_:2},1032,["variant"])]),_:2},1024),s(t(h),null,{default:e(()=>[s(t(w),{variant:tt(r.status),class:"flex items-center w-fit"},{default:e(()=>[(o(),m(A(Z(r.status)),{class:"mr-1 h-3 w-3"})),l(" "+n(i.statusOptions[r.status]),1)]),_:2},1032,["variant"])]),_:2},1024),s(t(h),null,{default:e(()=>[r.assigned_to?(o(),x("div",Et,[s(t(U),{class:"h-6 w-6"},{default:e(()=>[s(t(E),{class:"bg-muted text-muted-foreground text-xs"},{default:e(()=>[l(n(z(r.assigned_to.name)),1)]),_:2},1024)]),_:2},1024),u("div",Ft,n(r.assigned_to.name),1)])):(o(),x("div",It,"Unassigned"))]),_:2},1024),s(t(h),null,{default:e(()=>[u("div",qt,n(at(r.created_at)),1)]),_:2},1024),s(t(h),{class:"text-right"},{default:e(()=>[u("div",Lt,[s(t(v),{as:t(b),href:`/admin/bug-reports/${r.id}`,variant:"ghost",size:"sm",title:"View Details"},{default:e(()=>[s(t(P),{class:"h-4 w-4"})]),_:2},1032,["as","href"]),s(t(v),{as:t(b),href:`/admin/bug-reports/${r.id}/edit`,variant:"ghost",size:"sm",title:"Edit"},{default:e(()=>[s(t(St),{class:"h-4 w-4"})]),_:2},1032,["as","href"]),r.status==="open"||r.status==="in_progress"?(o(),m(t(v),{key:0,onClick:g=>st(r.id),variant:"ghost",size:"sm",class:"text-green-600 hover:text-green-700",title:"Mark as Resolved"},{default:e(()=>[s(t(G),{class:"h-4 w-4"})]),_:2},1032,["onClick"])):_("",!0),s(t(_t),null,{default:e(()=>[s(t(kt),{asChild:""},{default:e(()=>[s(t(v),{variant:"ghost",size:"sm",class:"text-destructive hover:text-destructive hover:bg-destructive/10",title:"Delete"},{default:e(()=>[s(t(Ct),{class:"h-4 w-4"})]),_:1})]),_:1}),s(t(gt),null,{default:e(()=>[s(t(xt),null,{default:e(()=>[s(t(yt),null,{default:e(()=>a[18]||(a[18]=[l("Delete Bug Report")])),_:1}),s(t(ht),null,{default:e(()=>[a[19]||(a[19]=l(" Are you sure you want to delete this bug report: ")),u("strong",null,n(r.title),1),a[20]||(a[20]=l("? This action cannot be undone. "))]),_:2},1024)]),_:2},1024),s(t(bt),null,{default:e(()=>[s(t(wt),null,{default:e(()=>a[21]||(a[21]=[l("Cancel")])),_:1}),s(t($t),{onClick:g=>et(r.id),class:"bg-destructive text-destructive-foreground hover:bg-destructive/90"},{default:e(()=>a[22]||(a[22]=[l(" Delete Report ")])),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1024)])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1}),!i.bugReports.data||i.bugReports.data.length===0?(o(),x("div",Wt,[s(t(M),{class:"mx-auto h-12 w-12 text-muted-foreground mb-4"}),u("h3",Xt,n(f.value||c.value!=="all"||p.value!=="all"?"No bug reports match your filters":"No bug reports yet"),1),u("p",Mt,n(f.value||c.value!=="all"||p.value!=="all"?"Try adjusting your search criteria":"Bug reports will appear here once submitted"),1),u("div",Gt,[f.value||c.value!=="all"||p.value!=="all"?(o(),m(t(v),{key:0,onClick:D,variant:"outline"},{default:e(()=>a[23]||(a[23]=[l(" Clear Filters ")])),_:1})):_("",!0),s(t(v),{as:t(b),href:"/admin/bug-reports/create"},{default:e(()=>[s(t(W),{class:"mr-2 h-4 w-4"}),a[24]||(a[24]=l(" Report New Bug "))]),_:1},8,["as"])])])):_("",!0)]),i.bugReports.data&&i.bugReports.data.length>0?(o(),x("div",Ht,[i.bugReports.prev_page_url?(o(),m(t(v),{key:0,as:t(b),href:i.bugReports.prev_page_url,variant:"outline",size:"sm","preserve-scroll":""},{default:e(()=>a[25]||(a[25]=[l(" Previous ")])),_:1},8,["as","href"])):(o(),m(t(v),{key:1,variant:"outline",size:"sm",disabled:""},{default:e(()=>a[26]||(a[26]=[l(" Previous ")])),_:1})),u("div",Jt,[i.bugReports.from&&i.bugReports.to&&i.bugReports.total?(o(),x("span",Kt,[l(" Showing "+n(i.bugReports.from)+" to "+n(i.bugReports.to)+" of "+n(i.bugReports.total)+" bug reports ",1),f.value||c.value!=="all"||p.value!=="all"?(o(),x("span",Qt,"(filtered)")):_("",!0)])):_("",!0)]),i.bugReports.next_page_url?(o(),m(t(v),{key:2,as:t(b),href:i.bugReports.next_page_url,variant:"outline",size:"sm","preserve-scroll":""},{default:e(()=>a[27]||(a[27]=[l(" Next ")])),_:1},8,["as","href"])):(o(),m(t(v),{key:3,variant:"outline",size:"sm",disabled:""},{default:e(()=>a[28]||(a[28]=[l(" Next ")])),_:1}))])):_("",!0)]),_:1})]),_:1})])]),_:1}))}});export{qe as default};
