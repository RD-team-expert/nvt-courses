import{i as ee}from"./ConfigProvider-BzvyYtnr.js";import{h as te,j as ne,i as T,k as U,b as re,d as se,o as oe,l as ae,m as ie}from"./index-CLwR-uw6.js";import{c as O,r as g,l as H,x as F,p as ue,T as _,_ as P,d as N,a2 as $,g as W,o as x,w as z,A as R,u as D,y as le,h as ce,X as de}from"./app-WJ99k70a.js";import{u as V}from"./useForwardExpose-CBKzvtQE.js";import{P as Y}from"./Button.vue_vue_type_script_setup_true_lang-Dy3RlMKi.js";import{h as X}from"./handleAndDispatchCustomEvent-ChOKVcqp.js";import{g as w}from"./Presence-C447BjxN.js";function A(e){if(e===null||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);return t!==null&&t!==Object.prototype&&Object.getPrototypeOf(t)!==null||Symbol.iterator in e?!1:Symbol.toStringTag in e?Object.prototype.toString.call(e)==="[object Module]":!0}function M(e,t,n=".",r){if(!A(t))return M(e,{},n,r);const a=Object.assign({},t);for(const o in e){if(o==="__proto__"||o==="constructor")continue;const c=e[o];c!=null&&(r&&r(a,o,c,n)||(Array.isArray(c)&&Array.isArray(a[o])?a[o]=[...c,...a[o]]:A(c)&&A(a[o])?a[o]=M(c,a[o],(n?`${n}.`:"")+o.toString(),r):a[o]=c))}return a}function fe(e){return(...t)=>t.reduce((n,r)=>M(n,r,"",e),{})}const ve=fe(),pe=te(()=>{const e=g(new Map),t=g(),n=O(()=>{for(const c of e.value.values())if(c)return!0;return!1}),r=ee({scrollBody:g(!0)});let a=null;const o=()=>{document.body.style.paddingRight="",document.body.style.marginRight="",document.body.style.pointerEvents="",document.documentElement.style.removeProperty("--scrollbar-width"),document.body.style.overflow=t.value??"",U&&(a==null||a()),t.value=void 0};return H(n,(c,p)=>{var s;if(!T)return;if(!c){p&&o();return}t.value===void 0&&(t.value=document.body.style.overflow);const d=window.innerWidth-document.documentElement.clientWidth,m={padding:d,margin:0},u=(s=r.scrollBody)!=null&&s.value?typeof r.scrollBody.value=="object"?ve({padding:r.scrollBody.value.padding===!0?d:r.scrollBody.value.padding,margin:r.scrollBody.value.margin===!0?d:r.scrollBody.value.margin},m):m:{padding:0,margin:0};d>0&&(document.body.style.paddingRight=typeof u.padding=="number"?`${u.padding}px`:String(u.padding),document.body.style.marginRight=typeof u.margin=="number"?`${u.margin}px`:String(u.margin),document.documentElement.style.setProperty("--scrollbar-width",`${d}px`),document.body.style.overflow="hidden"),U&&(a=re(document,"touchmove",l=>ye(l),{passive:!1})),F(()=>{document.body.style.pointerEvents="none",document.body.style.overflow="hidden"})},{immediate:!0,flush:"sync"}),e});function qe(e){const t=Math.random().toString(36).substring(2,7),n=pe();n.value.set(t,e??!1);const r=O({get:()=>n.value.get(t)??!1,set:a=>n.value.set(t,a)});return ne(()=>{n.value.delete(t)}),r}function G(e){const t=window.getComputedStyle(e);if(t.overflowX==="scroll"||t.overflowY==="scroll"||t.overflowX==="auto"&&e.clientWidth<e.scrollWidth||t.overflowY==="auto"&&e.clientHeight<e.scrollHeight)return!0;{const n=e.parentNode;return!(n instanceof Element)||n.tagName==="BODY"?!1:G(n)}}function ye(e){const t=e||window.event,n=t.target;return n instanceof Element&&G(n)?!1:t.touches.length>1?!0:(t.preventDefault&&t.cancelable&&t.preventDefault(),!1)}var me=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},S=new WeakMap,L=new WeakMap,C={},k=0,J=function(e){return e&&(e.host||J(e.parentNode))},he=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=J(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},Ee=function(e,t,n,r){var a=he(t,Array.isArray(e)?e:[e]);C[n]||(C[n]=new WeakMap);var o=C[n],c=[],p=new Set,d=new Set(a),m=function(s){!s||p.has(s)||(p.add(s),m(s.parentNode))};a.forEach(m);var u=function(s){!s||d.has(s)||Array.prototype.forEach.call(s.children,function(l){if(p.has(l))u(l);else try{var y=l.getAttribute(r),i=y!==null&&y!=="false",v=(S.get(l)||0)+1,f=(o.get(l)||0)+1;S.set(l,v),o.set(l,f),c.push(l),v===1&&i&&L.set(l,!0),f===1&&l.setAttribute(n,"true"),i||l.setAttribute(r,"true")}catch(E){console.error("aria-hidden: cannot operate on ",l,E)}})};return u(t),p.clear(),k++,function(){c.forEach(function(s){var l=S.get(s)-1,y=o.get(s)-1;S.set(s,l),o.set(s,y),l||(L.has(s)||s.removeAttribute(r),L.delete(s)),y||s.removeAttribute(n)}),k--,k||(S=new WeakMap,S=new WeakMap,L=new WeakMap,C={})}},be=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),a=me(e);return a?(r.push.apply(r,Array.from(a.querySelectorAll("[aria-live]"))),Ee(r,a,n,"aria-hidden")):function(){return null}};function Ke(e){let t;H(()=>se(e),n=>{n?t=be(n):t&&t()}),ue(()=>{t&&t()})}const ge="dismissableLayer.pointerDownOutside",we="dismissableLayer.focusOutside";function Q(e,t){const n=t.closest("[data-dismissable-layer]"),r=e.dataset.dismissableLayer===""?e:e.querySelector("[data-dismissable-layer]"),a=Array.from(e.ownerDocument.querySelectorAll("[data-dismissable-layer]"));return!!(n&&(r===n||a.indexOf(r)<a.indexOf(n)))}function Oe(e,t,n=!0){var c;const r=((c=t==null?void 0:t.value)==null?void 0:c.ownerDocument)??(globalThis==null?void 0:globalThis.document),a=g(!1),o=g(()=>{});return _(p=>{if(!T||!P(n))return;const d=async u=>{const s=u.target;if(!(!(t!=null&&t.value)||!s)){if(Q(t.value,s)){a.value=!1;return}if(u.target&&!a.value){let y=function(){X(ge,e,l)};const l={originalEvent:u};u.pointerType==="touch"?(r.removeEventListener("click",o.value),o.value=y,r.addEventListener("click",o.value,{once:!0})):y()}else r.removeEventListener("click",o.value);a.value=!1}},m=window.setTimeout(()=>{r.addEventListener("pointerdown",d)},0);p(()=>{window.clearTimeout(m),r.removeEventListener("pointerdown",d),r.removeEventListener("click",o.value)})}),{onPointerDownCapture:()=>{P(n)&&(a.value=!0)}}}function De(e,t,n=!0){var o;const r=((o=t==null?void 0:t.value)==null?void 0:o.ownerDocument)??(globalThis==null?void 0:globalThis.document),a=g(!1);return _(c=>{if(!T||!P(n))return;const p=async d=>{if(!(t!=null&&t.value))return;await F(),await F();const m=d.target;!t.value||!m||Q(t.value,m)||d.target&&!a.value&&X(we,e,{originalEvent:d})};r.addEventListener("focusin",p),c(()=>r.removeEventListener("focusin",p))}),{onFocusCapture:()=>{P(n)&&(a.value=!0)},onBlurCapture:()=>{P(n)&&(a.value=!1)}}}const h=$({layersRoot:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set});var Se=N({__name:"DismissableLayer",props:{disableOutsidePointerEvents:{type:Boolean,required:!1,default:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","dismiss"],setup(e,{emit:t}){const n=e,r=t,{forwardRef:a,currentElement:o}=V(),c=O(()=>{var i;return((i=o.value)==null?void 0:i.ownerDocument)??globalThis.document}),p=O(()=>h.layersRoot),d=O(()=>o.value?Array.from(p.value).indexOf(o.value):-1),m=O(()=>h.layersWithOutsidePointerEventsDisabled.size>0),u=O(()=>{const i=Array.from(p.value),[v]=[...h.layersWithOutsidePointerEventsDisabled].slice(-1),f=i.indexOf(v);return d.value>=f}),s=Oe(async i=>{const v=[...h.branches].some(f=>f==null?void 0:f.contains(i.target));!u.value||v||(r("pointerDownOutside",i),r("interactOutside",i),await F(),i.defaultPrevented||r("dismiss"))},o),l=De(i=>{[...h.branches].some(f=>f==null?void 0:f.contains(i.target))||(r("focusOutside",i),r("interactOutside",i),i.defaultPrevented||r("dismiss"))},o);oe("Escape",i=>{d.value===p.value.size-1&&(r("escapeKeyDown",i),i.defaultPrevented||r("dismiss"))});let y;return _(i=>{o.value&&(n.disableOutsidePointerEvents&&(h.layersWithOutsidePointerEventsDisabled.size===0&&(y=c.value.body.style.pointerEvents,c.value.body.style.pointerEvents="none"),h.layersWithOutsidePointerEventsDisabled.add(o.value)),p.value.add(o.value),i(()=>{n.disableOutsidePointerEvents&&h.layersWithOutsidePointerEventsDisabled.size===1&&(c.value.body.style.pointerEvents=y)}))}),_(i=>{i(()=>{o.value&&(p.value.delete(o.value),h.layersWithOutsidePointerEventsDisabled.delete(o.value))})}),(i,v)=>(x(),W(D(Y),{ref:D(a),"as-child":i.asChild,as:i.as,"data-dismissable-layer":"",style:le({pointerEvents:m.value?u.value?"auto":"none":void 0}),onFocusCapture:D(l).onFocusCapture,onBlurCapture:D(l).onBlurCapture,onPointerdownCapture:D(s).onPointerDownCapture},{default:z(()=>[R(i.$slots,"default")]),_:3},8,["as-child","as","style","onFocusCapture","onBlurCapture","onPointerdownCapture"]))}}),je=Se;const _e=ae(()=>g([]));function Pe(){const e=_e();return{add(t){const n=e.value[0];t!==n&&(n==null||n.pause()),e.value=q(e.value,t),e.value.unshift(t)},remove(t){var n;e.value=q(e.value,t),(n=e.value[0])==null||n.resume()}}}function q(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function Fe(e){return e.filter(t=>t.tagName!=="A")}const B="focusScope.autoFocusOnMount",I="focusScope.autoFocusOnUnmount",K={bubbles:!1,cancelable:!0};function Le(e,{select:t=!1}={}){const n=w();for(const r of e)if(b(r,{select:t}),w()!==n)return!0}function Ce(e){const t=Z(e),n=j(t,e),r=j(t.reverse(),e);return[n,r]}function Z(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const a=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||a?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function j(e,t){for(const n of e)if(!Te(n,{upTo:t}))return n}function Te(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function Ae(e){return e instanceof HTMLInputElement&&"select"in e}function b(e,{select:t=!1}={}){if(e&&e.focus){const n=w();e.focus({preventScroll:!0}),e!==n&&Ae(e)&&t&&e.select()}}var ke=N({__name:"FocusScope",props:{loop:{type:Boolean,required:!1,default:!1},trapped:{type:Boolean,required:!1,default:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["mountAutoFocus","unmountAutoFocus"],setup(e,{emit:t}){const n=e,r=t,{currentRef:a,currentElement:o}=V(),c=g(null),p=Pe(),d=$({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}});_(u=>{if(!T)return;const s=o.value;if(!n.trapped)return;function l(f){if(d.paused||!s)return;const E=f.target;s.contains(E)?c.value=E:b(c.value,{select:!0})}function y(f){if(d.paused||!s)return;const E=f.relatedTarget;E!==null&&(s.contains(E)||b(c.value,{select:!0}))}function i(f){s.contains(c.value)||b(s)}document.addEventListener("focusin",l),document.addEventListener("focusout",y);const v=new MutationObserver(i);s&&v.observe(s,{childList:!0,subtree:!0}),u(()=>{document.removeEventListener("focusin",l),document.removeEventListener("focusout",y),v.disconnect()})}),_(async u=>{const s=o.value;if(await F(),!s)return;p.add(d);const l=w();if(!s.contains(l)){const i=new CustomEvent(B,K);s.addEventListener(B,v=>r("mountAutoFocus",v)),s.dispatchEvent(i),i.defaultPrevented||(Le(Fe(Z(s)),{select:!0}),w()===l&&b(s))}u(()=>{s.removeEventListener(B,f=>r("mountAutoFocus",f));const i=new CustomEvent(I,K),v=f=>{r("unmountAutoFocus",f)};s.addEventListener(I,v),s.dispatchEvent(i),setTimeout(()=>{i.defaultPrevented||b(l??document.body,{select:!0}),s.removeEventListener(I,v),p.remove(d)},0)})});function m(u){if(!n.loop&&!n.trapped||d.paused)return;const s=u.key==="Tab"&&!u.altKey&&!u.ctrlKey&&!u.metaKey,l=w();if(s&&l){const y=u.currentTarget,[i,v]=Ce(y);i&&v?!u.shiftKey&&l===v?(u.preventDefault(),n.loop&&b(i,{select:!0})):u.shiftKey&&l===i&&(u.preventDefault(),n.loop&&b(v,{select:!0})):l===y&&u.preventDefault()}}return(u,s)=>(x(),W(D(Y),{ref_key:"currentRef",ref:a,tabindex:"-1","as-child":u.asChild,as:u.as,onKeydown:m},{default:z(()=>[R(u.$slots,"default")]),_:3},8,["as-child","as"]))}}),He=ke;function $e(e){return e?"open":"closed"}function ze(e){const t=w();for(const n of e)if(n===t||(n.focus(),w()!==t))return}var Be=N({__name:"Teleport",props:{to:{type:null,required:!1,default:"body"},disabled:{type:Boolean,required:!1},defer:{type:Boolean,required:!1},forceMount:{type:Boolean,required:!1}},setup(e){const t=ie();return(n,r)=>D(t)||n.forceMount?(x(),W(de,{key:0,to:n.to,disabled:n.disabled,defer:n.defer},[R(n.$slots,"default")],8,["to","disabled","defer"])):ce("v-if",!0)}}),Ve=Be;export{je as D,He as F,Ve as T,Ke as a,ze as f,$e as g,qe as u};
