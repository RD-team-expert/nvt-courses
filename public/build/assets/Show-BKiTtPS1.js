import{d as Y,r as h,k as X,a as m,h as p,o as u,e as l,n as A,t as n,c as S,g as z,w as o,b as s,u as e,f as i,P as oe,F as D,i as E,W as ne}from"./app-sfv6CYbu.js";import{_ as Ue}from"./AdminLayout.vue_vue_type_script_setup_true_lang-vvSRP-jI.js";import{_ as y}from"./Button.vue_vue_type_script_setup_true_lang-Ccdh52Vd.js";import{_ as Se}from"./Input.vue_vue_type_script_setup_true_lang-PAMz5smE.js";import{_ as P}from"./Card.vue_vue_type_script_setup_true_lang-C1bT-eXd.js";import{_ as V}from"./CardContent.vue_vue_type_script_setup_true_lang-Khif222k.js";import{_ as Ae}from"./CardDescription.vue_vue_type_script_setup_true_lang-Du745yLv.js";import{_ as Me}from"./CardHeader.vue_vue_type_script_setup_true_lang-DnS62nQf.js";import{_ as je}from"./CardTitle.vue_vue_type_script_setup_true_lang-BUNiHSkD.js";import{_ as re,a as ie,b as ue,c as de,d as J}from"./SelectValue.vue_vue_type_script_setup_true_lang-BZdTdVyo.js";import{_ as ze,a as Pe,b as me,c as R,d as Be,e as q}from"./TableHeader.vue_vue_type_script_setup_true_lang-HEEiC_Nq.js";import{_ as F}from"./index-Dq640zwT.js";import{_ as G,b as H,C as Ne}from"./AppLayout.vue_vue_type_script_setup_true_lang-BqoVmqtq.js";import{_ as ce}from"./Checkbox.vue_vue_type_script_setup_true_lang-DkUE1Svg.js";import{_ as Te,a as De,b as Ee,c as Ve}from"./DialogTitle.vue_vue_type_script_setup_true_lang-CpkpI_q5.js";import{_ as Fe}from"./DialogDescription.vue_vue_type_script_setup_true_lang-DvU4UaCA.js";import{_ as Ie}from"./DialogFooter.vue_vue_type_script_setup_true_lang-9S9BcffC.js";import{C as fe}from"./crown-DLgomYt1.js";import{S as Oe}from"./square-pen-yota-XyA.js";import{U as K}from"./user-plus-Cle-zr6w.js";import{U as Q,X as Re}from"./x-BJKYekbZ.js";import{U as qe}from"./user-check-BHWPBkWp.js";import{B as We}from"./building-2-2iVKYNHh.js";import{E as Je}from"./eye-DypdyHnj.js";import{T as Ke}from"./trash-2-Cg__zQcu.js";import{S as Qe}from"./search-eRwwfKEd.js";import{C as Xe}from"./chevron-left-Dadp8I93.js";import"./index-DdH2r2B8.js";import"./useForwardPropsEmits--cawDwsm.js";import"./Presence-CHrFqoPB.js";import"./ConfigProvider-CuMY5RD4.js";import"./useForwardExpose-C32JnqdD.js";import"./Teleport-DTKdiWK5.js";import"./handleAndDispatchCustomEvent-ChOKVcqp.js";import"./Collection-DekOIFXO.js";import"./usePrimitiveElement-BTNjppil.js";import"./check-Bs2OgQiG.js";import"./useSize-C9jzGnps.js";import"./index-C4PRPqD0.js";import"./ohash.D__AXeF1-DHF4M4F_.js";import"./nullish-CHIgUVhi.js";import"./VisuallyHidden-oKHpmjgu.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-DttcJlkw.js";import"./clock-DTvpSLd-.js";const Ye={key:0,class:"fixed inset-0 z-50 overflow-y-auto","aria-labelledby":"modal-title",role:"dialog","aria-modal":"true"},Ge={class:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0"},He={class:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-md sm:w-full"},Ze={class:"sm:flex sm:items-start"},et=["d"],tt={class:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left"},st={class:"mt-2"},lt={class:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse"},at=Y({__name:"NotificationModal",props:{show:{type:Boolean},type:{default:"info"},title:{},message:{},autoClose:{type:Boolean,default:!1},duration:{default:3e3}},emits:["close"],setup(d,{emit:b}){const v=d,$=b,w=h(v.show);X(()=>v.show,x=>{w.value=x,x&&v.autoClose&&setTimeout(()=>{$("close")},v.duration)});const g=()=>{switch(v.type){case"success":return"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z";case"error":return"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z";case"warning":return"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z";default:return"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"}},f=()=>{switch(v.type){case"success":return{bg:"bg-green-50",border:"border-green-200",icon:"text-green-400",text:"text-green-800"};case"error":return{bg:"bg-red-50",border:"border-red-200",icon:"text-red-400",text:"text-red-800"};case"warning":return{bg:"bg-yellow-50",border:"border-yellow-200",icon:"text-yellow-400",text:"text-yellow-800"};default:return{bg:"bg-blue-50",border:"border-blue-200",icon:"text-blue-400",text:"text-blue-800"}}};return(x,k)=>w.value?(u(),m("div",Ye,[l("div",Ge,[l("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity",onClick:k[0]||(k[0]=B=>x.$emit("close"))}),l("div",He,[l("div",{class:A(["px-4 pt-5 pb-4 sm:p-6 sm:pb-4",f().bg])},[l("div",Ze,[l("div",{class:A(["mx-auto shrink-0 flex items-center justify-center h-12 w-12 rounded-full sm:mx-0 sm:h-10 sm:w-10",f().border])},[(u(),m("svg",{class:A(["h-6 w-6",f().icon]),fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:g()},null,8,et)],2))],2),l("div",tt,[l("h3",{class:A(["text-lg leading-6 font-medium",f().text]),id:"modal-title"},n(x.title),3),l("div",st,[l("p",{class:A(["text-sm",f().text])},n(x.message),3)])])])],2),l("div",lt,[l("button",{onClick:k[1]||(k[1]=B=>x.$emit("close")),type:"button",class:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-blue-600 text-base font-medium text-white hover:bg-blue-700 focus:outline-hidden focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 sm:ml-3 sm:w-auto sm:text-sm"}," OK ")])])])])):p("",!0)}}),ot={key:0,class:"fixed inset-0 z-50 overflow-y-auto","aria-labelledby":"modal-title",role:"dialog","aria-modal":"true"},nt={class:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0"},rt={class:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full"},it={class:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4"},ut={class:"sm:flex sm:items-start"},dt={class:"mx-auto shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-red-100 sm:mx-0 sm:h-10 sm:w-10"},mt={class:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left"},ct={class:"text-lg leading-6 font-medium text-gray-900",id:"modal-title"},ft={class:"mt-2"},vt={class:"text-sm text-gray-500"},gt={class:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse"},xt=Y({__name:"ConfirmationModal",props:{show:{type:Boolean},title:{},message:{},confirmText:{default:"Confirm"},cancelText:{default:"Cancel"},type:{default:"warning"}},emits:["confirm","cancel"],setup(d,{emit:b}){const v=d,$=h(v.show);X(()=>v.show,g=>{$.value=g});const w=()=>{switch(v.type){case"danger":return{icon:"text-red-600",button:"bg-red-600 hover:bg-red-700 focus:ring-red-500"};case"warning":return{icon:"text-yellow-600",button:"bg-yellow-600 hover:bg-yellow-700 focus:ring-yellow-500"};default:return{icon:"text-blue-600",button:"bg-blue-600 hover:bg-blue-700 focus:ring-blue-500"}}};return(g,f)=>$.value?(u(),m("div",ot,[l("div",nt,[l("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity",onClick:f[0]||(f[0]=x=>g.$emit("cancel"))}),l("div",rt,[l("div",it,[l("div",ut,[l("div",dt,[(u(),m("svg",{class:A(["h-6 w-6",w().icon]),fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},f[3]||(f[3]=[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"},null,-1)]),2))]),l("div",mt,[l("h3",ct,n(g.title),1),l("div",ft,[l("p",vt,n(g.message),1)])])])]),l("div",gt,[l("button",{onClick:f[1]||(f[1]=x=>g.$emit("confirm")),type:"button",class:A(["w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 text-base font-medium text-white focus:outline-hidden focus:ring-2 focus:ring-offset-2 sm:ml-3 sm:w-auto sm:text-sm",w().button])},n(g.confirmText),3),l("button",{onClick:f[2]||(f[2]=x=>g.$emit("cancel")),type:"button",class:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-hidden focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm"},n(g.cancelText),1)])])])])):p("",!0)}}),_t={key:0,class:"fixed inset-0 z-50 overflow-y-auto bg-gray-500 bg-opacity-75"},ht={class:"flex items-center justify-center min-h-screen"},pt={class:"bg-white rounded-lg p-6 shadow-xl"},bt={class:"flex items-center space-x-4"},wt={class:"text-gray-700 font-medium"},yt=Y({__name:"LoadingModal",props:{show:{type:Boolean},message:{default:"Loading..."}},setup(d){return(b,v)=>b.show?(u(),m("div",_t,[l("div",ht,[l("div",pt,[l("div",bt,[v[0]||(v[0]=l("div",{class:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"},null,-1)),l("span",wt,n(b.message),1)])])])])):p("",!0)}}),$t={class:"px-4 sm:px-0 space-y-6"},kt={class:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4"},Ct={class:"flex items-center space-x-4"},Lt={class:"text-2xl font-bold text-foreground"},Ut={class:"text-sm text-muted-foreground"},St={class:"mt-2 flex items-center space-x-4 flex-wrap gap-2"},At={class:"flex flex-col sm:flex-row gap-2 w-full sm:w-auto"},Mt={key:0,class:"border-t pt-4 mt-4"},jt={class:"flex flex-wrap gap-2"},zt={class:"grid grid-cols-1 md:grid-cols-4 gap-4"},Pt={class:"flex items-center"},Bt={class:"shrink-0"},Nt={class:"w-10 h-10 bg-primary rounded-lg flex items-center justify-center"},Tt={class:"ml-4 flex-1"},Dt={class:"text-2xl font-bold text-foreground"},Et={class:"flex items-center"},Vt={class:"shrink-0"},Ft={class:"w-10 h-10 bg-green-500 rounded-lg flex items-center justify-center"},It={class:"ml-4 flex-1"},Ot={class:"text-2xl font-bold text-foreground"},Rt={class:"flex items-center"},qt={class:"shrink-0"},Wt={class:"w-10 h-10 bg-purple-500 rounded-lg flex items-center justify-center"},Jt={class:"ml-4 flex-1"},Kt={class:"text-2xl font-bold text-foreground"},Qt={class:"flex items-center"},Xt={class:"shrink-0"},Yt={class:"w-10 h-10 bg-orange-500 rounded-lg flex items-center justify-center"},Gt={class:"ml-4 flex-1"},Ht={class:"text-2xl font-bold text-foreground"},Zt={class:"overflow-x-auto"},es={class:"flex items-center space-x-3"},ts={class:"font-medium text-foreground"},ss={class:"text-sm text-muted-foreground"},ls={key:0,class:"text-xs text-muted-foreground"},as={key:0,class:"text-foreground"},os={key:1,class:"text-muted-foreground italic"},ns={class:"flex items-center justify-end space-x-2"},rs={key:0,class:"text-center py-12"},is={class:"space-y-4"},us={class:"flex flex-col sm:flex-row gap-4"},ds={class:"flex-1 relative"},ms={class:"flex items-center justify-between text-sm text-muted-foreground"},cs={key:0,class:"ml-2 text-primary font-medium"},fs={key:0,class:"text-xs"},vs={class:"p-4 border-b flex items-center bg-muted/50"},gs={class:"ml-3 text-sm font-medium"},xs={class:"flex-1 overflow-y-auto"},_s={class:"flex items-center space-x-3"},hs={class:"flex-1"},ps={class:"font-medium text-foreground"},bs={class:"text-sm text-muted-foreground"},ws={class:"flex items-center space-x-4 mt-1"},ys={key:0,class:"text-xs text-muted-foreground"},$s={key:1,class:"text-xs text-muted-foreground"},ks={key:0,class:"p-8 text-center text-muted-foreground"},Cs={key:0,class:"p-4 border-t flex items-center justify-between"},Ls={class:"flex space-x-1"},Us={key:0,class:"px-3 py-1 text-sm text-muted-foreground"},I=10,hl=Y({__name:"Show",props:{userLevel:Object,users:Array,availableUsers:Array},setup(d){const b=d,v=h(!1),$=h(!1),w=h(!1),g=h(!1),f=h({type:"info",title:"",message:""}),x=h({title:"",message:"",action:null}),k=h({message:"Loading..."}),B=h(b.availableUsers),c=h([]),C=h(""),L=h(""),U=h(""),_=h(1),O=(r,t,a)=>{f.value={type:r,title:t,message:a},v.value=!0},Z=(r,t,a)=>{x.value={title:r,message:t,action:a},$.value=!0},ve=S(()=>[...new Set(B.value.map(t=>t.department).filter(Boolean))].sort()),ge=S(()=>[...new Set(B.value.map(t=>t.status).filter(Boolean))].sort()),N=S(()=>{let r=B.value;if(C.value){const t=C.value.toLowerCase();r=r.filter(a=>a.name.toLowerCase().includes(t)||a.email.toLowerCase().includes(t)||a.employee_code&&a.employee_code.toLowerCase().includes(t))}return L.value&&(r=r.filter(t=>t.department===L.value)),U.value&&(r=r.filter(t=>t.status===U.value)),r}),M=S(()=>{const r=(_.value-1)*I,t=r+I;return N.value.slice(r,t)}),T=S(()=>Math.ceil(N.value.length/I)),xe=S(()=>(_.value-1)*I+1),_e=S(()=>Math.min(_.value*I,N.value.length));X([C,L,U],()=>{_.value=1});const W=h(!1),he=()=>{if(W.value)M.value.forEach(r=>{c.value.includes(r.id)||c.value.push(r.id)});else{const r=M.value.map(t=>t.id);c.value=c.value.filter(t=>!r.includes(t))}},pe=S(()=>M.value.length>0&&M.value.every(r=>c.value.includes(r.id)));X([c,M],()=>{W.value=pe.value},{deep:!0});const be=()=>{C.value="",L.value="",U.value="",_.value=1},we=(r,t)=>{Z("Remove User from Level",`Are you sure you want to remove "${t}" from the ${b.userLevel.name} level? This will unassign their current level.`,()=>{w.value=!0,k.value.message="Removing user from level...",ne.post(route("admin.user-levels.remove-user"),{user_id:r},{preserveState:!0,onSuccess:()=>{w.value=!1,O("success","Success","User removed from level successfully!")},onError:a=>{w.value=!1,console.error("Remove failed:",a);const j=a.remove_user||"Failed to remove user from level. Please try again.";O("error","Error",j)}})})},ee=()=>{B.value=b.availableUsers,g.value=!0,C.value="",L.value="",U.value="",c.value=[],_.value=1},te=()=>{g.value=!1,c.value=[],C.value="",L.value="",U.value="",_.value=1},ye=()=>{if(c.value.length===0){O("warning","No Selection","Please select at least one user to assign.");return}Z("Assign Users to Level",`Are you sure you want to assign ${c.value.length} user(s) to the ${b.userLevel.name} level?`,()=>{w.value=!0,k.value.message="Assigning users to level...",ne.post(route("admin.user-levels.bulk-assign"),{user_ids:c.value,user_level_id:b.userLevel.id},{preserveState:!0,onSuccess:()=>{w.value=!1,O("success","Success","Users assigned to level successfully!"),te()},onError:r=>{w.value=!1,console.error("Assign failed:",r);const t=r.bulk_assign||"Failed to assign users. Please try again.";O("error","Error",t)}})})},$e=()=>{$.value=!1,x.value.action&&x.value.action()},ke=()=>{v.value=!1},Ce=()=>{$.value=!1},se=r=>({L1:{bg:"bg-blue-100",text:"text-blue-600",variant:"secondary"},L2:{bg:"bg-green-100",text:"text-green-600",variant:"secondary"},L3:{bg:"bg-orange-100",text:"text-orange-600",variant:"outline"},L4:{bg:"bg-red-100",text:"text-red-600",variant:"destructive"}})[r]||{bg:"bg-gray-100",text:"text-gray-600",variant:"secondary"},le=r=>{switch(r){case"active":return"default";case"inactive":return"destructive";case"on_leave":return"secondary";default:return"outline"}},Le=[{name:"Dashboard",href:route("dashboard")},{name:"User Levels",href:route("admin.user-levels.index")},{name:b.userLevel.name,href:route("admin.user-levels.show",b.userLevel.id)}];return(r,t)=>(u(),z(Ue,{breadcrumbs:Le},{default:o(()=>[l("div",$t,[s(e(P),null,{default:o(()=>[s(e(V),{class:"p-6"},{default:o(()=>[l("div",kt,[l("div",Ct,[s(e(G),{class:"h-16 w-16"},{default:o(()=>[s(e(H),{class:A([[se(d.userLevel.code).bg,se(d.userLevel.code).text],"text-xl font-bold"])},{default:o(()=>[i(n(d.userLevel.code),1)]),_:1},8,["class"])]),_:1}),l("div",null,[l("h1",Lt,n(d.userLevel.name),1),l("p",Ut,n(d.userLevel.description),1),l("div",St,[s(e(F),{variant:"outline"},{default:o(()=>[i("Code: "+n(d.userLevel.code),1)]),_:1}),s(e(F),{variant:"outline"},{default:o(()=>[i("Level "+n(d.userLevel.hierarchy_level),1)]),_:1}),d.userLevel.is_management_level?(u(),z(e(F),{key:0,variant:"secondary"},{default:o(()=>[s(e(fe),{class:"mr-1 h-3 w-3"}),t[8]||(t[8]=i(" Management Level "))]),_:1})):p("",!0)])])]),l("div",At,[s(e(y),{as:e(oe),href:r.route("admin.user-levels.edit",d.userLevel.id),variant:"outline"},{default:o(()=>[s(e(Oe),{class:"mr-2 h-4 w-4"}),t[9]||(t[9]=i(" Edit Level "))]),_:1},8,["as","href"]),s(e(y),{onClick:ee},{default:o(()=>[s(e(K),{class:"mr-2 h-4 w-4"}),t[10]||(t[10]=i(" Assign Users "))]),_:1})])]),d.userLevel.manageable_levels&&d.userLevel.manageable_levels.length>0?(u(),m("div",Mt,[t[11]||(t[11]=l("div",{class:"text-sm font-medium text-foreground mb-2"},"Can Manage:",-1)),l("div",jt,[(u(!0),m(D,null,E(d.userLevel.manageable_levels,a=>(u(),z(e(F),{key:a.code,variant:"outline"},{default:o(()=>[i(n(a.code)+" - "+n(a.name),1)]),_:2},1024))),128))])])):p("",!0)]),_:1})]),_:1}),l("div",zt,[s(e(P),null,{default:o(()=>[s(e(V),{class:"p-6"},{default:o(()=>[l("div",Pt,[l("div",Bt,[l("div",Nt,[s(e(Q),{class:"h-5 w-5 text-primary-foreground"})])]),l("div",Tt,[t[12]||(t[12]=l("div",{class:"text-sm font-medium text-muted-foreground"},"Total Users",-1)),l("div",Dt,n(d.users.length),1)])])]),_:1})]),_:1}),s(e(P),null,{default:o(()=>[s(e(V),{class:"p-6"},{default:o(()=>[l("div",Et,[l("div",Vt,[l("div",Ft,[s(e(qe),{class:"h-5 w-5 text-white"})])]),l("div",It,[t[13]||(t[13]=l("div",{class:"text-sm font-medium text-muted-foreground"},"Active Users",-1)),l("div",Ot,n(d.users.filter(a=>a.status==="active").length),1)])])]),_:1})]),_:1}),s(e(P),null,{default:o(()=>[s(e(V),{class:"p-6"},{default:o(()=>[l("div",Rt,[l("div",qt,[l("div",Wt,[s(e(We),{class:"h-5 w-5 text-white"})])]),l("div",Jt,[t[14]||(t[14]=l("div",{class:"text-sm font-medium text-muted-foreground"},"With Departments",-1)),l("div",Kt,n(d.users.filter(a=>a.department).length),1)])])]),_:1})]),_:1}),s(e(P),null,{default:o(()=>[s(e(V),{class:"p-6"},{default:o(()=>[l("div",Qt,[l("div",Xt,[l("div",Yt,[s(e(fe),{class:"h-5 w-5 text-white"})])]),l("div",Gt,[t[15]||(t[15]=l("div",{class:"text-sm font-medium text-muted-foreground"},"Manager Roles",-1)),l("div",Ht,n(d.users.filter(a=>a.manager_roles_count>0).length),1)])])]),_:1})]),_:1})]),s(e(P),null,{default:o(()=>[s(e(Me),null,{default:o(()=>[s(e(je),{class:"flex items-center"},{default:o(()=>[s(e(Q),{class:"mr-2 h-5 w-5"}),i(" Users with "+n(d.userLevel.name)+" Level ",1)]),_:1}),s(e(Ae),null,{default:o(()=>t[16]||(t[16]=[i("Manage users assigned to this organizational level")])),_:1})]),_:1}),s(e(V),null,{default:o(()=>[l("div",Zt,[s(e(ze),null,{default:o(()=>[s(e(Pe),null,{default:o(()=>[s(e(me),null,{default:o(()=>[s(e(R),null,{default:o(()=>t[17]||(t[17]=[i("User")])),_:1}),s(e(R),null,{default:o(()=>t[18]||(t[18]=[i("Department")])),_:1}),s(e(R),null,{default:o(()=>t[19]||(t[19]=[i("Status")])),_:1}),s(e(R),null,{default:o(()=>t[20]||(t[20]=[i("Joined")])),_:1}),s(e(R),{class:"text-right"},{default:o(()=>t[21]||(t[21]=[i("Actions")])),_:1})]),_:1})]),_:1}),s(e(Be),null,{default:o(()=>[(u(!0),m(D,null,E(d.users,a=>(u(),z(e(me),{key:a.id,class:"hover:bg-muted/50"},{default:o(()=>[s(e(q),null,{default:o(()=>[l("div",es,[s(e(G),null,{default:o(()=>[s(e(H),{class:"bg-muted text-muted-foreground"},{default:o(()=>[i(n(a.name.charAt(0).toUpperCase()),1)]),_:2},1024)]),_:2},1024),l("div",null,[l("div",ts,n(a.name),1),l("div",ss,n(a.email),1),a.employee_code?(u(),m("div",ls,"ID: "+n(a.employee_code),1)):p("",!0)])])]),_:2},1024),s(e(q),null,{default:o(()=>[a.department?(u(),m("div",as,n(a.department),1)):(u(),m("div",os,"No department assigned"))]),_:2},1024),s(e(q),null,{default:o(()=>[s(e(F),{variant:le(a.status)},{default:o(()=>[i(n(a.status),1)]),_:2},1032,["variant"])]),_:2},1024),s(e(q),{class:"text-muted-foreground"},{default:o(()=>[i(n(a.created_at||"N/A"),1)]),_:2},1024),s(e(q),{class:"text-right"},{default:o(()=>[l("div",ns,[s(e(y),{as:e(oe),href:r.route("admin.users.organizational",a.id),variant:"ghost",size:"sm"},{default:o(()=>[s(e(Je),{class:"h-4 w-4"})]),_:2},1032,["as","href"]),s(e(y),{onClick:j=>we(a.id,a.name),variant:"ghost",size:"sm",class:"text-destructive hover:text-destructive hover:bg-destructive/10"},{default:o(()=>[s(e(Ke),{class:"h-4 w-4"})]),_:2},1032,["onClick"])])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1}),!d.users||d.users.length===0?(u(),m("div",rs,[s(e(Q),{class:"mx-auto h-12 w-12 text-muted-foreground mb-4"}),t[23]||(t[23]=l("h3",{class:"text-lg font-medium text-foreground mb-2"},"No users assigned",-1)),t[24]||(t[24]=l("p",{class:"text-sm text-muted-foreground mb-6"},"Start by assigning users to this level.",-1)),s(e(y),{onClick:ee},{default:o(()=>[s(e(K),{class:"mr-2 h-4 w-4"}),t[22]||(t[22]=i(" Assign Users "))]),_:1})])):p("",!0)])]),_:1})]),_:1})]),s(e(Te),{open:g.value,"onUpdate:open":t[7]||(t[7]=a=>g.value=a)},{default:o(()=>[s(e(De),{class:"max-w-4xl max-h-[90vh] overflow-hidden"},{default:o(()=>[s(e(Ee),null,{default:o(()=>[s(e(Ve),{class:"flex items-center"},{default:o(()=>[s(e(K),{class:"mr-2 h-5 w-5"}),i(" Assign Users to "+n(d.userLevel.name)+" Level ",1)]),_:1}),s(e(Fe),null,{default:o(()=>t[25]||(t[25]=[i(" Select users to assign to this organizational level ")])),_:1})]),_:1}),l("div",is,[l("div",us,[l("div",ds,[s(e(Qe),{class:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s(e(Se),{modelValue:C.value,"onUpdate:modelValue":t[0]||(t[0]=a=>C.value=a),placeholder:"Search by name, email, or employee ID...",class:"pl-10"},null,8,["modelValue"])]),s(e(re),{"model-value":L.value,"onUpdate:modelValue":t[1]||(t[1]=a=>L.value=a)},{default:o(()=>[s(e(ie),{class:"w-48"},{default:o(()=>[s(e(ue),{placeholder:"All Departments"})]),_:1}),s(e(de),null,{default:o(()=>[s(e(J),{value:""},{default:o(()=>t[26]||(t[26]=[i("All Departments")])),_:1}),(u(!0),m(D,null,E(ve.value,a=>(u(),z(e(J),{key:a,value:a},{default:o(()=>[i(n(a),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["model-value"]),s(e(re),{"model-value":U.value,"onUpdate:modelValue":t[2]||(t[2]=a=>U.value=a)},{default:o(()=>[s(e(ie),{class:"w-32"},{default:o(()=>[s(e(ue),{placeholder:"All Status"})]),_:1}),s(e(de),null,{default:o(()=>[s(e(J),{value:""},{default:o(()=>t[27]||(t[27]=[i("All Status")])),_:1}),(u(!0),m(D,null,E(ge.value,a=>(u(),z(e(J),{key:a,value:a},{default:o(()=>[i(n(a),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["model-value"]),s(e(y),{onClick:be,variant:"outline"},{default:o(()=>[s(e(Re),{class:"mr-2 h-4 w-4"}),t[28]||(t[28]=i(" Clear "))]),_:1})]),l("div",ms,[l("div",null,[i(" Showing "+n(xe.value)+" - "+n(_e.value)+" of "+n(N.value.length)+" users ",1),c.value.length>0?(u(),m("span",cs," ("+n(c.value.length)+" selected) ",1)):p("",!0)]),N.value.length>I?(u(),m("div",fs," Page "+n(_.value)+" of "+n(T.value),1)):p("",!0)]),s(e(P),{class:"h-96"},{default:o(()=>[l("div",vs,[s(e(ce),{checked:W.value,"onUpdate:checked":[t[3]||(t[3]=a=>W.value=a),he]},null,8,["checked"]),l("span",gs," Select all on this page ("+n(M.value.length)+" users) ",1)]),l("div",xs,[(u(!0),m(D,null,E(M.value,a=>(u(),m("div",{key:a.id,class:"p-4 border-b hover:bg-muted/50"},[l("div",_s,[s(e(ce),{checked:c.value,"onUpdate:checked":[t[4]||(t[4]=j=>c.value=j),j=>{if(j)c.value.includes(a.id)||c.value.push(a.id);else{const ae=c.value.indexOf(a.id);ae>-1&&c.value.splice(ae,1)}}],value:a.id},null,8,["checked","value","onUpdate:checked"]),s(e(G),{class:"h-8 w-8"},{default:o(()=>[s(e(H),{class:"bg-muted text-muted-foreground text-xs"},{default:o(()=>[i(n(a.name.charAt(0).toUpperCase()),1)]),_:2},1024)]),_:2},1024),l("div",hs,[l("div",ps,n(a.name),1),l("div",bs,n(a.email),1),l("div",ws,[a.employee_code?(u(),m("span",ys,"ID: "+n(a.employee_code),1)):p("",!0),a.department?(u(),m("span",$s,n(a.department),1)):p("",!0),s(e(F),{variant:le(a.status),class:"text-xs"},{default:o(()=>[i(n(a.status),1)]),_:2},1032,["variant"])])])])]))),128)),N.value.length===0?(u(),m("div",ks,[s(e(Q),{class:"mx-auto h-12 w-12 mb-4"}),t[29]||(t[29]=l("h3",{class:"text-lg font-medium text-foreground mb-2"},"No users found",-1)),t[30]||(t[30]=l("p",{class:"text-sm"},"Try adjusting your search or filters.",-1))])):p("",!0)]),T.value>1?(u(),m("div",Cs,[s(e(y),{onClick:t[5]||(t[5]=a=>_.value=Math.max(1,_.value-1)),disabled:_.value===1,variant:"outline",size:"sm"},{default:o(()=>[s(e(Xe),{class:"h-4 w-4"}),t[31]||(t[31]=i(" Previous "))]),_:1},8,["disabled"]),l("div",Ls,[(u(!0),m(D,null,E(Math.min(T.value,5),a=>(u(),z(e(y),{key:a,onClick:j=>_.value=a,variant:_.value===a?"default":"outline",size:"sm"},{default:o(()=>[i(n(a),1)]),_:2},1032,["onClick","variant"]))),128)),T.value>5?(u(),m("span",Us,"...")):p("",!0)]),s(e(y),{onClick:t[6]||(t[6]=a=>_.value=Math.min(T.value,_.value+1)),disabled:_.value===T.value,variant:"outline",size:"sm"},{default:o(()=>[t[32]||(t[32]=i(" Next ")),s(e(Ne),{class:"h-4 w-4"})]),_:1},8,["disabled"])])):p("",!0)]),_:1})]),s(e(Ie),null,{default:o(()=>[s(e(y),{onClick:te,variant:"outline"},{default:o(()=>t[33]||(t[33]=[i("Cancel")])),_:1}),s(e(y),{onClick:ye,disabled:c.value.length===0},{default:o(()=>[s(e(K),{class:"mr-2 h-4 w-4"}),i(" Assign "+n(c.value.length)+" User"+n(c.value.length!==1?"s":""),1)]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1},8,["open"]),s(at,{show:v.value,type:f.value.type,title:f.value.title,message:f.value.message,"auto-close":f.value.type==="success",duration:4e3,onClose:ke},null,8,["show","type","title","message","auto-close"]),s(xt,{show:$.value,title:x.value.title,message:x.value.message,"confirm-text":"Yes, Continue","cancel-text":"Cancel",type:"warning",onConfirm:$e,onCancel:Ce},null,8,["show","title","message"]),s(yt,{show:w.value,message:k.value.message},null,8,["show","message"])]),_:1}))}});export{hl as default};
