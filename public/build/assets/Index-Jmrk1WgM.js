import{d as Xe,r as h,C as P,c as pe,g as v,o as d,w as o,e as r,b as t,a as p,h as b,u as e,f as a,F as S,i as M,t as u,k as Ze,j as L,s as fe,v as ve,W as ye}from"./app-MXdxrpBP.js";import{_ as es}from"./AdminLayout.vue_vue_type_script_setup_true_lang-Cko1X1nL.js";import{_ as x}from"./Button.vue_vue_type_script_setup_true_lang-BKr8K4x3.js";import{_ as V}from"./Card.vue_vue_type_script_setup_true_lang-DoQFXKAt.js";import{_ as U}from"./CardContent.vue_vue_type_script_setup_true_lang-ClX6NZUE.js";import{_ as G}from"./CardDescription.vue_vue_type_script_setup_true_lang-DfVH0C_I.js";import{_ as Z}from"./CardHeader.vue_vue_type_script_setup_true_lang-Iarz0SgV.js";import{_ as W}from"./CardTitle.vue_vue_type_script_setup_true_lang-BuAAUoQF.js";import{_ as A}from"./index-CM7dsTQQ.js";import{_ as k}from"./Input.vue_vue_type_script_setup_true_lang-DoOWngRm.js";import{_ as y}from"./Label.vue_vue_type_script_setup_true_lang-CMg33l_g.js";import{_ as xe}from"./Textarea.vue_vue_type_script_setup_true_lang-C4rSuCTQ.js";import{_ as be,a as ge,b as we,c as he}from"./DialogTitle.vue_vue_type_script_setup_true_lang-DBwHzxol.js";import{_ as Ce}from"./DialogDescription.vue_vue_type_script_setup_true_lang-v_b5MS1a.js";import{_ as ke}from"./DialogFooter.vue_vue_type_script_setup_true_lang-B6HJaHS4.js";import{_ as ee,a as se,b as te,c as le,d as oe,e as re,f as ae,g as ne}from"./AlertDialogTitle.vue_vue_type_script_setup_true_lang-RvAKbFNv.js";import{_ as ie}from"./Separator.vue_vue_type_script_setup_true_lang-CobnpYtJ.js";import{_ as $e,a as Te}from"./index-D_ap_spn.js";import{_ as ss,a as ts,b as ls,c as os,d as de}from"./SelectValue.vue_vue_type_script_setup_true_lang-A55hJkry.js";import{P as N}from"./plus-_783oh-x.js";import{m as ue}from"./AppLayout.vue_vue_type_script_setup_true_lang-tiastS8M.js";import{S as rs}from"./square-pen-DtFUwhrQ.js";import{T as D}from"./trash-2-DhO8CGfN.js";import{T as Ve}from"./tag-DDbi7VIg.js";import{F as as}from"./file-text-ybe1eL9I.js";import{C as ns}from"./chart-column-DofSrfe9.js";import{L as Y}from"./loader-circle-C47Io7uH.js";import{C as H}from"./circle-check-big-CkUvsTYQ.js";import{D as is}from"./dollar-sign-BEN0IjvY.js";import{L as me}from"./layers-BxlmCSzE.js";import{T as J}from"./triangle-alert-BwZFYJX_.js";import{C as F}from"./circle-alert-BAQ-WTfc.js";import{B as Ue}from"./book-open-B23cHC5U.js";import{M as Se}from"./monitor-DRg0H5RB.js";import"./index-s_lgDGGZ.js";import"./index-DAJ2Iuju.js";import"./_plugin-vue_export-helper-BDH3hSXr.js";import"./useForwardPropsEmits-BwNf-sle.js";import"./useForwardExpose-CG67Mv1I.js";import"./Presence-BI-_cLG3.js";import"./ConfigProvider-7p_MgCLL.js";import"./Teleport-CEozeWaF.js";import"./handleAndDispatchCustomEvent-ChOKVcqp.js";import"./chevron-up-Byih8-4m.js";import"./Collection-qE3ok-Ub.js";import"./usePrimitiveElement-B-8GFYP9.js";import"./check-BXNNc96s.js";import"./useSize-D_w5fcov.js";import"./ohash.D__AXeF1-DHF4M4F_.js";import"./nullish-CHIgUVhi.js";import"./VisuallyHidden-CMI4D6XY.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-DOvyjOLF.js";import"./clock-3FpBgrtN.js";const ds={class:"mx-auto max-w-7xl py-8 px-4 sm:px-6 lg:px-8"},us={class:"mb-8 flex items-center justify-between"},ms={key:0,class:"space-y-6"},_s={class:"flex items-center justify-between"},cs={key:0},ps={class:"flex space-x-2"},fs={class:"flex items-center justify-between mb-4"},vs={class:"flex items-center gap-2"},ys={key:0,class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3"},xs={class:"flex items-center justify-between"},bs={class:"flex-1"},gs={class:"text-sm font-medium"},ws={class:"mt-1 flex items-center gap-2"},hs={key:0,class:"text-xs text-muted-foreground mt-1"},Cs={class:"mx-auto flex items-center justify-center h-16 w-16 rounded-full bg-primary/10 mb-4"},ks={class:"flex items-center gap-3"},$s={class:"flex items-center justify-center h-10 w-10 rounded-lg bg-primary/10"},Ts={class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4"},Vs={class:"flex justify-end pt-4"},Us={class:"flex items-center gap-3"},Ss={class:"flex items-center justify-center h-10 w-10 rounded-lg bg-green-100"},Ms={class:"flex-1"},Ls={key:0,class:"mb-8"},As={class:"flex items-center gap-2 mb-4"},Ds={class:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4 mb-6"},Es={class:"space-y-3"},js={class:"flex items-center justify-between"},Ns={class:"space-y-1"},Fs={class:"text-sm text-muted-foreground"},Bs={class:"text-lg font-bold text-green-600"},Is={class:"text-sm mt-1"},qs=["href"],zs={class:"flex items-center gap-2 mb-4"},Os={class:"space-y-4"},Rs={class:"grid grid-cols-1 lg:grid-cols-6 gap-4 items-end"},Ps={class:"lg:col-span-1"},Gs=["id","onUpdate:modelValue","onChange"],Ws=["value"],Ys={class:"lg:col-span-1"},Hs=["id","onUpdate:modelValue","disabled"],Js=["value"],Ks={class:"lg:col-span-1"},Qs={class:"lg:col-span-1"},Xs={class:"lg:col-span-1"},Zs={class:"lg:col-span-1 flex justify-end"},et={key:0,class:"mt-4 p-3 bg-muted/50 rounded-md"},st={class:"text-xs text-muted-foreground"},tt={class:"font-medium"},lt={class:"font-medium"},ot={class:"font-semibold text-green-600"},rt={class:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-3 sm:space-y-0 pt-4"},at={class:"flex items-center gap-3 mb-2"},nt={class:"flex items-center justify-center h-12 w-12 rounded-full bg-primary/10"},it={class:"space-y-2"},dt={key:0,class:"text-sm text-destructive flex items-center"},ut={class:"space-y-2"},mt={key:0,class:"text-sm text-destructive flex items-center"},_t={class:"space-y-2"},ct={class:"flex items-center gap-2"},pt={class:"flex items-center gap-2"},ft={class:"flex items-center gap-2"},vt={key:0,class:"text-sm text-destructive flex items-center"},yt={class:"space-y-2"},xt={class:"flex items-center gap-3 mb-2"},bt={class:"flex items-center justify-center h-12 w-12 rounded-full bg-blue-100"},gt={class:"font-medium"},wt={class:"space-y-2"},ht={key:0,class:"text-sm text-destructive flex items-center"},Ct={class:"space-y-2"},kt={class:"text-xs text-muted-foreground"},$t={key:0,class:"text-sm text-destructive flex items-center"},Tt={class:"space-y-2"},Vt={class:"flex items-start gap-3"},Ut={class:"flex items-center justify-center h-12 w-12 rounded-full bg-destructive/10"},St={class:"flex-1"},Mt={class:"font-semibold"},Lt={class:"text-center"},At={class:"mx-auto flex items-center justify-center h-16 w-16 rounded-full bg-destructive/10 mb-4"},Dt={class:"font-semibold"},Et={class:"text-center"},jt={class:"mx-auto flex items-center justify-center h-16 w-16 rounded-full bg-yellow-100 mb-4"},jl=Xe({__name:"Index",props:{configs:{},incentives:{},userLevels:{}},setup(Me){const c=Me,B=h(!1),$=h(!1),K=h(!1),I=h(!1),q=h(!1),z=h(!1),g=h(null),E=h(null),j=h(null),O=h(null),Le=[{name:"Dashboard",href:route("dashboard")},{name:"Evaluations",href:route("admin.evaluations.index")},{name:"Configurations",href:null}],m=P({name:"",max_score:0,description:"",applies_to:"both"}),f=P({type_name:"",score_value:0,description:""}),C=P({total_score:0,config_scores:{}}),w=P({incentives:c.incentives&&c.incentives.length>0?c.incentives.map(n=>({user_level_id:n.user_level_id||null,user_level_tier_id:n.user_level_tier_id||null,min_score:n.min_score||0,max_score:n.max_score||0,incentive_amount:parseFloat(n.incentive_amount.toString())||0})):[{user_level_id:null,user_level_tier_id:null,min_score:0,max_score:0,incentive_amount:0}]}),Q=pe(()=>c.configs&&Array.isArray(c.configs)&&c.configs.length>0&&c.configs.every(n=>n&&typeof n=="object")),_e=pe(()=>c.userLevels&&Array.isArray(c.userLevels)&&c.userLevels.length>0);Q.value&&c.configs.forEach(n=>{n&&n.id&&(C.config_scores[n.id]=n.max_score||0)});const Ae=n=>{if(!n||!c.userLevels)return[];const s=c.userLevels.find(l=>l.id===n);return s?s.tiers:[]},De=n=>{w.incentives[n].user_level_tier_id=null},Ee=n=>{if(!n||!c.userLevels)return"Unknown Level";const s=c.userLevels.find(l=>l.id===n);return s?`${s.name} (${s.code})`:"Unknown Level"},je=n=>{if(!n||!c.userLevels)return"Unknown Tier";for(const s of c.userLevels){const l=s.tiers.find(i=>i.id===n);if(l)return`${l.tier_name} (T${l.tier_order})`}return"Unknown Tier"},Ne=(n,s)=>{const l=n/s*100;return l>=90?"default":l>=75?"secondary":l>=50?"outline":"destructive"},Fe=n=>n==="both"?"secondary":n==="online"?"default":"outline",Be=n=>n==="online"?Se:n==="regular"?Ue:me,R=()=>{B.value=!1,$.value=!1,m.reset(),m.clearErrors()},X=()=>{K.value=!1,f.reset(),f.clearErrors(),g.value=null},Ie=()=>{m.post(route("admin.evaluations.store"),{onSuccess:()=>{R()}})},qe=n=>{n&&(m.name=n.name||"",m.max_score=n.max_score||0,m.description=n.description||"",m.applies_to=n.applies_to||"both",g.value=n,$.value=!0)},ze=()=>{var n;(n=g.value)!=null&&n.id&&m.put(route("admin.evaluations.update",g.value.id),{onSuccess:()=>{R(),g.value=null}})},Oe=n=>{E.value=n,I.value=!0},Re=()=>{var n;(n=E.value)!=null&&n.id&&ye.delete(route("admin.evaluations.destroy",E.value.id),{onSuccess:()=>{I.value=!1,E.value=null}})},ce=n=>{n&&(g.value=n,f.reset(),f.clearErrors(),K.value=!0)},Pe=()=>{var n;(n=g.value)!=null&&n.id&&f.post(route("admin.evaluations.types.store",g.value.id),{onSuccess:()=>{X()}})},Ge=n=>{j.value=n,q.value=!0},We=()=>{var n;(n=j.value)!=null&&n.id&&ye.delete(route("admin.evaluations.types.destroy",j.value.id),{onSuccess:()=>{q.value=!1,j.value=null},onError:s=>{console.error("Delete failed:",s)}})},Ye=()=>{C.post(route("admin.evaluations.set-total-score"))},He=()=>{w.post(route("admin.evaluations.set-incentives"),{onSuccess:()=>{},onError:n=>{console.error("Incentive save errors:",n)}})},Je=()=>{w.incentives.push({user_level_id:null,user_level_tier_id:null,min_score:0,max_score:0,incentive_amount:0})},Ke=n=>{w.incentives.length<=1||(O.value=n,z.value=!0)},Qe=()=>{O.value!==null&&w.incentives.length>1&&w.incentives.splice(O.value,1),z.value=!1,O.value=null};return(n,s)=>(d(),v(es,{breadcrumbs:Le},{default:o(()=>[r("div",ds,[r("div",us,[s[15]||(s[15]=r("div",null,[r("h1",{class:"text-3xl font-bold"},"Evaluation Configurations"),r("p",{class:"mt-2 text-sm text-muted-foreground"}," Manage evaluation categories, types, scoring, and level + tier based incentive structures ")],-1)),t(e(x),{onClick:s[0]||(s[0]=l=>B.value=!0)},{default:o(()=>[t(e(N),{class:"mr-2 h-4 w-4"}),s[14]||(s[14]=a(" Add Category "))]),_:1})]),Q.value?(d(),p("div",ms,[(d(!0),p(S,null,M(n.configs,l=>(d(),v(e(V),{key:(l==null?void 0:l.id)||Math.random(),class:"hover:shadow-md transition-shadow duration-200"},{default:o(()=>[t(e(Z),null,{default:o(()=>[r("div",_s,[r("div",null,[t(e(W),{class:"flex items-center gap-2"},{default:o(()=>[t(e(ue),{class:"h-5 w-5"}),a(" "+u((l==null?void 0:l.name)||"Unnamed Category")+" ",1),l!=null&&l.applies_to?(d(),v(e(A),{key:0,variant:Fe(l.applies_to),class:"text-xs"},{default:o(()=>[(d(),v(Ze(Be(l.applies_to)),{class:"mr-1 h-3 w-3"})),a(" "+u(l.applies_to==="regular"?"Regular Only":l.applies_to==="online"?"Online Only":"Both Types"),1)]),_:2},1032,["variant"])):b("",!0)]),_:2},1024),t(e(G),{class:"mt-1"},{default:o(()=>[a(" Max Score: "+u((l==null?void 0:l.max_score)||0)+" points ",1),l!=null&&l.description?(d(),p("span",cs," â€¢ "+u(l.description),1)):b("",!0)]),_:2},1024)]),r("div",ps,[t(e(x),{onClick:i=>qe(l),variant:"outline",size:"sm"},{default:o(()=>[t(e(rs),{class:"mr-1 h-4 w-4"}),s[16]||(s[16]=a(" Edit "))]),_:2},1032,["onClick"]),t(e(x),{onClick:i=>Oe(l),variant:"outline",size:"sm",class:"text-destructive hover:text-destructive"},{default:o(()=>[t(e(D),{class:"mr-1 h-4 w-4"}),s[17]||(s[17]=a(" Delete "))]),_:2},1032,["onClick"])])])]),_:2},1024),t(e(U),null,{default:o(()=>[r("div",null,[r("div",fs,[r("div",vs,[t(e(Ve),{class:"h-4 w-4"}),t(e(y),{class:"text-sm font-medium"},{default:o(()=>s[18]||(s[18]=[a("Evaluation Types")])),_:1})]),t(e(x),{onClick:i=>ce(l),variant:"outline",size:"sm"},{default:o(()=>[t(e(N),{class:"mr-1 h-4 w-4"}),s[19]||(s[19]=a(" Add Type "))]),_:2},1032,["onClick"])]),l!=null&&l.types&&l.types.length>0?(d(),p("div",ys,[(d(!0),p(S,null,M(l.types,i=>(d(),v(e(V),{key:(i==null?void 0:i.id)||Math.random(),class:"relative hover:shadow-sm transition-shadow duration-200"},{default:o(()=>[t(e(U),{class:"p-4"},{default:o(()=>[r("div",xs,[r("div",bs,[r("p",gs,u((i==null?void 0:i.type_name)||"Unnamed Type"),1),r("div",ws,[t(e(A),{variant:Ne((i==null?void 0:i.score_value)||0,(l==null?void 0:l.max_score)||100),class:"text-xs"},{default:o(()=>[a(u((i==null?void 0:i.score_value)||0)+" pts ",1)]),_:2},1032,["variant"])]),i!=null&&i.description?(d(),p("p",hs,u(i.description),1)):b("",!0)]),t(e(x),{onClick:_=>Ge(i),variant:"ghost",size:"sm",class:"h-8 w-8 p-0 text-destructive hover:text-destructive"},{default:o(()=>[t(e(D),{class:"h-4 w-4"})]),_:2},1032,["onClick"])])]),_:2},1024)]),_:2},1024))),128))])):(d(),v(e(V),{key:1,class:"border-dashed"},{default:o(()=>[t(e(U),{class:"flex flex-col items-center justify-center py-8 text-center"},{default:o(()=>[t(e(as),{class:"h-8 w-8 text-muted-foreground mb-2"}),s[21]||(s[21]=r("p",{class:"text-sm text-muted-foreground mb-4"}," No evaluation types configured ",-1)),t(e(x),{onClick:i=>ce(l),variant:"outline",size:"sm"},{default:o(()=>s[20]||(s[20]=[a(" Add your first type ")])),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024))])]),_:2},1024)]),_:2},1024))),128))])):(d(),v(e(V),{key:1,class:"border-dashed"},{default:o(()=>[t(e(U),{class:"flex flex-col items-center justify-center py-12 text-center"},{default:o(()=>[r("div",Cs,[t(e(ue),{class:"h-8 w-8 text-primary"})]),t(e(W),{class:"mb-2"},{default:o(()=>s[22]||(s[22]=[a("No evaluation configurations")])),_:1}),t(e(G),{class:"mb-6 max-w-sm"},{default:o(()=>s[23]||(s[23]=[a(" Get started by creating your first evaluation category to organize your assessment criteria. ")])),_:1}),t(e(x),{onClick:s[1]||(s[1]=l=>B.value=!0)},{default:o(()=>[t(e(N),{class:"mr-2 h-4 w-4"}),s[24]||(s[24]=a(" Create First Category "))]),_:1})]),_:1})]),_:1})),Q.value?(d(),v(e(V),{key:2,class:"mt-8"},{default:o(()=>[t(e(Z),null,{default:o(()=>[r("div",ks,[r("div",$s,[t(e(ns),{class:"h-6 w-6 text-primary"})]),r("div",null,[t(e(W),null,{default:o(()=>s[25]||(s[25]=[a("Total Score Configuration")])),_:1}),t(e(G),null,{default:o(()=>s[26]||(s[26]=[a(" Set the overall scoring distribution across categories ")])),_:1})])])]),_:1}),t(e(U),null,{default:o(()=>[r("form",{onSubmit:L(Ye,["prevent"]),class:"space-y-4"},[r("div",Ts,[r("div",null,[t(e(y),{for:"total_score"},{default:o(()=>s[27]||(s[27]=[a("Total Score")])),_:1}),t(e(k),{id:"total_score",modelValue:e(C).total_score,"onUpdate:modelValue":s[2]||(s[2]=l=>e(C).total_score=l),modelModifiers:{number:!0},type:"number",min:"1",placeholder:"Enter total score"},null,8,["modelValue"])]),(d(!0),p(S,null,M(n.configs,l=>(d(),p("div",{key:`total_${l==null?void 0:l.id}`,class:"space-y-1"},[t(e(y),{for:`config_score_${l==null?void 0:l.id}`},{default:o(()=>[a(u((l==null?void 0:l.name)||"Unnamed"),1)]),_:2},1032,["for"]),t(e(k),{id:`config_score_${l==null?void 0:l.id}`,modelValue:e(C).config_scores[l==null?void 0:l.id],"onUpdate:modelValue":i=>e(C).config_scores[l==null?void 0:l.id]=i,modelModifiers:{number:!0},type:"number",min:"0",max:(l==null?void 0:l.max_score)||0,placeholder:`Max: ${(l==null?void 0:l.max_score)||0}`},null,8,["id","modelValue","onUpdate:modelValue","max","placeholder"])]))),128))]),t(e(ie)),r("div",Vs,[t(e(x),{type:"submit",disabled:e(C).processing},{default:o(()=>[e(C).processing?(d(),v(e(Y),{key:0,class:"mr-2 h-4 w-4 animate-spin"})):(d(),v(e(H),{key:1,class:"mr-2 h-4 w-4"})),a(" "+u(e(C).processing?"Saving...":"Save Total Score"),1)]),_:1},8,["disabled"])])],32)]),_:1})]),_:1})):b("",!0),t(e(V),{class:"mt-8"},{default:o(()=>[t(e(Z),null,{default:o(()=>[r("div",Us,[r("div",Ss,[t(e(is),{class:"h-6 w-6 text-green-600"})]),r("div",Ms,[t(e(W),{class:"flex items-center gap-2"},{default:o(()=>[s[29]||(s[29]=a(" Level + Tier Based Incentives ")),t(e(A),{variant:"secondary",class:"text-xs"},{default:o(()=>s[28]||(s[28]=[a("Enhanced")])),_:1})]),_:1}),t(e(G),null,{default:o(()=>s[30]||(s[30]=[a(" Define reward tiers based on user level, tier, and performance scores ")])),_:1})])])]),_:1}),t(e(U),null,{default:o(()=>[c.incentives&&c.incentives.length>0?(d(),p("div",Ls,[r("div",As,[t(e(me),{class:"h-5 w-5 text-muted-foreground"}),t(e(y),{class:"text-base font-semibold"},{default:o(()=>s[31]||(s[31]=[a("Current Incentive Structure")])),_:1}),t(e(A),{variant:"outline",class:"text-xs"},{default:o(()=>[a(u(c.incentives.length)+" rules",1)]),_:1})]),r("div",Ds,[(d(!0),p(S,null,M(c.incentives,l=>(d(),v(e(V),{key:l.id,class:"border-l-4 border-l-green-500 hover:shadow-md transition-shadow"},{default:o(()=>[t(e(U),{class:"p-4"},{default:o(()=>[r("div",Es,[r("div",js,[t(e(A),{variant:"secondary",class:"text-xs"},{default:o(()=>{var i;return[a(u(((i=l.user_level)==null?void 0:i.name)||"Unknown Level"),1)]}),_:2},1024),t(e(A),{variant:"outline",class:"text-xs"},{default:o(()=>{var i;return[a(u(((i=l.user_level_tier)==null?void 0:i.tier_name)||"Unknown Tier"),1)]}),_:2},1024)]),r("div",Ns,[r("div",Fs," Score Range: "+u(l.min_score)+"-"+u(l.max_score),1),r("div",Bs," $"+u(Number(l.incentive_amount).toFixed(2)),1)])])]),_:2},1024)]),_:2},1024))),128))]),t(e(ie))])):b("",!0),_e.value?b("",!0):(d(),v(e($e),{key:1,variant:"destructive",class:"mb-6"},{default:o(()=>[t(e(J),{class:"h-4 w-4"}),t(e(Te),null,{default:o(()=>[s[33]||(s[33]=r("div",{class:"font-medium"},"No User Levels Found",-1)),r("p",Is,[s[32]||(s[32]=a(" You need to create user levels and tiers before configuring incentives. ")),r("a",{href:n.route("admin.organizational.index"),class:"underline hover:no-underline"}," Go to Organizational Management ",8,qs)])]),_:1})]),_:1})),_e.value?(d(),p("form",{key:2,onSubmit:L(He,["prevent"]),class:"space-y-6"},[r("div",zs,[t(e(N),{class:"h-5 w-5 text-muted-foreground"}),t(e(y),{class:"text-base font-semibold"},{default:o(()=>s[34]||(s[34]=[a("Configure New Incentives")])),_:1})]),r("div",Os,[(d(!0),p(S,null,M(e(w).incentives,(l,i)=>(d(),v(e(V),{key:i,class:"relative hover:shadow-sm transition-all duration-200"},{default:o(()=>[t(e(U),{class:"p-6"},{default:o(()=>[r("div",Rs,[r("div",Ps,[t(e(y),{for:`level_${i}`,class:"text-sm font-medium"},{default:o(()=>s[35]||(s[35]=[a("User Level")])),_:2},1032,["for"]),fe(r("select",{id:`level_${i}`,"onUpdate:modelValue":_=>l.user_level_id=_,onChange:_=>De(i),class:"mt-1 block w-full border-input bg-background px-3 py-2 text-sm ring-offset-background border rounded-md focus:border-ring focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",required:""},[s[36]||(s[36]=r("option",{value:""},"Select Level",-1)),(d(!0),p(S,null,M(c.userLevels,_=>(d(),p("option",{key:_.id,value:_.id},u(_.name)+" ("+u(_.code)+") ",9,Ws))),128))],40,Gs),[[ve,l.user_level_id]])]),r("div",Ys,[t(e(y),{for:`tier_${i}`,class:"text-sm font-medium"},{default:o(()=>s[37]||(s[37]=[a("Tier")])),_:2},1032,["for"]),fe(r("select",{id:`tier_${i}`,"onUpdate:modelValue":_=>l.user_level_tier_id=_,class:"mt-1 block w-full border-input bg-background px-3 py-2 text-sm ring-offset-background border rounded-md focus:border-ring focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:opacity-50",disabled:!l.user_level_id,required:""},[s[38]||(s[38]=r("option",{value:""},"Select Tier",-1)),(d(!0),p(S,null,M(Ae(l.user_level_id),_=>(d(),p("option",{key:_.id,value:_.id},u(_.tier_name)+" (T"+u(_.tier_order)+") ",9,Js))),128))],8,Hs),[[ve,l.user_level_tier_id]])]),r("div",Ks,[t(e(y),{for:`min_score_${i}`,class:"text-sm font-medium"},{default:o(()=>s[39]||(s[39]=[a("Min Score")])),_:2},1032,["for"]),t(e(k),{id:`min_score_${i}`,modelValue:l.min_score,"onUpdate:modelValue":_=>l.min_score=_,modelModifiers:{number:!0},type:"number",min:"0",placeholder:"0",required:"",class:"mt-1"},null,8,["id","modelValue","onUpdate:modelValue"])]),r("div",Qs,[t(e(y),{for:`max_score_${i}`,class:"text-sm font-medium"},{default:o(()=>s[40]||(s[40]=[a("Max Score")])),_:2},1032,["for"]),t(e(k),{id:`max_score_${i}`,modelValue:l.max_score,"onUpdate:modelValue":_=>l.max_score=_,modelModifiers:{number:!0},type:"number",min:l.min_score||0,placeholder:"100",required:"",class:"mt-1"},null,8,["id","modelValue","onUpdate:modelValue","min"])]),r("div",Xs,[t(e(y),{for:`incentive_amount_${i}`,class:"text-sm font-medium"},{default:o(()=>s[41]||(s[41]=[a("Amount ($)")])),_:2},1032,["for"]),t(e(k),{id:`incentive_amount_${i}`,modelValue:l.incentive_amount,"onUpdate:modelValue":_=>l.incentive_amount=_,modelModifiers:{number:!0},type:"number",step:"0.01",min:"0",placeholder:"0.00",required:"",class:"mt-1"},null,8,["id","modelValue","onUpdate:modelValue"])]),r("div",Zs,[t(e(x),{onClick:L(_=>Ke(i),["prevent"]),type:"button",variant:"outline",size:"sm",disabled:e(w).incentives.length<=1,class:"text-destructive hover:text-destructive"},{default:o(()=>[t(e(D),{class:"h-4 w-4"})]),_:2},1032,["onClick","disabled"])])]),l.user_level_id&&l.user_level_tier_id?(d(),p("div",et,[r("div",st,[s[42]||(s[42]=a(" Preview: Users in ")),r("span",tt,u(Ee(l.user_level_id)),1),s[43]||(s[43]=a(" at ")),r("span",lt,u(je(l.user_level_tier_id)),1),a(" with scores "+u(l.min_score)+"-"+u(l.max_score)+" will receive ",1),r("span",ot,"$"+u(l.incentive_amount||0),1)])])):b("",!0)]),_:2},1024)]),_:2},1024))),128))]),t(e(ie)),r("div",rt,[t(e(x),{onClick:L(Je,["prevent"]),type:"button",variant:"outline"},{default:o(()=>[t(e(N),{class:"mr-2 h-4 w-4"}),s[44]||(s[44]=a(" Add Level+Tier Incentive "))]),_:1}),t(e(x),{type:"submit",disabled:e(w).processing},{default:o(()=>[e(w).processing?(d(),v(e(Y),{key:0,class:"mr-2 h-4 w-4 animate-spin"})):(d(),v(e(H),{key:1,class:"mr-2 h-4 w-4"})),a(" "+u(e(w).processing?"Saving...":"Save Incentives"),1)]),_:1},8,["disabled"])])],32)):b("",!0)]),_:1})]),_:1})]),t(e(be),{open:B.value||$.value,"onUpdate:open":R},{default:o(()=>[t(e(ge),{class:"sm:max-w-md"},{default:o(()=>[t(e(we),null,{default:o(()=>[r("div",at,[r("div",nt,[t(e(ue),{class:"h-6 w-6 text-primary"})]),r("div",null,[t(e(he),null,{default:o(()=>[a(u($.value?"Edit Category":"Create New Category"),1)]),_:1}),t(e(Ce),null,{default:o(()=>[a(u($.value?"Update the category information below":"Add a new evaluation category to organize your assessments"),1)]),_:1})])])]),_:1}),r("form",{onSubmit:s[7]||(s[7]=L(l=>$.value?ze():Ie(),["prevent"])),class:"space-y-4"},[r("div",it,[t(e(y),{for:"category_name"},{default:o(()=>s[45]||(s[45]=[a("Category Name")])),_:1}),t(e(k),{id:"category_name",modelValue:e(m).name,"onUpdate:modelValue":s[3]||(s[3]=l=>e(m).name=l),placeholder:"Enter a descriptive category name",required:""},null,8,["modelValue"]),e(m).errors.name?(d(),p("span",dt,[t(e(F),{class:"mr-1 h-4 w-4"}),a(" "+u(e(m).errors.name),1)])):b("",!0)]),r("div",ut,[t(e(y),{for:"max_score"},{default:o(()=>s[46]||(s[46]=[a("Maximum Score")])),_:1}),t(e(k),{id:"max_score",modelValue:e(m).max_score,"onUpdate:modelValue":s[4]||(s[4]=l=>e(m).max_score=l),modelModifiers:{number:!0},type:"number",min:"1",max:"1000",placeholder:"Enter the maximum possible score",required:""},null,8,["modelValue"]),s[47]||(s[47]=r("p",{class:"text-xs text-muted-foreground"}," The highest score that can be assigned in this category ",-1)),e(m).errors.max_score?(d(),p("span",mt,[t(e(F),{class:"mr-1 h-4 w-4"}),a(" "+u(e(m).errors.max_score),1)])):b("",!0)]),r("div",_t,[t(e(y),{for:"applies_to"},{default:o(()=>s[48]||(s[48]=[a("Applies To")])),_:1}),t(e(ss),{modelValue:e(m).applies_to,"onUpdate:modelValue":s[5]||(s[5]=l=>e(m).applies_to=l),disabled:e(m).processing},{default:o(()=>[t(e(ts),{id:"applies_to"},{default:o(()=>[t(e(ls),{placeholder:"Select course type..."})]),_:1}),t(e(os),null,{default:o(()=>[t(e(de),{value:"regular"},{default:o(()=>[r("div",ct,[t(e(Ue),{class:"h-4 w-4"}),s[49]||(s[49]=r("span",null,"Regular Courses Only",-1))])]),_:1}),t(e(de),{value:"online"},{default:o(()=>[r("div",pt,[t(e(Se),{class:"h-4 w-4"}),s[50]||(s[50]=r("span",null,"Online Courses Only",-1))])]),_:1}),t(e(de),{value:"both"},{default:o(()=>[r("div",ft,[t(e(me),{class:"h-4 w-4"}),s[51]||(s[51]=r("span",null,"Both Course Types",-1))])]),_:1})]),_:1})]),_:1},8,["modelValue","disabled"]),s[52]||(s[52]=r("p",{class:"text-xs text-muted-foreground"}," Specify where this evaluation category can be used ",-1)),e(m).errors.applies_to?(d(),p("span",vt,[t(e(F),{class:"mr-1 h-4 w-4"}),a(" "+u(e(m).errors.applies_to),1)])):b("",!0)]),r("div",yt,[t(e(y),{for:"category_description"},{default:o(()=>s[53]||(s[53]=[a("Description (Optional)")])),_:1}),t(e(xe),{id:"category_description",modelValue:e(m).description,"onUpdate:modelValue":s[6]||(s[6]=l=>e(m).description=l),placeholder:"Provide additional details about this category...",rows:"3"},null,8,["modelValue"])]),t(e(ke),null,{default:o(()=>[t(e(x),{type:"button",variant:"outline",onClick:R,disabled:e(m).processing},{default:o(()=>s[54]||(s[54]=[a(" Cancel ")])),_:1},8,["disabled"]),t(e(x),{type:"submit",disabled:e(m).processing},{default:o(()=>[e(m).processing?(d(),v(e(Y),{key:0,class:"mr-2 h-4 w-4 animate-spin"})):(d(),v(e(H),{key:1,class:"mr-2 h-4 w-4"})),a(" "+u(e(m).processing?$.value?"Updating...":"Creating...":$.value?"Update Category":"Create Category"),1)]),_:1},8,["disabled"])]),_:1})],32)]),_:1})]),_:1},8,["open"]),t(e(be),{open:K.value,"onUpdate:open":X},{default:o(()=>[t(e(ge),{class:"sm:max-w-md"},{default:o(()=>{var l,i,_;return[t(e(we),null,{default:o(()=>[r("div",xt,[r("div",bt,[t(e(Ve),{class:"h-6 w-6 text-blue-600"})]),r("div",null,[t(e(he),null,{default:o(()=>s[55]||(s[55]=[a("Add Evaluation Type")])),_:1}),t(e(Ce),null,{default:o(()=>{var T;return[s[56]||(s[56]=a(" Create a new evaluation type for ")),r("span",gt,u(((T=g.value)==null?void 0:T.name)||"this category"),1)]}),_:1})])])]),_:1}),r("form",{onSubmit:L(Pe,["prevent"]),class:"space-y-4"},[r("div",wt,[t(e(y),{for:"type_name"},{default:o(()=>s[57]||(s[57]=[a("Type Name")])),_:1}),t(e(k),{id:"type_name",modelValue:e(f).type_name,"onUpdate:modelValue":s[8]||(s[8]=T=>e(f).type_name=T),placeholder:"e.g., Excellent, Good, Fair, Poor",required:""},null,8,["modelValue"]),e(f).errors.type_name?(d(),p("span",ht,[t(e(F),{class:"mr-1 h-4 w-4"}),a(" "+u(e(f).errors.type_name),1)])):b("",!0)]),r("div",Ct,[t(e(y),{for:"score_value"},{default:o(()=>s[58]||(s[58]=[a("Score Value")])),_:1}),t(e(k),{id:"score_value",modelValue:e(f).score_value,"onUpdate:modelValue":s[9]||(s[9]=T=>e(f).score_value=T),modelModifiers:{number:!0},type:"number",min:"0",max:((l=g.value)==null?void 0:l.max_score)||0,placeholder:`Enter score (0 - ${((i=g.value)==null?void 0:i.max_score)||0})`,required:""},null,8,["modelValue","max","placeholder"]),r("p",kt," Maximum allowed: "+u(((_=g.value)==null?void 0:_.max_score)||0)+" points ",1),e(f).errors.score_value?(d(),p("span",$t,[t(e(F),{class:"mr-1 h-4 w-4"}),a(" "+u(e(f).errors.score_value),1)])):b("",!0)]),r("div",Tt,[t(e(y),{for:"type_description"},{default:o(()=>s[59]||(s[59]=[a("Description (Optional)")])),_:1}),t(e(xe),{id:"type_description",modelValue:e(f).description,"onUpdate:modelValue":s[10]||(s[10]=T=>e(f).description=T),placeholder:"Describe this evaluation type...",rows:"2"},null,8,["modelValue"])]),t(e(ke),null,{default:o(()=>[t(e(x),{type:"button",variant:"outline",onClick:X,disabled:e(f).processing},{default:o(()=>s[60]||(s[60]=[a(" Cancel ")])),_:1},8,["disabled"]),t(e(x),{type:"submit",disabled:e(f).processing},{default:o(()=>[e(f).processing?(d(),v(e(Y),{key:0,class:"mr-2 h-4 w-4 animate-spin"})):(d(),v(e(H),{key:1,class:"mr-2 h-4 w-4"})),a(" "+u(e(f).processing?"Adding...":"Add Type"),1)]),_:1},8,["disabled"])]),_:1})],32)]}),_:1})]),_:1},8,["open"]),t(e(ee),{open:I.value,"onUpdate:open":s[11]||(s[11]=l=>I.value=l)},{default:o(()=>[t(e(se),null,{default:o(()=>[t(e(te),null,{default:o(()=>[r("div",Vt,[r("div",Ut,[t(e(J),{class:"h-6 w-6 text-destructive"})]),r("div",St,[t(e(le),null,{default:o(()=>s[61]||(s[61]=[a("Delete Evaluation Category")])),_:1}),t(e(oe),{class:"mt-2"},{default:o(()=>{var l;return[s[62]||(s[62]=a(" Are you sure you want to delete ")),r("span",Mt,u(((l=E.value)==null?void 0:l.name)||"this category"),1),s[63]||(s[63]=a("? "))]}),_:1})])])]),_:1}),t(e($e),{variant:"destructive",class:"my-4"},{default:o(()=>[t(e(J),{class:"h-4 w-4"}),t(e(Te),null,{default:o(()=>s[64]||(s[64]=[r("p",{class:"font-medium mb-1"},"This action cannot be undone.",-1),r("p",null,"This will permanently delete:",-1),r("ul",{class:"list-disc list-inside mt-2 space-y-1 text-sm"},[r("li",null,"The evaluation category"),r("li",null,"All associated evaluation types"),r("li",null,"Any related scoring configurations")],-1)])),_:1})]),_:1}),t(e(re),null,{default:o(()=>[t(e(ae),null,{default:o(()=>s[65]||(s[65]=[a("Cancel")])),_:1}),t(e(ne),{onClick:Re,class:"bg-destructive text-destructive-foreground hover:bg-destructive/90"},{default:o(()=>[t(e(D),{class:"mr-2 h-4 w-4"}),s[66]||(s[66]=a(" Delete Category "))]),_:1})]),_:1})]),_:1})]),_:1},8,["open"]),t(e(ee),{open:q.value,"onUpdate:open":s[12]||(s[12]=l=>q.value=l)},{default:o(()=>[t(e(se),null,{default:o(()=>[t(e(te),null,{default:o(()=>[r("div",Lt,[r("div",At,[t(e(D),{class:"h-8 w-8 text-destructive"})]),t(e(le),null,{default:o(()=>s[67]||(s[67]=[a("Delete Evaluation Type")])),_:1}),t(e(oe),null,{default:o(()=>{var l;return[s[68]||(s[68]=a(" Are you sure you want to delete the evaluation type ")),r("span",Dt,u(((l=j.value)==null?void 0:l.type_name)||"this type"),1),s[69]||(s[69]=a("? This action cannot be undone. "))]}),_:1})])]),_:1}),t(e(re),null,{default:o(()=>[t(e(ae),null,{default:o(()=>s[70]||(s[70]=[a("Cancel")])),_:1}),t(e(ne),{onClick:We,class:"bg-destructive text-destructive-foreground hover:bg-destructive/90"},{default:o(()=>[t(e(D),{class:"mr-2 h-4 w-4"}),s[71]||(s[71]=a(" Delete Type "))]),_:1})]),_:1})]),_:1})]),_:1},8,["open"]),t(e(ee),{open:z.value,"onUpdate:open":s[13]||(s[13]=l=>z.value=l)},{default:o(()=>[t(e(se),null,{default:o(()=>[t(e(te),null,{default:o(()=>[r("div",Et,[r("div",jt,[t(e(J),{class:"h-8 w-8 text-yellow-600"})]),t(e(le),null,{default:o(()=>s[72]||(s[72]=[a("Remove Incentive Tier")])),_:1}),t(e(oe),null,{default:o(()=>s[73]||(s[73]=[a(" Are you sure you want to remove this incentive tier? This action cannot be undone. ")])),_:1})])]),_:1}),t(e(re),null,{default:o(()=>[t(e(ae),null,{default:o(()=>s[74]||(s[74]=[a("Cancel")])),_:1}),t(e(ne),{onClick:Qe,class:"bg-yellow-600 text-white hover:bg-yellow-700"},{default:o(()=>s[75]||(s[75]=[a(" Remove Tier ")])),_:1})]),_:1})]),_:1})]),_:1},8,["open"])]),_:1}))}});export{jl as default};
