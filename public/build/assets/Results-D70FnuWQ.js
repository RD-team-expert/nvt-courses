import{P,I as B,k as Q,o as i,w as S,e as t,j as c,t as r,a,n as m,f as x,b as V,F as R,h as D,r as H,c as g,W as I}from"./app-iYB6CK9s.js";import{_ as T}from"./AppLayout.vue_vue_type_script_setup_true_lang-BOHGZ_58.js";import{_ as N}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-B3PnW6xU.js";import"./index-BHiy4VMt.js";const E={components:{AppLayout:T,Link:P},props:{attempt:{type:Object,required:!0},userAttempts:{type:Array,default:()=>[]}},setup(d){const e=H(!1),l=2*Math.PI*56,o=g(()=>{var s;return[{name:"Quizzes",route:"quizzes.index"},{name:((s=d.attempt.quiz)==null?void 0:s.title)||"Quiz",route:null},{name:"Results",route:null}]}),C=g(()=>{var s;return!((s=d.attempt.quiz)!=null&&s.total_points)||d.attempt.quiz.total_points===0?0:d.attempt.total_score/d.attempt.quiz.total_points*100}),h=g(()=>Math.max(0,3-d.userAttempts.length)),_=g(()=>!d.attempt.passed&&h.value>0&&(d.attempt.attempt_number||0)<3),b=g(()=>{const s=d.attempt.attempt_number>=3||d.userAttempts.length>=3;return d.attempt.passed||s});return{breadcrumbs:o,showAnswers:e,circumference:l,scorePercentage:C,attemptsLeft:h,canRetry:_,showCorrectAnswersAllowed:b,formatDate:s=>s?new Date(s).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):null,formatAnswer:s=>Array.isArray(s)?s.join(", "):s,formatCorrectAnswer:s=>Array.isArray(s)?s.join(", "):s,getStatusText:s=>{var u;return((u=s.question)==null?void 0:u.type)==="text"?s.is_correct!==null?"Manually Graded":"Pending Review":s.is_correct?"Correct":"Incorrect"},getStatusColor:s=>s.is_correct===!0?"bg-green-500":s.is_correct===!1?"bg-red-500":"bg-yellow-500",getStatusBadge:s=>s.is_correct===!0?"bg-green-100 text-green-800":s.is_correct===!1?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800",getStatusIcon:s=>s.is_correct===!0?"text-green-500":s.is_correct===!1?"text-red-500":"text-yellow-500",toggleCorrectAnswers:()=>{e.value=!e.value},retryQuiz:()=>{I.visit(route("quizzes.show",d.attempt.quiz.id))}}}},F={class:"min-h-screen bg-linear-to-br from-slate-50 to-blue-50"},G={class:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8"},W={class:"text-center mb-8"},Y={class:"text-lg text-gray-600"},O={class:"font-semibold"},U={class:"bg-white rounded-xl shadow-lg p-8 mb-8 border border-gray-100"},J={class:"text-center mb-6"},K={class:"relative inline-flex items-center justify-center w-32 h-32 mb-4"},X={class:"transform -rotate-90 w-32 h-32"},Z=["stroke-dasharray","stroke-dashoffset"],$={class:"absolute inset-0 flex flex-col items-center justify-center"},tt={class:"text-3xl font-bold text-gray-900"},et={class:"mb-4"},st={key:0,class:"w-6 h-6 mr-2",fill:"currentColor",viewBox:"0 0 20 20"},ot={key:1,class:"w-6 h-6 mr-2",fill:"currentColor",viewBox:"0 0 20 20"},rt={class:"text-gray-600"},nt={class:"font-bold text-gray-900"},lt={class:"font-bold text-gray-900"},it={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8"},at={class:"bg-white rounded-xl shadow-sm p-6 border border-gray-100"},dt={class:"flex items-center"},ct={class:"ml-4"},mt={class:"text-xl font-bold text-gray-900"},ut={class:"bg-white rounded-xl shadow-sm p-6 border border-gray-100"},xt={class:"flex items-center"},gt={class:"ml-4"},ft={class:"text-xl font-bold text-gray-900"},ht={class:"bg-white rounded-xl shadow-sm p-6 border border-gray-100"},_t={class:"flex items-center"},bt={class:"ml-4"},vt={class:"text-xl font-bold text-gray-900"},wt={class:"bg-white rounded-xl shadow-sm p-6 border border-gray-100"},yt={class:"flex items-center"},pt={class:"ml-4"},kt={class:"text-xl font-bold text-gray-900"},At={class:"bg-white rounded-xl shadow-sm p-6 mb-8 border border-gray-100"},zt={class:"grid grid-cols-1 md:grid-cols-3 gap-6"},Ct={class:"text-center md:text-left"},Lt={class:"text-sm font-medium text-gray-900"},qt={class:"text-center md:text-left"},Mt={class:"text-sm font-medium text-gray-900"},jt={class:"text-center md:text-left"},Bt={class:"text-sm font-medium text-gray-900"},St={class:"flex flex-col sm:flex-row justify-center gap-4 mb-8"},Pt={class:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden"},Qt={class:"bg-linear-to-r from-gray-50 to-gray-100 px-6 py-4 border-b border-gray-200"},Vt={class:"flex items-center justify-between"},Rt={class:"flex items-center space-x-2"},Dt={key:0,class:"mt-2 text-sm text-gray-600"},Ht={class:"flex items-center"},It={key:1,class:"mt-2 text-sm text-gray-500"},Tt={class:"p-6"},Nt={key:0,class:"space-y-6"},Et={class:"bg-gray-50 px-4 py-3 border-b border-gray-200"},Ft={class:"flex items-center justify-between"},Gt={class:"flex items-center"},Wt={class:"w-8 h-8 bg-indigo-600 text-white rounded-full flex items-center justify-center text-sm font-bold mr-3"},Yt={class:"font-medium text-gray-900"},Ot={class:"flex items-center space-x-2"},Ut={class:"px-2 py-1 bg-blue-100 text-blue-800 rounded-full text-xs font-medium"},Jt={class:"p-4 space-y-4"},Kt={class:"bg-gray-50 rounded-lg p-3"},Xt={class:"text-gray-900 font-medium"},Zt={class:"bg-blue-50 border border-blue-200 rounded-lg p-3"},$t={class:"text-blue-900"},te={key:0},ee={class:"bg-green-50 border border-green-200 rounded-lg p-3"},se={class:"text-green-900"},oe={key:1},re={class:"bg-yellow-50 border border-yellow-200 rounded-lg p-3"},ne={class:"text-yellow-900"},le={class:"flex items-center justify-between pt-2 border-t border-gray-200"},ie={class:"flex items-center"},ae={key:0,"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule":"evenodd"},de={key:1,"fill-rule":"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z","clip-rule":"evenodd"},ce={key:2,"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z","clip-rule":"evenodd"},me={key:0,class:"text-sm text-gray-600"},ue={key:1,class:"text-center py-12"};function xe(d,e,l,o,C,h){const _=B("Link"),b=B("AppLayout");return i(),Q(b,{breadcrumbs:o.breadcrumbs},{default:S(()=>{var v,w,y,p,k,A;return[t("div",F,[t("div",G,[t("div",W,[e[3]||(e[3]=t("h1",{class:"text-4xl font-bold text-gray-900 mb-2"},"Quiz Results",-1)),t("p",Y,[e[2]||(e[2]=c(" Performance review for ")),t("span",O,'"'+r(((v=l.attempt.quiz)==null?void 0:v.title)||"Quiz")+'"',1)])]),t("div",U,[t("div",J,[t("div",K,[(i(),a("svg",X,[e[4]||(e[4]=t("circle",{cx:"64",cy:"64",r:"56",stroke:"currentColor","stroke-width":"8",fill:"none",class:"text-gray-200"},null,-1)),t("circle",{cx:"64",cy:"64",r:"56",stroke:"currentColor","stroke-width":"8",fill:"none","stroke-dasharray":o.circumference,"stroke-dashoffset":o.circumference-o.scorePercentage/100*o.circumference,class:m([o.scorePercentage>=(((w=l.attempt.quiz)==null?void 0:w.pass_threshold)||70)?"text-green-500":"text-red-500","transition-all duration-1000 ease-out"])},null,10,Z)])),t("div",$,[t("span",tt,r(Math.round(o.scorePercentage))+"%",1),e[5]||(e[5]=t("span",{class:"text-sm text-gray-500"},"Score",-1))])]),t("div",et,[t("div",{class:m(["inline-flex items-center px-6 py-3 rounded-full text-lg font-semibold",l.attempt.passed?"bg-green-100 text-green-800 border-2 border-green-300":"bg-red-100 text-red-800 border-2 border-red-300"])},[l.attempt.passed?(i(),a("svg",st,e[6]||(e[6]=[t("path",{"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule":"evenodd"},null,-1)]))):(i(),a("svg",ot,e[7]||(e[7]=[t("path",{"fill-rule":"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z","clip-rule":"evenodd"},null,-1)]))),c(" "+r(l.attempt.passed?"PASSED":"FAILED"),1)],2)]),t("p",rt,[e[8]||(e[8]=c(" You scored ")),t("span",nt,r(l.attempt.total_score||0),1),e[9]||(e[9]=c(" out of ")),t("span",lt,r(((y=l.attempt.quiz)==null?void 0:y.total_points)||0),1),e[10]||(e[10]=c(" points "))])])]),t("div",it,[t("div",at,[t("div",dt,[e[12]||(e[12]=t("div",{class:"p-3 rounded-full bg-blue-100 text-blue-600"},[t("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})])],-1)),t("div",ct,[e[11]||(e[11]=t("p",{class:"text-sm font-medium text-gray-600"},"Final Score",-1)),t("p",mt,r(l.attempt.total_score||0)+"/"+r(((p=l.attempt.quiz)==null?void 0:p.total_points)||0),1)])])]),t("div",ut,[t("div",xt,[t("div",{class:m(["p-3 rounded-full",o.scorePercentage>=(((k=l.attempt.quiz)==null?void 0:k.pass_threshold)||70)?"bg-green-100 text-green-600":"bg-red-100 text-red-600"])},e[13]||(e[13]=[t("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})],-1)]),2),t("div",gt,[e[14]||(e[14]=t("p",{class:"text-sm font-medium text-gray-600"},"Percentage",-1)),t("p",ft,r(Math.round(o.scorePercentage))+"%",1)])])]),t("div",ht,[t("div",_t,[e[16]||(e[16]=t("div",{class:"p-3 rounded-full bg-purple-100 text-purple-600"},[t("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1)),t("div",bt,[e[15]||(e[15]=t("p",{class:"text-sm font-medium text-gray-600"},"Attempt",-1)),t("p",vt,r(l.attempt.attempt_number||l.userAttempts.length)+"/3",1)])])]),t("div",wt,[t("div",yt,[e[18]||(e[18]=t("div",{class:"p-3 rounded-full bg-yellow-100 text-yellow-600"},[t("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.001 8.001 0 01-15.356-2m15.356 2H15"})])],-1)),t("div",pt,[e[17]||(e[17]=t("p",{class:"text-sm font-medium text-gray-600"},"Attempts Left",-1)),t("p",kt,r(o.attemptsLeft),1)])])])]),t("div",At,[e[22]||(e[22]=t("h3",{class:"text-lg font-semibold text-gray-900 mb-4"},"Attempt Details",-1)),t("div",zt,[t("div",Ct,[e[19]||(e[19]=t("p",{class:"text-sm text-gray-600 mb-1"},"Completed At",-1)),t("p",Lt,r(o.formatDate(l.attempt.completed_at)||"Not completed"),1)]),t("div",qt,[e[20]||(e[20]=t("p",{class:"text-sm text-gray-600 mb-1"},"Pass Threshold",-1)),t("p",Mt,r(((A=l.attempt.quiz)==null?void 0:A.pass_threshold)||70)+"%",1)]),t("div",jt,[e[21]||(e[21]=t("p",{class:"text-sm text-gray-600 mb-1"},"Time Taken",-1)),t("p",Bt,r(l.attempt.time_taken||"N/A"),1)])])]),t("div",St,[o.canRetry?(i(),a("button",{key:0,onClick:e[0]||(e[0]=(...n)=>o.retryQuiz&&o.retryQuiz(...n)),class:"inline-flex items-center justify-center px-6 py-3 bg-linear-to-r from-indigo-600 to-purple-600 text-white rounded-lg hover:from-indigo-700 hover:to-purple-700 focus:outline-hidden focus:ring-2 focus:ring-indigo-500 text-sm font-medium transition-all duration-200 shadow-lg hover:shadow-xl"},e[23]||(e[23]=[t("svg",{class:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.001 8.001 0 01-15.356-2m15.356 2H15"})],-1),c(" Retry Quiz ")]))):x("",!0),V(_,{href:d.route("quizzes.index"),class:"inline-flex items-center justify-center px-6 py-3 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 focus:outline-hidden focus:ring-2 focus:ring-gray-300 text-sm font-medium transition-all duration-200"},{default:S(()=>e[24]||(e[24]=[t("svg",{class:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})],-1),c(" Back to Quizzes ")])),_:1},8,["href"])]),t("div",Pt,[t("div",Qt,[t("div",Vt,[e[25]||(e[25]=t("h2",{class:"text-xl font-semibold text-gray-900"},"Question Review",-1)),t("div",Rt,[o.showCorrectAnswersAllowed?(i(),a("button",{key:0,onClick:e[1]||(e[1]=(...n)=>o.toggleCorrectAnswers&&o.toggleCorrectAnswers(...n)),class:"text-sm px-3 py-1 bg-blue-100 text-blue-800 rounded-full hover:bg-blue-200 transition-colors"},r(o.showAnswers?"Hide":"Show")+" Correct Answers ",1)):x("",!0),t("div",{class:m(["px-3 py-1 rounded-full text-xs font-medium",o.showCorrectAnswersAllowed?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"])},r(o.showCorrectAnswersAllowed?"Answers Available":"Answers Locked"),3)])]),o.showCorrectAnswersAllowed?(i(),a("div",Dt,[t("p",Ht,[e[26]||(e[26]=t("svg",{class:"w-4 h-4 mr-1 text-green-500",fill:"currentColor",viewBox:"0 0 20 20"},[t("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule":"evenodd"})],-1)),c(" Correct answers unlocked - "+r(l.attempt.passed?"Quiz passed!":"Maximum attempts reached"),1)])])):(i(),a("div",It,e[27]||(e[27]=[t("p",{class:"flex items-center"},[t("svg",{class:"w-4 h-4 mr-1 text-yellow-500",fill:"currentColor",viewBox:"0 0 20 20"},[t("path",{"fill-rule":"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z","clip-rule":"evenodd"})]),c(" Correct answers will be shown after passing or reaching maximum attempts ")],-1)])))]),t("div",Tt,[l.attempt.responses&&l.attempt.responses.length?(i(),a("div",Nt,[(i(!0),a(R,null,D(l.attempt.responses,(n,f)=>{var z,s,u,L,q,M,j;return i(),a("div",{key:n.id||f,class:"border border-gray-200 rounded-lg overflow-hidden"},[t("div",Et,[t("div",Ft,[t("div",Gt,[t("div",Wt,r(f+1),1),t("span",Yt," Question "+r(f+1),1)]),t("div",Ot,[t("div",Ut,r(((z=n.question)==null?void 0:z.points)||0)+" pts ",1),t("div",{class:m(["w-3 h-3 rounded-full",o.getStatusColor(n)])},null,2)])])]),t("div",Jt,[t("div",Kt,[t("p",Xt,r(((s=n.question)==null?void 0:s.question_text)||"Question not available"),1)]),t("div",null,[e[28]||(e[28]=t("p",{class:"text-sm font-medium text-gray-700 mb-2"},"Your Answer:",-1)),t("div",Zt,[t("p",$t,r(o.formatAnswer(n.answer)||"Manually Graded"),1)])]),o.showCorrectAnswersAllowed&&o.showAnswers&&((u=n.question)!=null&&u.correct_answer)?(i(),a("div",te,[e[29]||(e[29]=t("p",{class:"text-sm font-medium text-gray-700 mb-2"},"Correct Answer(s):",-1)),t("div",ee,[t("p",se,r(o.formatCorrectAnswer((L=n.question)==null?void 0:L.correct_answer)),1)])])):x("",!0),o.showCorrectAnswersAllowed&&o.showAnswers&&((q=n.question)!=null&&q.correct_answer_explanation)?(i(),a("div",oe,[e[30]||(e[30]=t("p",{class:"text-sm font-medium text-gray-700 mb-2"},"Explanation:",-1)),t("div",re,[t("p",ne,r((M=n.question)==null?void 0:M.correct_answer_explanation),1)])])):x("",!0),t("div",le,[t("div",ie,[t("span",{class:m(["inline-flex items-center px-3 py-1 rounded-full text-xs font-medium",o.getStatusBadge(n)])},[(i(),a("svg",{class:m(["w-3 h-3 mr-1",o.getStatusIcon(n)]),fill:"currentColor",viewBox:"0 0 20 20"},[n.is_correct?(i(),a("path",ae)):n.is_correct===!1?(i(),a("path",de)):(i(),a("path",ce))],2)),c(" "+r(o.getStatusText(n)),1)],2)]),n.points_earned!==void 0?(i(),a("div",me," Points: "+r(n.points_earned)+"/"+r(((j=n.question)==null?void 0:j.points)||0),1)):x("",!0)])])])}),128))])):(i(),a("div",ue,e[31]||(e[31]=[t("div",{class:"mx-auto w-24 h-24 bg-gray-100 rounded-full flex items-center justify-center mb-4"},[t("svg",{class:"w-12 h-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})])],-1),t("h3",{class:"text-lg font-medium text-gray-900 mb-2"},"No responses found",-1),t("p",{class:"text-gray-500"},"This attempt has no recorded responses.",-1)])))])])])])]}),_:1},8,["breadcrumbs"])}const ve=N(E,[["render",xe],["__scopeId","data-v-72443f5b"]]);export{ve as default};
