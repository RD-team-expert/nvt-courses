import{d as M,k as _,o as i,w as j,e,a as r,f as l,t as n,u as B,P as E,j as N,F as R,h as T,n as d}from"./app-iYB6CK9s.js";import{_ as z}from"./AdminLayout.vue_vue_type_script_setup_true_lang-BmAEUQ0k.js";import"./AppLayout.vue_vue_type_script_setup_true_lang-BOHGZ_58.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-B3PnW6xU.js";import"./index-BHiy4VMt.js";const A={class:"px-4 sm:px-0"},O={class:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-6 gap-4"},P={class:"text-sm text-gray-600 mt-1"},V={class:"flex flex-col sm:flex-row gap-2 w-full sm:w-auto"},D={class:"bg-white rounded-lg shadow p-6 mb-6"},S={class:"flex items-center justify-between"},F={class:"text-sm text-gray-600"},H={class:"text-right"},I={class:"text-2xl font-bold text-blue-600"},X={class:"bg-white rounded-lg shadow p-6"},Y={class:"space-y-6"},$={class:"flex items-center"},q={class:"flex items-center space-x-4 bg-blue-50 rounded-lg p-4 flex-1"},G={class:"shrink-0"},J={class:"w-12 h-12 bg-blue-200 rounded-full flex items-center justify-center"},K={class:"text-lg font-medium text-blue-600"},Q={class:"flex-1"},W={class:"text-sm font-medium text-gray-900"},Z={class:"text-sm text-gray-500"},ee={class:"flex items-center space-x-2 mt-1"},te={key:0,class:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-blue-100 text-blue-800"},se={key:1,class:"text-xs text-gray-400"},ne={key:0,class:"flex justify-center"},ie={class:"flex items-center"},oe={class:"shrink-0"},re={class:"flex-1"},le={class:"text-sm font-medium text-gray-900"},ae={class:"text-sm text-gray-500"},de={class:"flex items-center space-x-2 mt-1"},xe={key:1,class:"text-xs text-gray-400"},ce={class:"flex items-center space-x-2"},me={class:"text-right"},ge={class:"text-sm font-medium text-gray-900"},he={key:0,class:"text-xs text-red-600 font-medium ml-4"},ue={key:0,class:"flex justify-center"},ve={key:1,class:"text-center py-8"},fe={key:0,class:"mt-6 bg-white rounded-lg shadow p-6"},ye={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},be={class:"text-center"},pe={class:"text-2xl font-bold text-blue-600"},ke={class:"text-center"},we={class:"text-2xl font-bold text-green-600"},Ce={class:"text-center"},_e={class:"text-2xl font-bold text-purple-600"},Ee=M({__name:"ReportingChain",props:{user:Object,reportingChain:Array,chainLength:Number},setup(t){var m,g;const c=t,L=x=>({1:"bg-blue-100 text-blue-800",2:"bg-green-100 text-green-800",3:"bg-orange-100 text-orange-800",4:"bg-red-100 text-red-800"})[x]||"bg-gray-100 text-gray-800",U=[{name:"Dashboard",href:route("dashboard")},{name:"Users",href:route("admin.users.index")},{name:((m=c.user)==null?void 0:m.name)||"User",href:"#"},{name:"Reporting Chain",href:route("admin.users.reporting-chain",(g=c.user)==null?void 0:g.id)}];return(x,s)=>(i(),_(z,{breadcrumbs:U},{default:j(()=>{var h,u,v,f,y,b,p,k,w,C;return[e("div",A,[e("div",O,[e("div",null,[s[0]||(s[0]=e("h1",{class:"text-xl sm:text-2xl font-bold"},"Reporting Chain",-1)),e("p",P," Management hierarchy for "+n(((h=t.user)==null?void 0:h.name)||"Unknown User"),1)]),e("div",V,[(u=t.user)!=null&&u.id?(i(),_(B(E),{key:0,href:x.route("admin.users.organizational",(v=t.user)==null?void 0:v.id),class:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600 transition w-full sm:w-auto text-center"},{default:j(()=>s[1]||(s[1]=[N(" Back to Profile ")])),_:1},8,["href"])):l("",!0)])]),e("div",D,[e("div",S,[e("div",null,[s[2]||(s[2]=e("h2",{class:"text-lg font-medium text-gray-900"},"Chain Overview",-1)),e("p",F,n(t.chainLength)+" management levels above this user",1)]),e("div",H,[e("div",I,n(t.chainLength),1),s[3]||(s[3]=e("div",{class:"text-sm text-gray-500"},"Management Levels",-1))])])]),e("div",X,[s[9]||(s[9]=e("h2",{class:"text-lg font-medium text-gray-900 mb-6"},"Management Hierarchy",-1)),e("div",Y,[e("div",$,[e("div",q,[e("div",G,[e("div",J,[e("span",K,n(((y=(f=t.user)==null?void 0:f.name)==null?void 0:y.charAt(0).toUpperCase())||"?"),1)])]),e("div",Q,[e("div",W,n(((b=t.user)==null?void 0:b.name)||"Unknown User"),1),e("div",Z,n(((p=t.user)==null?void 0:p.email)||"No email"),1),e("div",ee,[(k=t.user)!=null&&k.level?(i(),r("span",te,n(t.user.level),1)):l("",!0),(w=t.user)!=null&&w.department?(i(),r("span",se,n(t.user.department),1)):l("",!0)])]),s[4]||(s[4]=e("div",{class:"text-xs text-blue-600 font-medium"},"YOU ARE HERE",-1))])]),t.reportingChain&&t.reportingChain.length>0?(i(),r("div",ne,s[5]||(s[5]=[e("div",{class:"flex flex-col items-center"},[e("svg",{class:"w-6 h-6 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 11l5-5m0 0l5 5m-5-5v12"})]),e("span",{class:"text-xs text-gray-500 mt-1"},"Reports To")],-1)]))):l("",!0),(i(!0),r(R,null,T(t.reportingChain,(o,a)=>(i(),r("div",{key:o.id,class:"space-y-4"},[e("div",ie,[e("div",{class:d(["flex items-center space-x-4 bg-gray-50 rounded-lg p-4 flex-1",{"bg-red-50":a===t.reportingChain.length-1}])},[e("div",oe,[e("div",{class:d(["w-12 h-12 rounded-full flex items-center justify-center",a===t.reportingChain.length-1?"bg-red-200":"bg-gray-200"])},[e("span",{class:d(["text-lg font-medium",a===t.reportingChain.length-1?"text-red-600":"text-gray-600"])},n(o.name.charAt(0).toUpperCase()),3)],2)]),e("div",re,[e("div",le,n(o.name),1),e("div",ae,n(o.email),1),e("div",de,[o.level?(i(),r("span",{key:0,class:d(["inline-flex items-center px-2 py-0.5 rounded text-xs font-medium",L(o.level_hierarchy)])},n(o.level),3)):l("",!0),o.department?(i(),r("span",xe,n(o.department),1)):l("",!0)])]),e("div",ce,[e("div",me,[s[6]||(s[6]=e("div",{class:"text-xs text-gray-500"},"Management Level",-1)),e("div",ge,n(o.position_level),1)]),a===t.reportingChain.length-1?(i(),r("div",he," TOP EXECUTIVE ")):l("",!0)])],2)]),a<t.reportingChain.length-1?(i(),r("div",ue,s[7]||(s[7]=[e("div",{class:"flex flex-col items-center"},[e("svg",{class:"w-6 h-6 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 11l5-5m0 0l5 5m-5-5v12"})]),e("span",{class:"text-xs text-gray-500 mt-1"},"Reports To")],-1)]))):l("",!0)]))),128)),!t.reportingChain||t.reportingChain.length===0?(i(),r("div",ve,s[8]||(s[8]=[e("svg",{class:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})],-1),e("h3",{class:"mt-2 text-sm font-medium text-gray-900"},"No reporting chain found",-1),e("p",{class:"mt-1 text-sm text-gray-500"},"This user doesn't have any managers assigned in the system.",-1)]))):l("",!0)])]),t.reportingChain&&t.reportingChain.length>0?(i(),r("div",fe,[s[13]||(s[13]=e("h3",{class:"text-lg font-medium text-gray-900 mb-4"},"Chain Summary",-1)),e("div",ye,[e("div",be,[e("div",pe,n(t.chainLength),1),s[10]||(s[10]=e("div",{class:"text-sm text-gray-500"},"Management Levels",-1))]),e("div",ke,[e("div",we,n(((C=t.reportingChain[t.reportingChain.length-1])==null?void 0:C.level_hierarchy)||"N/A"),1),s[11]||(s[11]=e("div",{class:"text-sm text-gray-500"},"Top Executive Level",-1))]),e("div",Ce,[e("div",_e,n(new Set(t.reportingChain.map(o=>o.department)).size),1),s[12]||(s[12]=e("div",{class:"text-sm text-gray-500"},"Departments Involved",-1))])])])):l("",!0)])]}),_:1}))}});export{Ee as default};
