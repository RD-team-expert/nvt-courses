import{d as ue,r as M,c as j,a as p,o as u,b as t,u as e,m as fe,w as l,e as n,h as A,f as o,n as z,P as m,t as d,g as b,F as S,i as L,W as G}from"./app-CV2cPHwK.js";import{U as me,c as H,d as W,e as Q,g as _e,h as ve,i as ce,k as U,m as B,f as pe}from"./AppLayout.vue_vue_type_script_setup_true_lang-BSvNWHlH.js";import{_ as f}from"./Button.vue_vue_type_script_setup_true_lang-C5sOPNae.js";import{_ as g}from"./Card.vue_vue_type_script_setup_true_lang--D3KWfGq.js";import{_ as y}from"./CardContent.vue_vue_type_script_setup_true_lang-RDGa4TMZ.js";import{_ as ge}from"./CardDescription.vue_vue_type_script_setup_true_lang-1DS5NEM9.js";import{_ as C}from"./CardHeader.vue_vue_type_script_setup_true_lang-mDEJg-F9.js";import{_ as $}from"./CardTitle.vue_vue_type_script_setup_true_lang-BSzOzICM.js";import{_ as D}from"./index-CjSyc0sf.js";import{_ as xe}from"./Input.vue_vue_type_script_setup_true_lang-DwXOvzA9.js";import{_ as J,a as K,b as X,c as Y,d as x}from"./SelectValue.vue_vue_type_script_setup_true_lang-DxGbDS4g.js";import{_ as he,a as we,b as Z,c as h,d as be,e as w}from"./TableHeader.vue_vue_type_script_setup_true_lang-BFB0bwl-.js";import{_ as F}from"./Progress.vue_vue_type_script_setup_true_lang-COqmNCR1.js";import{_ as ye,a as Ce,b as ee,c as te}from"./TabsTrigger.vue_vue_type_script_setup_true_lang-KtLGR-py.js";import{R as $e}from"./refresh-cw-CI-LTZE1.js";import{P as le}from"./plus-Dt9LuUnN.js";import{B as T}from"./book-open-BqIuda0t.js";import{C as ke}from"./circle-check-big-ClKQO3IC.js";import{U as Ve}from"./_plugin-vue_export-helper-BqS9F3Z2.js";import{T as Me}from"./trending-up-DyRrxsBT.js";import{F as je}from"./filter-DQB8Wta1.js";import{S as Ae}from"./search-DW-pPOEN.js";import{E as Se}from"./ellipsis-rlAE39mw.js";import{E as I}from"./eye-CfdVgX_S.js";import{S as se}from"./square-pen-bb2BkDNw.js";import{C as De}from"./clock-BeTrlB51.js";import"./index-3f0HzYe1.js";import"./index-DhfkKPqp.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-CWDFjwen.js";import"./useForwardPropsEmits-BDdvJDZW.js";import"./Presence-CDD0pFUW.js";import"./ConfigProvider-B93GNSGp.js";import"./useForwardExpose-CFKb2kDd.js";import"./Teleport-C72WAmXs.js";import"./handleAndDispatchCustomEvent-ChOKVcqp.js";import"./chevron-up-CU0akrCZ.js";import"./Collection-CUuFiyGC.js";import"./usePrimitiveElement-Cy5XmkBm.js";import"./check-i9adLcBw.js";import"./useSize-C1FRSfdB.js";import"./ohash.D__AXeF1-DHF4M4F_.js";import"./nullish-CHIgUVhi.js";import"./VisuallyHidden-bKed1-cs.js";import"./RovingFocusItem-DYCGcVd1.js";const Te={class:"flex h-full flex-1 flex-col gap-4 overflow-x-auto rounded-xl p-4"},Ee={class:"flex items-center justify-between"},ze={class:"flex items-center gap-2"},Le={class:"grid gap-4 md:grid-cols-4"},Ue={class:"text-2xl font-bold"},Be={class:"text-xs text-muted-foreground"},Fe={class:"text-2xl font-bold"},Ie={class:"text-xs text-muted-foreground"},Ne={class:"text-2xl font-bold"},Pe={class:"text-xs text-muted-foreground"},Re={class:"text-2xl font-bold"},Oe={class:"flex items-center gap-4"},qe={class:"flex-1 relative"},Ge={class:"w-40"},He={class:"w-40"},We={class:"flex items-center justify-between"},Qe={key:0,class:"flex flex-col items-center justify-center p-12 border-2 border-dashed border-input rounded-lg"},Je={class:"text-muted-foreground mb-4"},Ke={key:1,class:"grid gap-6 md:grid-cols-2 lg:grid-cols-3"},Xe={class:"flex items-start justify-between"},Ye={class:"flex items-center gap-3"},Ze={class:"flex-1"},et={class:"flex items-center gap-2"},tt={class:"grid grid-cols-3 gap-4 text-center"},lt={class:"text-lg font-bold"},st={class:"text-lg font-bold"},at={class:"text-lg font-bold"},nt={class:"space-y-2"},it={class:"flex justify-between text-sm"},ot={class:"flex items-center justify-between text-sm text-muted-foreground"},dt={class:"flex items-center gap-1"},rt={class:"flex gap-2 pt-2"},ut={class:"flex items-center gap-3"},ft={class:"font-medium"},mt={class:"text-sm text-muted-foreground"},_t={class:"flex items-center gap-2"},vt={class:"text-sm"},ct={class:"flex items-center gap-2"},pt={key:0,class:"flex items-center justify-center space-x-2"},ol=ue({__name:"Index",props:{courses:{}},setup(ae){const k=ae,ne=[{title:"Online Courses",href:"#"}],_=M(""),v=M("all"),c=M("all"),V=M(!1),N=j(()=>k.courses.data.filter(i=>i.is_active).length),P=j(()=>k.courses.data.reduce((i,s)=>i+(s.assignments_count||0),0)),R=j(()=>{const i=k.courses.data.map(a=>a.completion_rate||0),s=i.reduce((a,r)=>a+r,0);return i.length?Math.round(s/i.length):0}),E=j(()=>{let i=k.courses.data;if(_.value){const s=_.value.toLowerCase();i=i.filter(a=>{var r;return a.name.toLowerCase().includes(s)||((r=a.description)==null?void 0:r.toLowerCase().includes(s))})}if(v.value!=="all"){const s=v.value==="active";i=i.filter(a=>a.is_active===s)}return c.value!=="all"&&(i=i.filter(s=>s.difficulty_level===c.value)),i}),O=(i,s)=>i?i.length>s?i.substring(0,s)+"...":i:"",q=i=>{switch(i){case"beginner":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300";case"intermediate":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-300";case"advanced":return"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-300"}},ie=i=>new Date(i).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),oe=i=>{if(i<60)return`${i}m`;const s=Math.floor(i/60),a=i%60;return a>0?`${s}h ${a}m`:`${s}h`},de=async()=>{V.value=!0;try{G.reload()}finally{setTimeout(()=>{V.value=!1},1e3)}},re=()=>{_.value="",v.value="all",c.value="all"};return(i,s)=>(u(),p(S,null,[t(e(fe),{title:"Online Courses Management"}),t(pe,{breadcrumbs:ne},{default:l(()=>[n("div",Te,[n("div",Ee,[s[6]||(s[6]=n("div",null,[n("h1",{class:"text-3xl font-bold tracking-tight"},"Online Courses"),n("p",{class:"text-muted-foreground"},"Manage your online courses and track student progress")],-1)),n("div",ze,[t(e(f),{variant:"outline",size:"sm",onClick:de,disabled:V.value},{default:l(()=>[t(e($e),{class:z(["mr-2 h-4 w-4",{"animate-spin":V.value}])},null,8,["class"]),s[3]||(s[3]=o(" Refresh "))]),_:1},8,["disabled"]),t(e(f),{asChild:"",variant:"outline"},{default:l(()=>[t(e(m),{href:"/admin/course-assignments"},{default:l(()=>[t(e(me),{class:"mr-2 h-4 w-4"}),s[4]||(s[4]=o(" Course Assignments "))]),_:1})]),_:1}),t(e(f),{asChild:""},{default:l(()=>[t(e(m),{href:i.route("admin.course-online.create")},{default:l(()=>[t(e(le),{class:"mr-2 h-4 w-4"}),s[5]||(s[5]=o(" Create Course "))]),_:1},8,["href"])]),_:1})])]),n("div",Le,[t(e(g),null,{default:l(()=>[t(e(C),{class:"flex flex-row items-center justify-between space-y-0 pb-2"},{default:l(()=>[t(e($),{class:"text-sm font-medium"},{default:l(()=>s[7]||(s[7]=[o("Total Courses")])),_:1}),t(e(T),{class:"h-4 w-4 text-muted-foreground"})]),_:1}),t(e(y),null,{default:l(()=>{var a;return[n("div",Ue,d(((a=i.courses.meta)==null?void 0:a.total)||i.courses.data.length),1),n("p",Be," +"+d(i.courses.data.filter(r=>new Date(r.created_at)>new Date(Date.now()-30*24*60*60*1e3)).length)+" this month ",1)]}),_:1})]),_:1}),t(e(g),null,{default:l(()=>[t(e(C),{class:"flex flex-row items-center justify-between space-y-0 pb-2"},{default:l(()=>[t(e($),{class:"text-sm font-medium"},{default:l(()=>s[8]||(s[8]=[o("Active Courses")])),_:1}),t(e(ke),{class:"h-4 w-4 text-muted-foreground"})]),_:1}),t(e(y),null,{default:l(()=>[n("div",Fe,d(N.value),1),n("p",Ie,d(Math.round(N.value/i.courses.data.length*100)||0)+"% of total ",1)]),_:1})]),_:1}),t(e(g),null,{default:l(()=>[t(e(C),{class:"flex flex-row items-center justify-between space-y-0 pb-2"},{default:l(()=>[t(e($),{class:"text-sm font-medium"},{default:l(()=>s[9]||(s[9]=[o("Total Enrollments")])),_:1}),t(e(Ve),{class:"h-4 w-4 text-muted-foreground"})]),_:1}),t(e(y),null,{default:l(()=>[n("div",Ne,d(P.value),1),n("p",Pe," Avg "+d(Math.round(P.value/(i.courses.data.length||1)))+" per course ",1)]),_:1})]),_:1}),t(e(g),null,{default:l(()=>[t(e(C),{class:"flex flex-row items-center justify-between space-y-0 pb-2"},{default:l(()=>[t(e($),{class:"text-sm font-medium"},{default:l(()=>s[10]||(s[10]=[o("Avg. Completion")])),_:1}),t(e(Me),{class:"h-4 w-4 text-muted-foreground"})]),_:1}),t(e(y),null,{default:l(()=>[n("div",Re,d(R.value)+"%",1),t(e(F),{value:R.value,class:"mt-2"},null,8,["value"])]),_:1})]),_:1})]),t(e(g),null,{default:l(()=>[t(e(C),null,{default:l(()=>[t(e($),{class:"flex items-center gap-2"},{default:l(()=>[t(e(je),{class:"h-5 w-5"}),s[11]||(s[11]=o(" Filters "))]),_:1})]),_:1}),t(e(y),null,{default:l(()=>[n("div",Oe,[n("div",qe,[t(e(Ae),{class:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),t(e(xe),{modelValue:_.value,"onUpdate:modelValue":s[0]||(s[0]=a=>_.value=a),placeholder:"Search courses...",class:"pl-10"},null,8,["modelValue"])]),n("div",Ge,[t(e(J),{modelValue:v.value,"onUpdate:modelValue":s[1]||(s[1]=a=>v.value=a)},{default:l(()=>[t(e(K),null,{default:l(()=>[t(e(X),{placeholder:"Status"})]),_:1}),t(e(Y),null,{default:l(()=>[t(e(x),{value:"all"},{default:l(()=>s[12]||(s[12]=[o("All Status")])),_:1}),t(e(x),{value:"active"},{default:l(()=>s[13]||(s[13]=[o("Active")])),_:1}),t(e(x),{value:"inactive"},{default:l(()=>s[14]||(s[14]=[o("Inactive")])),_:1})]),_:1})]),_:1},8,["modelValue"])]),n("div",He,[t(e(J),{modelValue:c.value,"onUpdate:modelValue":s[2]||(s[2]=a=>c.value=a)},{default:l(()=>[t(e(K),null,{default:l(()=>[t(e(X),{placeholder:"Level"})]),_:1}),t(e(Y),null,{default:l(()=>[t(e(x),{value:"all"},{default:l(()=>s[15]||(s[15]=[o("All Levels")])),_:1}),t(e(x),{value:"beginner"},{default:l(()=>s[16]||(s[16]=[o("Beginner")])),_:1}),t(e(x),{value:"intermediate"},{default:l(()=>s[17]||(s[17]=[o("Intermediate")])),_:1}),t(e(x),{value:"advanced"},{default:l(()=>s[18]||(s[18]=[o("Advanced")])),_:1})]),_:1})]),_:1},8,["modelValue"])]),t(e(f),{variant:"outline",onClick:re},{default:l(()=>s[19]||(s[19]=[o(" Clear ")])),_:1})])]),_:1})]),_:1}),t(e(ye),{"default-value":"grid",class:"space-y-4"},{default:l(()=>[n("div",We,[t(e(Ce),null,{default:l(()=>[t(e(ee),{value:"grid"},{default:l(()=>s[20]||(s[20]=[o("Grid View")])),_:1}),t(e(ee),{value:"table"},{default:l(()=>s[21]||(s[21]=[o("Table View")])),_:1})]),_:1})]),t(e(te),{value:"grid",class:"space-y-4"},{default:l(()=>[E.value.length===0?(u(),p("div",Qe,[t(e(T),{class:"h-16 w-16 text-muted-foreground mb-4"}),s[23]||(s[23]=n("h3",{class:"text-lg font-medium mb-2"},"No courses found",-1)),n("p",Je,d(_.value||v.value!=="all"||c.value!=="all"?"Try adjusting your filters":"Get started by creating your first online course"),1),!_.value&&v.value==="all"&&c.value==="all"?(u(),b(e(f),{key:0,asChild:""},{default:l(()=>[t(e(m),{href:i.route("admin.course-online.create")},{default:l(()=>[t(e(le),{class:"mr-2 h-4 w-4"}),s[22]||(s[22]=o(" Create Course "))]),_:1},8,["href"])]),_:1})):A("",!0)])):(u(),p("div",Ke,[(u(!0),p(S,null,L(E.value,a=>(u(),b(e(g),{key:a.id,class:"group hover:shadow-lg transition-shadow duration-200"},{default:l(()=>[t(e(C),{class:"pb-4"},{default:l(()=>[n("div",Xe,[n("div",Ye,[t(e(H),{class:"h-12 w-12"},{default:l(()=>{var r;return[a.image_path?(u(),b(e(W),{key:0,src:((r=a.thumbnails)==null?void 0:r.small)||a.image_path,alt:a.name},null,8,["src","alt"])):A("",!0),t(e(Q),null,{default:l(()=>[t(e(T),{class:"h-6 w-6"})]),_:1})]}),_:2},1024),n("div",Ze,[t(e($),{class:"text-lg line-clamp-1"},{default:l(()=>[o(d(a.name),1)]),_:2},1024),t(e(ge),{class:"line-clamp-2"},{default:l(()=>[o(d(O(a.description,80)),1)]),_:2},1024)])]),t(e(_e),null,{default:l(()=>[t(e(ve),{asChild:""},{default:l(()=>[t(e(f),{variant:"ghost",size:"sm"},{default:l(()=>[t(e(Se),{class:"h-4 w-4"})]),_:1})]),_:1}),t(e(ce),{align:"end"},{default:l(()=>[t(e(U),{asChild:""},{default:l(()=>[t(e(m),{href:i.route("admin.course-online.show",a.id)},{default:l(()=>[t(e(I),{class:"mr-2 h-4 w-4"}),s[24]||(s[24]=o(" View Details "))]),_:2},1032,["href"])]),_:2},1024),t(e(U),{asChild:""},{default:l(()=>[t(e(m),{href:i.route("admin.course-modules.index",a.id)},{default:l(()=>[t(e(B),{class:"mr-2 h-4 w-4"}),s[25]||(s[25]=o(" Manage Modules "))]),_:2},1032,["href"])]),_:2},1024),t(e(U),{asChild:""},{default:l(()=>[t(e(m),{href:i.route("admin.course-online.edit",a.id)},{default:l(()=>[t(e(se),{class:"mr-2 h-4 w-4"}),s[26]||(s[26]=o(" Edit Course "))]),_:2},1032,["href"])]),_:2},1024)]),_:2},1024)]),_:2},1024)])]),_:2},1024),t(e(y),{class:"space-y-4"},{default:l(()=>[n("div",et,[t(e(D),{class:z(q(a.difficulty_level))},{default:l(()=>[o(d(a.difficulty_level),1)]),_:2},1032,["class"]),t(e(D),{variant:a.is_active?"default":"secondary"},{default:l(()=>[o(d(a.is_active?"Active":"Inactive"),1)]),_:2},1032,["variant"])]),n("div",tt,[n("div",null,[n("div",lt,d(a.modules_count),1),s[27]||(s[27]=n("div",{class:"text-xs text-muted-foreground"},"Modules",-1))]),n("div",null,[n("div",st,d(a.assignments_count),1),s[28]||(s[28]=n("div",{class:"text-xs text-muted-foreground"},"Enrolled",-1))]),n("div",null,[n("div",at,d(Math.round(a.completion_rate))+"%",1),s[29]||(s[29]=n("div",{class:"text-xs text-muted-foreground"},"Completion",-1))])]),n("div",nt,[n("div",it,[s[30]||(s[30]=n("span",null,"Completion Rate",-1)),n("span",null,d(Math.round(a.completion_rate))+"%",1)]),t(e(F),{value:a.completion_rate},null,8,["value"])]),n("div",ot,[n("div",dt,[t(e(De),{class:"h-3 w-3"}),o(" "+d(oe(a.estimated_duration)),1)]),n("div",null,"Created "+d(ie(a.created_at)),1)]),n("div",rt,[t(e(f),{asChild:"",size:"sm",class:"flex-1"},{default:l(()=>[t(e(m),{href:i.route("admin.course-online.show",a.id)},{default:l(()=>[t(e(I),{class:"mr-2 h-4 w-4"}),s[31]||(s[31]=o(" View "))]),_:2},1032,["href"])]),_:2},1024),t(e(f),{asChild:"",variant:"outline",size:"sm",class:"flex-1"},{default:l(()=>[t(e(m),{href:i.route("admin.course-modules.index",a.id)},{default:l(()=>[t(e(B),{class:"mr-2 h-4 w-4"}),s[32]||(s[32]=o(" Modules "))]),_:2},1032,["href"])]),_:2},1024)])]),_:2},1024)]),_:2},1024))),128))]))]),_:1}),t(e(te),{value:"table"},{default:l(()=>[t(e(g),null,{default:l(()=>[t(e(he),null,{default:l(()=>[t(e(we),null,{default:l(()=>[t(e(Z),null,{default:l(()=>[t(e(h),null,{default:l(()=>s[33]||(s[33]=[o("Course")])),_:1}),t(e(h),null,{default:l(()=>s[34]||(s[34]=[o("Level")])),_:1}),t(e(h),null,{default:l(()=>s[35]||(s[35]=[o("Modules")])),_:1}),t(e(h),null,{default:l(()=>s[36]||(s[36]=[o("Enrolled")])),_:1}),t(e(h),null,{default:l(()=>s[37]||(s[37]=[o("Completion")])),_:1}),t(e(h),null,{default:l(()=>s[38]||(s[38]=[o("Status")])),_:1}),t(e(h),null,{default:l(()=>s[39]||(s[39]=[o("Actions")])),_:1})]),_:1})]),_:1}),t(e(be),null,{default:l(()=>[(u(!0),p(S,null,L(E.value,a=>(u(),b(e(Z),{key:a.id},{default:l(()=>[t(e(w),null,{default:l(()=>[n("div",ut,[t(e(H),{class:"h-10 w-10"},{default:l(()=>{var r;return[a.image_path?(u(),b(e(W),{key:0,src:((r=a.thumbnails)==null?void 0:r.small)||a.image_path,alt:a.name},null,8,["src","alt"])):A("",!0),t(e(Q),null,{default:l(()=>[t(e(T),{class:"h-5 w-5"})]),_:1})]}),_:2},1024),n("div",null,[n("div",ft,d(a.name),1),n("div",mt,d(O(a.description,40)),1)])])]),_:2},1024),t(e(w),null,{default:l(()=>[t(e(D),{class:z(q(a.difficulty_level))},{default:l(()=>[o(d(a.difficulty_level),1)]),_:2},1032,["class"])]),_:2},1024),t(e(w),null,{default:l(()=>[o(d(a.modules_count),1)]),_:2},1024),t(e(w),null,{default:l(()=>[o(d(a.assignments_count),1)]),_:2},1024),t(e(w),null,{default:l(()=>[n("div",_t,[t(e(F),{value:a.completion_rate,class:"w-16"},null,8,["value"]),n("span",vt,d(Math.round(a.completion_rate))+"%",1)])]),_:2},1024),t(e(w),null,{default:l(()=>[t(e(D),{variant:a.is_active?"default":"secondary"},{default:l(()=>[o(d(a.is_active?"Active":"Inactive"),1)]),_:2},1032,["variant"])]),_:2},1024),t(e(w),null,{default:l(()=>[n("div",ct,[t(e(f),{asChild:"",size:"sm",variant:"outline"},{default:l(()=>[t(e(m),{href:i.route("admin.course-online.show",a.id)},{default:l(()=>[t(e(I),{class:"h-4 w-4"})]),_:2},1032,["href"])]),_:2},1024),t(e(f),{asChild:"",size:"sm",variant:"outline"},{default:l(()=>[t(e(m),{href:i.route("admin.course-modules.index",a.id)},{default:l(()=>[t(e(B),{class:"h-4 w-4"})]),_:2},1032,["href"])]),_:2},1024),t(e(f),{asChild:"",size:"sm",variant:"outline"},{default:l(()=>[t(e(m),{href:i.route("admin.course-online.edit",a.id)},{default:l(()=>[t(e(se),{class:"h-4 w-4"})]),_:2},1032,["href"])]),_:2},1024)])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),i.courses.meta&&i.courses.meta.last_page>1?(u(),p("div",pt,[(u(!0),p(S,null,L(i.courses.links,a=>(u(),b(e(f),{key:a.label,variant:a.active?"default":"outline",disabled:!a.url,size:"sm",onClick:r=>a.url&&e(G).get(a.url),innerHTML:a.label},null,8,["variant","disabled","onClick","innerHTML"]))),128))])):A("",!0)])]),_:1})],64))}});export{ol as default};
