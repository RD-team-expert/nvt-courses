import{P as N,bo as y,g as T,o as i,w as s,e as l,b as o,f as n,j as R,a as m,h as c,t as f,F as A,i as Q,s as M,J as O,C as F,r as W,c as J,W as E}from"./app-BMyidKIh.js";import{M as G}from"./Modal-D89sCvyf.js";import{_ as K}from"./AdminLayout.vue_vue_type_script_setup_true_lang-CwtOIFIS.js";import{_ as X}from"./Button.vue_vue_type_script_setup_true_lang-Fk6a1Vva.js";import{_ as Y}from"./Input.vue_vue_type_script_setup_true_lang-BnRJBFP3.js";import{_ as Z}from"./Label.vue_vue_type_script_setup_true_lang-Coq7pT1m.js";import{b as I,a as $,d as ee,c as te,_ as oe}from"./SelectValue.vue_vue_type_script_setup_true_lang-TbH3IXvu.js";import{_ as se}from"./Textarea.vue_vue_type_script_setup_true_lang-7L_wYbMO.js";import{_ as re}from"./Card.vue_vue_type_script_setup_true_lang-CQovGjFq.js";import{_ as le}from"./CardContent.vue_vue_type_script_setup_true_lang-Dyzxu5FP.js";import{_ as ie}from"./CardHeader.vue_vue_type_script_setup_true_lang-_dtBwzkO.js";import{_ as ne}from"./CardTitle.vue_vue_type_script_setup_true_lang-zaBMsOvU.js";import{_ as de}from"./_plugin-vue_export-helper-Cg8ARLjz.js";import"./AppLayout.vue_vue_type_script_setup_true_lang-CeyhSayX.js";import"./index-B9hR5wOz.js";import"./index-C3Bn3h4x.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-CPGGLHXe.js";import"./clock-C9ZtgHl0.js";import"./useForwardPropsEmits-DPcO4mtR.js";import"./Presence-D_88WakH.js";import"./ConfigProvider-BNe-qVox.js";import"./useForwardExpose-DMAVYlpA.js";import"./Teleport-CcnEHzmd.js";import"./handleAndDispatchCustomEvent-ChOKVcqp.js";import"./chevron-up-BQjwjK-c.js";import"./Collection-CjETHI6E.js";import"./usePrimitiveElement-s00YWk2f.js";import"./check-C-CvZSBJ.js";import"./useSize-DbKzACL9.js";import"./ohash.D__AXeF1-DHF4M4F_.js";import"./nullish-CHIgUVhi.js";import"./VisuallyHidden-hOZS4qMA.js";const ae={components:{AdminLayout:K,Link:N,Modal:G,Button:X,Input:Y,Label:Z,Select:oe,SelectContent:te,SelectItem:ee,SelectTrigger:$,SelectValue:I,Textarea:se,Card:re,CardContent:le,CardHeader:ie,CardTitle:ne},props:{courses:{type:Array,default:()=>[]},onlineCourses:{type:Array,default:()=>[]}},setup(B){const e=F({course_type:"",course_id:"",course_online_id:"",title:"",description:"",status:"draft",pass_threshold:80,has_deadline:!1,deadline_date:"",deadline_time:"",enforce_deadline:!0,time_limit_minutes:null,allows_extensions:!1,questions:[{question_text:"",type:"radio",points:0,options:["",""],correct_answer:"",correct_answer_explanation:""}],processing:!1}),h=W(!1),t=[{name:"Quizzes",route:"admin.quizzes.index"},{name:"Create",route:null}],j=J({get(){return e.course_type==="regular"?e.course_id:e.course_online_id},set(u){e.course_type==="regular"?(e.course_id=u,e.course_online_id=""):(e.course_online_id=u,e.course_id="")}}),P=()=>{e.course_id="",e.course_online_id=""},q=()=>{const u=new Date;return u.setDate(u.getDate()+1),u.toISOString().split("T")[0]},v=()=>{e.questions.length<20&&e.questions.push({question_text:"",type:"radio",points:0,options:["",""],correct_answer:"",correct_answer_explanation:""})},k=u=>{e.questions.length>1&&e.questions.splice(u,1)},C=u=>{e.questions[u].options.length<10&&e.questions[u].options.push("")},g=(u,d)=>{if(e.questions[u].options.length>2){const _=e.questions[u],U=_.options[d];_.options.splice(d,1),_.type==="radio"&&_.correct_answer===U?_.correct_answer="":_.type==="checkbox"&&Array.isArray(_.correct_answer)&&(_.correct_answer=_.correct_answer.filter(L=>L!==U))}},V=u=>{const d=e.questions[u];d.type==="text"?(d.options=[],d.correct_answer="",d.points=0,d.correct_answer_explanation=""):((!d.options||d.options.length<2)&&(d.options=["",""]),d.type==="checkbox"?d.correct_answer=[]:d.correct_answer="",d.correct_answer_explanation="")},S=(u,d)=>{const _=e.questions[u];_.type==="radio"&&(_.correct_answer=d)},x=()=>{const u={course_type:e.course_type,course_id:e.course_type==="regular"?e.course_id:null,course_online_id:e.course_type==="online"?e.course_online_id:null,title:e.title,description:e.description,status:e.status,pass_threshold:e.pass_threshold,has_deadline:e.has_deadline,deadline_date:e.has_deadline?e.deadline_date:null,deadline_time:e.has_deadline?e.deadline_time:null,enforce_deadline:e.has_deadline?e.enforce_deadline:!0,time_limit_minutes:e.time_limit_minutes||null,allows_extensions:e.has_deadline?e.allows_extensions:!1,questions:e.questions.map(d=>({question_text:d.question_text,type:d.type,points:d.type==="text"?0:d.points,options:d.options||[],correct_answer:Array.isArray(d.correct_answer)?d.correct_answer:d.correct_answer?[d.correct_answer]:[],correct_answer_explanation:d.correct_answer_explanation||""}))};console.log("Submitting data:",u),e.processing=!0,E.post(route("admin.quizzes.store"),u,{onSuccess:()=>{E.visit(route("admin.quizzes.index"),{replace:!0})},onError:d=>{console.log("Submission errors:",d),e.processing=!1},onFinish:()=>{e.processing=!1}})},z=()=>{e.isDirty?h.value=!0:w()},w=()=>{e.reset(),h.value=!1,E.visit(route("admin.quizzes.index"))};return{form:e,selectedCourseId:j,resetCourseSelection:P,getTomorrowDate:q,addQuestion:v,removeQuestion:k,addOption:C,removeOption:g,resetQuestionOptions:V,updateCorrectAnswer:S,submitQuiz:x,showDiscardModal:h,confirmDiscard:z,discardChanges:w,breadcrumbs:t}}},me={class:"mx-auto max-w-7xl py-12 sm:px-6 lg:px-8"},ue={class:"mb-8 flex items-center justify-between"},ce={class:"grid grid-cols-1 gap-6 sm:grid-cols-2"},_e={key:0,class:"mt-1 text-xs text-destructive"},fe={key:0},pe={key:0,class:"mt-1 text-xs text-destructive"},ge={class:"grid grid-cols-1 gap-6 sm:grid-cols-2"},ye={key:0,class:"mt-1 text-xs text-destructive"},be={key:0,class:"mt-1 text-xs text-destructive"},xe={class:"sm:col-span-2"},ve={key:0,class:"mt-1 text-xs text-destructive"},we={class:"sm:col-span-2"},he={key:0,class:"mt-1 text-xs text-destructive"},ke={class:"space-y-4"},Ce={class:"flex items-center space-x-2"},Ve=["disabled"],Se={key:0,class:"space-y-4 p-4 border rounded-lg bg-muted/20"},ze={class:"grid grid-cols-2 gap-4"},Ue={key:0,class:"mt-1 text-xs text-destructive"},De={key:0,class:"mt-1 text-xs text-destructive"},Te={class:"flex items-center space-x-2"},Ae=["disabled"],Qe={key:0,class:"mt-1 text-xs text-destructive"},qe={class:"flex items-center space-x-2"},Me=["disabled"],Oe={class:"mb-4 flex items-center justify-between"},Be={class:"text-sm font-medium text-gray-100"},Le={class:"grid grid-cols-1 gap-4 sm:grid-cols-2"},Ee={class:"sm:col-span-2"},je={key:0,class:"mt-1 text-xs text-destructive"},Pe={key:1,class:"mt-1 text-xs text-destructive"},Re={key:0},He={key:0,class:"mt-1 text-xs text-destructive"},Ne={key:0,class:"mt-4"},Fe={key:0,class:"mt-1 text-xs text-destructive"},We={class:"mt-4"},Je={key:0,class:"space-y-2"},Ge=["id","checked","value","name","disabled","onChange"],Ke=["for"],Xe={key:1,class:"space-y-2"},Ye=["id","value","onUpdate:modelValue","disabled"],Ze=["for"],Ie={key:2,class:"mt-1 text-xs text-destructive"},$e={class:"mt-4"},et={key:0,class:"mt-1 text-xs text-destructive"},tt={key:1,class:"mt-4 rounded-lg bg-blue-50 p-3"},ot={class:"flex justify-end space-x-3 mt-8"},st={key:0,class:"flex items-center"},rt={key:1},lt={class:"p-6 sm:p-8"},it={class:"flex justify-end space-x-3"},nt=["disabled"],dt=["disabled"];function at(B,e,h,t,j,P){const q=y("Link"),v=y("Button"),k=y("CardTitle"),C=y("CardHeader"),g=y("Label"),V=y("SelectValue"),S=y("SelectTrigger"),x=y("SelectItem"),z=y("SelectContent"),w=y("Select"),u=y("CardContent"),d=y("Card"),_=y("Input"),U=y("Textarea"),L=y("Modal"),H=y("AdminLayout");return i(),T(H,{breadcrumbs:t.breadcrumbs},{default:s(()=>[l("div",me,[l("div",ue,[e[17]||(e[17]=l("h1",{class:"text-3xl font-bold text-gray-900"},"Create Quiz",-1)),o(v,{variant:"outline","as-child":""},{default:s(()=>[o(q,{href:B.route("admin.quizzes.index")},{default:s(()=>e[16]||(e[16]=[l("svg",{class:"mr-2 h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})],-1),n(" Back to Quizzes ")])),_:1},8,["href"])]),_:1})]),l("form",{onSubmit:e[12]||(e[12]=R((...r)=>t.submitQuiz&&t.submitQuiz(...r),["prevent"]))},[o(d,null,{default:s(()=>[o(C,null,{default:s(()=>[o(k,null,{default:s(()=>e[18]||(e[18]=[n("Course Assignment")])),_:1})]),_:1}),o(u,null,{default:s(()=>[l("div",ce,[l("div",null,[o(g,{for:"course_type"},{default:s(()=>e[19]||(e[19]=[n("Course Type")])),_:1}),o(w,{modelValue:t.form.course_type,"onUpdate:modelValue":[e[0]||(e[0]=r=>t.form.course_type=r),t.resetCourseSelection],disabled:t.form.processing},{default:s(()=>[o(S,null,{default:s(()=>[o(V,{placeholder:"Select course type"})]),_:1}),o(z,null,{default:s(()=>[o(x,{value:"regular"},{default:s(()=>e[20]||(e[20]=[n("Regular Course")])),_:1}),o(x,{value:"online"},{default:s(()=>e[21]||(e[21]=[n("Online Course")])),_:1})]),_:1})]),_:1},8,["modelValue","onUpdate:modelValue","disabled"]),t.form.errors.course_type?(i(),m("span",_e,f(t.form.errors.course_type),1)):c("",!0)]),t.form.course_type?(i(),m("div",fe,[o(g,{for:"course_id"},{default:s(()=>[n("Select "+f(t.form.course_type==="regular"?"Regular":"Online")+" Course",1)]),_:1}),o(w,{modelValue:t.selectedCourseId,"onUpdate:modelValue":e[1]||(e[1]=r=>t.selectedCourseId=r),disabled:t.form.processing},{default:s(()=>[o(S,null,{default:s(()=>[o(V,{placeholder:"Select Course"})]),_:1}),o(z,null,{default:s(()=>[(i(!0),m(A,null,Q(t.form.course_type==="regular"?h.courses:h.onlineCourses,r=>(i(),T(x,{key:r.id,value:r.id.toString()},{default:s(()=>[n(f(r.name),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue","disabled"]),t.form.errors.course_id||t.form.errors.course_online_id?(i(),m("span",pe,f(t.form.errors.course_id||t.form.errors.course_online_id),1)):c("",!0)])):c("",!0)])]),_:1})]),_:1}),o(d,{class:"mt-6"},{default:s(()=>[o(C,null,{default:s(()=>[o(k,null,{default:s(()=>e[22]||(e[22]=[n("Quiz Details")])),_:1})]),_:1}),o(u,null,{default:s(()=>[l("div",ge,[l("div",null,[o(g,{for:"status"},{default:s(()=>e[23]||(e[23]=[n("Status")])),_:1}),o(w,{modelValue:t.form.status,"onUpdate:modelValue":e[2]||(e[2]=r=>t.form.status=r),disabled:t.form.processing},{default:s(()=>[o(S,null,{default:s(()=>[o(V)]),_:1}),o(z,null,{default:s(()=>[o(x,{value:"draft"},{default:s(()=>e[24]||(e[24]=[n("Draft")])),_:1}),o(x,{value:"published"},{default:s(()=>e[25]||(e[25]=[n("Published")])),_:1}),o(x,{value:"archived"},{default:s(()=>e[26]||(e[26]=[n("Archived")])),_:1})]),_:1})]),_:1},8,["modelValue","disabled"]),t.form.errors.status?(i(),m("span",ye,f(t.form.errors.status),1)):c("",!0)]),l("div",null,[o(g,{for:"pass_threshold"},{default:s(()=>e[27]||(e[27]=[n("Pass Threshold (%)")])),_:1}),o(_,{id:"pass_threshold",modelValue:t.form.pass_threshold,"onUpdate:modelValue":e[3]||(e[3]=r=>t.form.pass_threshold=r),modelModifiers:{number:!0},type:"number",min:"0",max:"100",step:"0.01",disabled:t.form.processing,placeholder:"Enter pass threshold (e.g., 80.00)"},null,8,["modelValue","disabled"]),t.form.errors.pass_threshold?(i(),m("span",be,f(t.form.errors.pass_threshold),1)):c("",!0)]),l("div",xe,[o(g,{for:"title"},{default:s(()=>e[28]||(e[28]=[n("Title")])),_:1}),o(_,{id:"title",modelValue:t.form.title,"onUpdate:modelValue":e[4]||(e[4]=r=>t.form.title=r),type:"text",disabled:t.form.processing,placeholder:"Enter quiz title"},null,8,["modelValue","disabled"]),t.form.errors.title?(i(),m("span",ve,f(t.form.errors.title),1)):c("",!0)]),l("div",we,[o(g,{for:"description"},{default:s(()=>e[29]||(e[29]=[n("Description")])),_:1}),o(U,{id:"description",modelValue:t.form.description,"onUpdate:modelValue":e[5]||(e[5]=r=>t.form.description=r),rows:"4",disabled:t.form.processing,placeholder:"Enter quiz description (optional)"},null,8,["modelValue","disabled"]),t.form.errors.description?(i(),m("span",he,f(t.form.errors.description),1)):c("",!0)])])]),_:1})]),_:1}),o(d,{class:"mt-6"},{default:s(()=>[o(C,null,{default:s(()=>[o(k,null,{default:s(()=>e[30]||(e[30]=[n("⏰ Deadline Settings")])),_:1})]),_:1}),o(u,null,{default:s(()=>[l("div",ke,[l("div",Ce,[M(l("input",{type:"checkbox","onUpdate:modelValue":e[6]||(e[6]=r=>t.form.has_deadline=r),id:"has_deadline",disabled:t.form.processing,class:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded"},null,8,Ve),[[O,t.form.has_deadline]]),o(g,{for:"has_deadline"},{default:s(()=>e[31]||(e[31]=[n("Set a deadline for this quiz")])),_:1})]),t.form.has_deadline?(i(),m("div",Se,[l("div",ze,[l("div",null,[o(g,{for:"deadline_date"},{default:s(()=>e[32]||(e[32]=[n("Deadline Date")])),_:1}),o(_,{id:"deadline_date",type:"date",modelValue:t.form.deadline_date,"onUpdate:modelValue":e[7]||(e[7]=r=>t.form.deadline_date=r),disabled:t.form.processing,min:t.getTomorrowDate(),required:""},null,8,["modelValue","disabled","min"]),t.form.errors.deadline_date?(i(),m("span",Ue,f(t.form.errors.deadline_date),1)):c("",!0)]),l("div",null,[o(g,{for:"deadline_time"},{default:s(()=>e[33]||(e[33]=[n("Deadline Time")])),_:1}),o(_,{id:"deadline_time",type:"time",modelValue:t.form.deadline_time,"onUpdate:modelValue":e[8]||(e[8]=r=>t.form.deadline_time=r),disabled:t.form.processing,required:""},null,8,["modelValue","disabled"]),t.form.errors.deadline_time?(i(),m("span",De,f(t.form.errors.deadline_time),1)):c("",!0)])]),l("div",Te,[M(l("input",{type:"checkbox","onUpdate:modelValue":e[9]||(e[9]=r=>t.form.enforce_deadline=r),id:"enforce_deadline",disabled:t.form.processing,class:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded"},null,8,Ae),[[O,t.form.enforce_deadline]]),o(g,{for:"enforce_deadline"},{default:s(()=>e[34]||(e[34]=[n("Strictly enforce deadline (no late submissions)")])),_:1})]),l("div",null,[o(g,{for:"time_limit_minutes"},{default:s(()=>e[35]||(e[35]=[n("Quiz time limit (minutes per attempt)")])),_:1}),o(_,{id:"time_limit_minutes",type:"number",modelValue:t.form.time_limit_minutes,"onUpdate:modelValue":e[10]||(e[10]=r=>t.form.time_limit_minutes=r),modelModifiers:{number:!0},disabled:t.form.processing,placeholder:"Leave empty for no time limit",min:"1",max:"1440"},null,8,["modelValue","disabled"]),e[36]||(e[36]=l("p",{class:"text-xs text-muted-foreground mt-1"},"Optional: Set how many minutes students have to complete the quiz",-1)),t.form.errors.time_limit_minutes?(i(),m("span",Qe,f(t.form.errors.time_limit_minutes),1)):c("",!0)]),l("div",qe,[M(l("input",{type:"checkbox","onUpdate:modelValue":e[11]||(e[11]=r=>t.form.allows_extensions=r),id:"allows_extensions",disabled:t.form.processing,class:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded"},null,8,Me),[[O,t.form.allows_extensions]]),o(g,{for:"allows_extensions"},{default:s(()=>e[37]||(e[37]=[n("Allow deadline extensions upon request")])),_:1})])])):c("",!0)])]),_:1})]),_:1}),o(d,{class:"mt-8"},{default:s(()=>[o(C,null,{default:s(()=>[o(k,null,{default:s(()=>[n("Questions ("+f(t.form.questions.length)+"/20)",1)]),_:1})]),_:1}),o(u,null,{default:s(()=>[(i(!0),m(A,null,Q(t.form.questions,(r,a)=>(i(),m("div",{key:a,class:"border border-gray-300 dark:border-gray-700 rounded-lg p-4 bg-gray-50 dark:bg-gray-800 mb-6"},[l("div",Oe,[l("h3",Be,"Question "+f(a+1),1),t.form.questions.length>1?(i(),T(v,{key:0,onClick:p=>t.removeQuestion(a),type:"button",variant:"ghost",size:"sm",class:"text-destructive hover:text-destructive",disabled:t.form.processing},{default:s(()=>e[38]||(e[38]=[n(" Remove ")])),_:2},1032,["onClick","disabled"])):c("",!0)]),l("div",Le,[l("div",Ee,[o(g,{for:`question_text_${a}`},{default:s(()=>e[39]||(e[39]=[n("Question Text")])),_:2},1032,["for"]),o(_,{id:`question_text_${a}`,modelValue:r.question_text,"onUpdate:modelValue":p=>r.question_text=p,type:"text",disabled:t.form.processing,placeholder:"Enter question text"},null,8,["id","modelValue","onUpdate:modelValue","disabled"]),t.form.errors[`questions.${a}.question_text`]?(i(),m("span",je,f(t.form.errors[`questions.${a}.question_text`]),1)):c("",!0)]),l("div",null,[o(g,{for:`type_${a}`},{default:s(()=>e[40]||(e[40]=[n("Type")])),_:2},1032,["for"]),r?(i(),T(w,{key:0,modelValue:r.type,"onUpdate:modelValue":[p=>r.type=p,p=>t.resetQuestionOptions(a)],disabled:t.form.processing},{default:s(()=>[o(S,null,{default:s(()=>[o(V)]),_:1}),o(z,null,{default:s(()=>[o(x,{value:"radio"},{default:s(()=>e[41]||(e[41]=[n("Radio (Single Choice)")])),_:1}),o(x,{value:"checkbox"},{default:s(()=>e[42]||(e[42]=[n("Checkbox (Multiple Choice)")])),_:1}),o(x,{value:"text"},{default:s(()=>e[43]||(e[43]=[n("Text (Open-ended)")])),_:1})]),_:1})]),_:2},1032,["modelValue","onUpdate:modelValue","disabled"])):c("",!0),t.form.errors[`questions.${a}.type`]?(i(),m("span",Pe,f(t.form.errors[`questions.${a}.type`]),1)):c("",!0)]),r&&r.type!=="text"?(i(),m("div",Re,[o(g,{for:`points_${a}`},{default:s(()=>e[44]||(e[44]=[n("Points")])),_:2},1032,["for"]),o(_,{id:`points_${a}`,modelValue:r.points,"onUpdate:modelValue":p=>r.points=p,modelModifiers:{number:!0},type:"number",min:"0",disabled:t.form.processing,placeholder:"Enter points"},null,8,["id","modelValue","onUpdate:modelValue","disabled"]),t.form.errors[`questions.${a}.points`]?(i(),m("span",He,f(t.form.errors[`questions.${a}.points`]),1)):c("",!0)])):c("",!0)]),r&&r.type!=="text"?(i(),m("div",Ne,[e[49]||(e[49]=l("h4",{class:"mb-2 text-sm font-medium text-gray-100"},"Options",-1)),(i(!0),m(A,null,Q(r.options,(p,b)=>(i(),m("div",{key:b,class:"mb-2 flex items-center gap-2"},[o(_,{modelValue:r.options[b],"onUpdate:modelValue":D=>r.options[b]=D,type:"text",class:"flex-1",disabled:t.form.processing,placeholder:"Enter option"},null,8,["modelValue","onUpdate:modelValue","disabled"]),r.options.length>2?(i(),T(v,{key:0,onClick:D=>t.removeOption(a,b),type:"button",variant:"ghost",size:"sm",class:"text-destructive hover:text-destructive",disabled:t.form.processing},{default:s(()=>e[45]||(e[45]=[n(" Remove ")])),_:2},1032,["onClick","disabled"])):c("",!0)]))),128)),t.form.errors[`questions.${a}.options`]?(i(),m("span",Fe,f(t.form.errors[`questions.${a}.options`]),1)):c("",!0),o(v,{onClick:p=>t.addOption(a),type:"button",variant:"outline",size:"sm",class:"mt-2",disabled:t.form.processing||r.options.length>=10},{default:s(()=>e[46]||(e[46]=[n(" Add Option ")])),_:2},1032,["onClick","disabled"]),l("div",We,[e[47]||(e[47]=l("label",{class:"mb-1 block text-sm font-medium text-gray-100"},"Correct Answer(s)",-1)),r&&r.type==="radio"?(i(),m("div",Je,[(i(!0),m(A,null,Q(r.options,(p,b)=>(i(),m("div",{key:`radio_${a}_${b}`,class:"flex items-center"},[l("input",{id:`correct_answer_${a}_${b}`,checked:r.correct_answer===p,value:p,type:"radio",name:`correct_answer_${a}`,class:"h-4 w-4 border-gray-300 border text-indigo-600 focus:ring-indigo-500",disabled:t.form.processing,onChange:D=>t.updateCorrectAnswer(a,p)},null,40,Ge),l("label",{for:`correct_answer_${a}_${b}`,class:"ml-2 text-sm text-gray-300"},f(p||"Option "+(b+1)),9,Ke)]))),128))])):r&&r.type==="checkbox"?(i(),m("div",Xe,[(i(!0),m(A,null,Q(r.options,(p,b)=>(i(),m("div",{key:`checkbox_${a}_${b}_${p}`,class:"flex items-center"},[M(l("input",{id:`correct_answer_${a}_${b}`,value:p,type:"checkbox","onUpdate:modelValue":D=>r.correct_answer=D,class:"h-4 w-4 border-gray-300 border text-indigo-600 focus:ring-indigo-500",disabled:t.form.processing},null,8,Ye),[[O,r.correct_answer]]),l("label",{for:`correct_answer_${a}_${b}`,class:"ml-2 text-sm text-gray-300"},f(p||"Option "+(b+1)),9,Ze)]))),128))])):c("",!0),t.form.errors[`questions.${a}.correct_answer`]?(i(),m("span",Ie,f(t.form.errors[`questions.${a}.correct_answer`]),1)):c("",!0)]),l("div",$e,[o(g,{for:`correct_answer_explanation_${a}`},{default:s(()=>e[48]||(e[48]=[n("Correct Answer Explanation")])),_:2},1032,["for"]),o(U,{id:`correct_answer_explanation_${a}`,modelValue:r.correct_answer_explanation,"onUpdate:modelValue":p=>r.correct_answer_explanation=p,rows:"2",disabled:t.form.processing,placeholder:"Explain why this is correct (optional)"},null,8,["id","modelValue","onUpdate:modelValue","disabled"]),t.form.errors[`questions.${a}.correct_answer_explanation`]?(i(),m("span",et,f(t.form.errors[`questions.${a}.correct_answer_explanation`]),1)):c("",!0)])])):c("",!0),r&&r.type==="text"?(i(),m("div",tt,e[50]||(e[50]=[l("p",{class:"text-sm text-blue-700"}," 📝 This is an open-ended text question. Students will provide their own written response. ",-1)]))):c("",!0)]))),128)),o(v,{onClick:t.addQuestion,type:"button",class:"inline-flex items-center",disabled:t.form.processing||t.form.questions.length>=20},{default:s(()=>e[51]||(e[51]=[l("svg",{class:"mr-2 h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),n(" Add Question ")])),_:1},8,["onClick","disabled"])]),_:1})]),_:1}),l("div",ot,[o(v,{"as-child":"",variant:"outline",disabled:t.form.processing,onClick:R(t.confirmDiscard,["prevent"])},{default:s(()=>[o(q,{href:B.route("admin.quizzes.index")},{default:s(()=>e[52]||(e[52]=[n(" Cancel ")])),_:1},8,["href"])]),_:1},8,["disabled","onClick"]),o(v,{type:"submit",disabled:t.form.processing||!t.form.course_type},{default:s(()=>[t.form.processing?(i(),m("span",st,e[53]||(e[53]=[l("svg",{class:"mr-2 h-5 w-5 animate-spin text-white",fill:"none",viewBox:"0 0 24 24"},[l("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),l("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8h-8z"})],-1),n(" Saving... ")]))):(i(),m("span",rt,"Create Quiz"))]),_:1},8,["disabled"])])],32),o(L,{show:t.showDiscardModal,onClose:e[15]||(e[15]=r=>t.showDiscardModal=!1)},{default:s(()=>[l("div",lt,[e[54]||(e[54]=l("h2",{class:"mb-3 text-xl font-semibold text-gray-900"},"Discard Changes",-1)),e[55]||(e[55]=l("p",{class:"mb-6 text-sm text-gray-600"},"Are you sure you want to discard your changes? This action cannot be undone.",-1)),l("div",it,[l("button",{onClick:e[13]||(e[13]=r=>t.showDiscardModal=!1),class:"rounded-lg bg-gray-100 px-4 py-2 text-sm font-medium text-gray-100 transition-colors duration-200 hover:bg-gray-200 focus:outline-hidden focus:ring-2 focus:ring-gray-300",disabled:t.form.processing}," Cancel ",8,nt),l("button",{onClick:e[14]||(e[14]=(...r)=>t.discardChanges&&t.discardChanges(...r)),class:"rounded-lg bg-red-600 px-4 py-2 text-sm font-medium text-white transition-colors duration-200 hover:bg-red-700 focus:outline-hidden focus:ring-2 focus:ring-red-500",disabled:t.form.processing}," Discard ",8,dt)])])]),_:1},8,["show"])])]),_:1},8,["breadcrumbs"])}const Ht=de(ae,[["render",at],["__scopeId","data-v-2d48348f"]]);export{Ht as default};
