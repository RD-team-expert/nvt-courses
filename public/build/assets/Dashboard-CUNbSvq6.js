import{B as _,U as M,C as h,a as A,_ as N}from"./AppLayout.vue_vue_type_script_setup_true_lang-B_ynUO5q.js";import{d as R,O as V,c as j,a as l,o as a,b as d,u as n,m as B,w as c,e,t as o,P as m,j as x,f as b,F as p,h as w,n as v}from"./app-BdXCK60G.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-CzMaMLWM.js";import"./index-NiRXZKIt.js";const T={class:"flex h-full flex-1 flex-col gap-4 p-4 sm:p-6"},E={class:"bg-white rounded-xl border border-sidebar-border/70 p-4 sm:p-6 shadow-sm"},L={class:"text-xl sm:text-2xl font-bold text-gray-800 mb-2"},O={class:"text-gray-600"},P={key:0,class:"space-y-6"},Y={class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4"},z={class:"bg-white rounded-xl border border-sidebar-border/70 p-4 shadow-sm"},F={class:"flex items-center"},I={class:"p-3 rounded-full bg-blue-100 text-blue-600 mr-4"},G={class:"text-2xl font-bold text-gray-800"},H={class:"bg-white rounded-xl border border-sidebar-border/70 p-4 shadow-sm"},W={class:"flex items-center"},q={class:"p-3 rounded-full bg-purple-100 text-purple-600 mr-4"},J={class:"text-2xl font-bold text-gray-800"},K={class:"bg-white rounded-xl border border-sidebar-border/70 p-4 shadow-sm"},Q={class:"flex items-center"},X={class:"p-3 rounded-full bg-green-100 text-green-600 mr-4"},Z={class:"text-2xl font-bold text-gray-800"},ee={class:"bg-white rounded-xl border border-sidebar-border/70 p-4 shadow-sm"},se={class:"flex items-center"},te={class:"p-3 rounded-full bg-amber-100 text-amber-600 mr-4"},oe={class:"text-2xl font-bold text-gray-800"},re={class:"bg-white rounded-xl border border-sidebar-border/70 p-4 sm:p-6 shadow-sm"},le={class:"flex justify-between items-center mb-4"},ae={class:"space-y-3"},de={key:0,class:"text-center py-8"},ne={class:"w-10 h-10 rounded-full bg-gray-200 flex-shrink-0 mr-3 overflow-hidden"},ie=["src"],ue={key:1,class:"w-full h-full flex items-center justify-center text-gray-500 font-medium text-sm"},ce={class:"flex-1 min-w-0"},me={class:"text-sm font-medium text-gray-900 break-words"},xe={class:"flex items-center mt-1"},be={class:"text-xs text-gray-500"},ge={key:1,class:"space-y-6"},he={class:"grid grid-cols-1 sm:grid-cols-3 gap-4"},pe={class:"bg-white rounded-xl border border-sidebar-border/70 p-4 shadow-sm"},fe={class:"flex items-center"},ye={class:"p-3 rounded-full bg-blue-100 text-blue-600 mr-4"},_e={class:"text-2xl font-bold text-gray-800"},we={class:"bg-white rounded-xl border border-sidebar-border/70 p-4 shadow-sm"},ve={class:"flex items-center"},Ce={class:"p-3 rounded-full bg-green-100 text-green-600 mr-4"},ke={class:"text-2xl font-bold text-gray-800"},Ae={class:"bg-white rounded-xl border border-sidebar-border/70 p-4 shadow-sm"},je={class:"flex items-center"},Se={class:"p-3 rounded-full bg-amber-100 text-amber-600 mr-4"},De={class:"text-2xl font-bold text-gray-800"},Ue={class:"bg-white rounded-xl border border-sidebar-border/70 p-4 sm:p-6 shadow-sm"},$e={class:"flex justify-between items-center mb-4"},Me={class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4"},Ne={key:0,class:"col-span-full text-center py-4 text-gray-500"},Re={class:"h-32 bg-gray-200"},Ve=["src","alt"],Be={key:1,class:"w-full h-full flex items-center justify-center bg-gray-100"},Te={class:"p-3"},Ee={class:"font-medium"},Le={class:"flex justify-between items-center mt-2"},Oe={class:"bg-white rounded-xl border border-sidebar-border/70 p-4 sm:p-6 shadow-sm"},Pe={class:"flex justify-between items-center mb-4"},Ye={class:"overflow-x-auto"},ze={class:"min-w-full divide-y divide-gray-200"},Fe={class:"bg-white divide-y divide-gray-200"},Ie={key:0,class:"text-center"},Ge={colspan:"3",class:"px-4 py-8"},He={class:"px-4 py-3 whitespace-nowrap text-sm text-gray-900"},We={class:"px-4 py-3 whitespace-nowrap text-sm text-gray-900"},qe={class:"px-4 py-3 whitespace-nowrap text-sm"},Je={key:0,class:"bg-white rounded-xl border border-sidebar-border/70 p-4 sm:p-6 shadow-sm"},Ke={class:"flex justify-between items-center mb-4"},Qe={class:"bg-blue-100 text-blue-800 text-xs font-medium px-2.5 py-0.5 rounded-full"},Xe={class:"p-4 bg-blue-50 rounded-lg border border-blue-100"},Ze={class:"text-sm text-blue-800"},rs=R({__name:"Dashboard",props:{stats:{type:Object,default:()=>({totalCourses:0,totalUsers:0,activeSessions:0,completionRate:0,pendingCourses:0,completedCourses:0,userCourses:0,userAttendanceRate:0,userCompletedCourses:0,userTotalCourses:0,upcomingSessions:0})},recentActivity:{type:Array,default:()=>[]},userCourses:{type:Array,default:()=>[]},userAttendance:{type:Array,default:()=>[]}},setup(r){const S=V(),f=j(()=>{var u;return(u=S.props.auth)==null?void 0:u.user}),C=j(()=>{var u,s;return((u=f.value)==null?void 0:u.is_admin)===!0||((s=f.value)==null?void 0:s.role)==="admin"}),D=[{name:"Dashboard",href:"/dashboard"}],U=u=>u?new Date(u).toLocaleDateString():"",$=u=>{if(!u)return"";const s=new Date(u),t=Math.floor((new Date-s)/1e3);if(t<60)return"just now";if(t<3600){const i=Math.floor(t/60);return`${i} minute${i>1?"s":""} ago`}else if(t<86400){const i=Math.floor(t/3600);return`${i} hour${i>1?"s":""} ago`}else{const i=Math.floor(t/86400);return`${i} day${i>1?"s":""} ago`}};return(u,s)=>(a(),l(p,null,[d(n(B),{title:"Dashboard"}),d(N,{breadcrumbs:D},{default:c(()=>{var y;return[e("div",T,[e("div",E,[e("h1",L," Welcome back, "+o((y=f.value)==null?void 0:y.name)+"! ",1),e("p",O,o(C.value?"Manage your courses and users from your admin dashboard.":"Track your courses and attendance from your dashboard."),1)]),C.value?(a(),l("div",P,[e("div",Y,[e("div",z,[e("div",F,[e("div",I,[d(n(_),{class:"h-6 w-6"})]),e("div",null,[s[1]||(s[1]=e("p",{class:"text-sm text-gray-500 font-medium"},"Total Courses",-1)),e("p",G,o(r.stats.totalCourses||0),1)])])]),e("div",H,[e("div",W,[e("div",q,[d(n(M),{class:"h-6 w-6"})]),e("div",null,[s[2]||(s[2]=e("p",{class:"text-sm text-gray-500 font-medium"},"Total Users",-1)),e("p",J,o(r.stats.totalUsers||0),1)])])]),e("div",K,[e("div",Q,[e("div",X,[d(n(h),{class:"h-6 w-6"})]),e("div",null,[s[3]||(s[3]=e("p",{class:"text-sm text-gray-500 font-medium"},"Active Sessions",-1)),e("p",Z,o(r.stats.activeSessions||0),1)])])]),e("div",ee,[e("div",se,[e("div",te,[d(n(A),{class:"h-6 w-6"})]),e("div",null,[s[4]||(s[4]=e("p",{class:"text-sm text-gray-500 font-medium"},"Completion Rate",-1)),e("p",oe,o(r.stats.completionRate||0)+"%",1)])])])]),e("div",re,[e("div",le,[s[6]||(s[6]=e("h2",{class:"text-lg font-semibold"},"Recent Activity",-1)),d(n(m),{href:"/activities",class:"text-sm text-blue-600 hover:underline"},{default:c(()=>s[5]||(s[5]=[x("View all")])),_:1})]),e("div",ae,[r.recentActivity.length===0?(a(),l("div",de,[d(n(h),{class:"h-12 w-12 mx-auto text-gray-400 mb-2"}),s[7]||(s[7]=e("h3",{class:"text-base font-medium text-gray-900"},"No recent activity",-1)),s[8]||(s[8]=e("p",{class:"text-sm text-gray-500"},"Activity will appear here as users interact with the system",-1))])):b("",!0),(a(!0),l(p,null,w(r.recentActivity,(t,i)=>{var g,k;return a(),l("div",{key:t.id||i,class:"flex items-start p-3 border-b border-gray-100 last:border-0 hover:bg-gray-50 rounded-lg transition-colors"},[e("div",ne,[(g=t.user)!=null&&g.avatar?(a(),l("img",{key:0,src:t.user.avatar,class:"w-full h-full object-cover",alt:"User avatar"},null,8,ie)):(a(),l("div",ue,o((k=t.user)!=null&&k.name?t.user.name.charAt(0).toUpperCase():"S"),1))]),e("div",ce,[e("p",me,o(t.description),1),e("div",xe,[t.action?(a(),l("span",{key:0,class:v(["px-2 py-0.5 text-xs rounded-full mr-2",{"bg-blue-100 text-blue-800":t.action==="create","bg-green-100 text-green-800":t.action==="update","bg-red-100 text-red-800":t.action==="delete","bg-purple-100 text-purple-800":t.action==="enroll","bg-yellow-100 text-yellow-800":t.action==="login"}])},o(t.action),3)):b("",!0),e("span",be,o($(t.created_at)),1)])])])}),128))])])])):(a(),l("div",ge,[e("div",he,[e("div",pe,[e("div",fe,[e("div",ye,[d(n(_),{class:"h-6 w-6"})]),e("div",null,[s[9]||(s[9]=e("p",{class:"text-sm text-gray-500 font-medium"},"My Courses",-1)),e("p",_e,o(r.stats.userCourses||0),1)])])]),e("div",we,[e("div",ve,[e("div",Ce,[d(n(h),{class:"h-6 w-6"})]),e("div",null,[s[10]||(s[10]=e("p",{class:"text-sm text-gray-500 font-medium"},"Attendance Rate",-1)),e("p",ke,o(r.stats.userAttendanceRate||0)+"%",1)])])]),e("div",Ae,[e("div",je,[e("div",Se,[d(n(A),{class:"h-6 w-6"})]),e("div",null,[s[11]||(s[11]=e("p",{class:"text-sm text-gray-500 font-medium"},"Completed",-1)),e("p",De,o(r.stats.userCompletedCourses||0)+"/"+o(r.stats.userTotalCourses||0),1)])])])]),e("div",Ue,[e("div",$e,[s[13]||(s[13]=e("h2",{class:"text-lg font-semibold"},"My Courses",-1)),d(n(m),{href:"/courses",class:"text-sm text-blue-600 hover:underline"},{default:c(()=>s[12]||(s[12]=[x("View all")])),_:1})]),e("div",Me,[r.userCourses.length===0?(a(),l("div",Ne," You are not enrolled in any courses yet ")):b("",!0),(a(!0),l(p,null,w(r.userCourses,(t,i)=>(a(),l("div",{key:t.id||i,class:"border border-gray-200 rounded-lg overflow-hidden"},[e("div",Re,[t.image_path?(a(),l("img",{key:0,src:`/storage/${t.image_path}`,alt:t.name,class:"w-full h-full object-cover",onError:s[0]||(s[0]=g=>g.target.src="/images/course-placeholder.jpg")},null,40,Ve)):(a(),l("div",Be,[d(n(_),{class:"h-10 w-10 text-gray-400"})]))]),e("div",Te,[e("h3",Ee,o(t.name||"Course Name"),1),e("div",Le,[e("span",{class:v(["text-xs px-2 py-1 rounded-full",{"bg-blue-100 text-blue-800":t.status==="in_progress"||t.status==="enrolled","bg-green-100 text-green-800":t.status==="completed","bg-yellow-100 text-yellow-800":t.status==="pending"}])},o(t.status?(t.status.charAt(0).toUpperCase()+t.status.slice(1)).replace("_"," "):"Enrolled"),3),d(n(m),{href:`/courses/${t.id}`,class:"text-xs text-blue-600 hover:underline"},{default:c(()=>s[14]||(s[14]=[x(" Continue ")])),_:2},1032,["href"])])])]))),128))])]),e("div",Oe,[e("div",Pe,[s[16]||(s[16]=e("h2",{class:"text-lg font-semibold"},"Recent Attendance",-1)),d(n(m),{href:"/attendance",class:"text-sm text-blue-600 hover:underline"},{default:c(()=>s[15]||(s[15]=[x("View all")])),_:1})]),e("div",Ye,[e("table",ze,[s[19]||(s[19]=e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Date"),e("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Course"),e("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Status")])],-1)),e("tbody",Fe,[r.userAttendance.length===0?(a(),l("tr",Ie,[e("td",Ge,[d(n(h),{class:"h-12 w-12 mx-auto text-gray-400 mb-2"}),s[17]||(s[17]=e("h3",{class:"text-base font-medium text-gray-900"},"No attendance records",-1)),s[18]||(s[18]=e("p",{class:"text-sm text-gray-500"},"Your attendance history will appear here",-1))])])):b("",!0),(a(!0),l(p,null,w(r.userAttendance,(t,i)=>(a(),l("tr",{key:t.id||i,class:"hover:bg-gray-50"},[e("td",He,o(U(t.date)),1),e("td",We,o(t.course_name||"General Attendance"),1),e("td",qe,[e("span",{class:v(["px-2 py-1 text-xs rounded-full",{"bg-green-100 text-green-800":t.status==="completed","bg-yellow-100 text-yellow-800":t.status==="in_progress","bg-blue-100 text-blue-800":t.status==="present"}])},o(t.status?(t.status.charAt(0).toUpperCase()+t.status.slice(1)).replace("_"," "):"Present"),3)])]))),128))])])])]),r.stats.upcomingSessions>0?(a(),l("div",Je,[e("div",Ke,[s[20]||(s[20]=e("h2",{class:"text-lg font-semibold"},"Upcoming Sessions",-1)),e("span",Qe,o(r.stats.upcomingSessions)+" upcoming",1)]),e("div",Xe,[e("p",Ze," You have "+o(r.stats.upcomingSessions)+" upcoming session"+o(r.stats.upcomingSessions>1?"s":"")+". Check your course schedule for details. ",1),d(n(m),{href:"/courses",class:"mt-2 inline-flex items-center text-sm font-medium text-blue-600 hover:underline"},{default:c(()=>s[21]||(s[21]=[x(" View my courses "),e("svg",{class:"w-3 h-3 ml-1",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[e("path",{"fill-rule":"evenodd",d:"M10.293 5.293a1 1 0 011.414 0l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414-1.414L12.586 11H5a1 1 0 110-2h7.586l-2.293-2.293a1 1 0 010-1.414z","clip-rule":"evenodd"})],-1)])),_:1})])])):b("",!0)]))])]}),_:1})],64))}});export{rs as default};
