import{d as ae,r as k,c as N,C as oe,g as C,o as r,w as i,e as l,a as n,h as v,b as a,F as M,i as I,u as s,f as m,t as u,n as U,y as ie,j as re,s as T,G as F,P as de}from"./app-qyR_4PaG.js";import{_ as ne}from"./AdminLayout.vue_vue_type_script_setup_true_lang-BsuuGtwv.js";import{E as ue}from"./Editor-DX3lqCoE.js";import{_ as A}from"./Card.vue_vue_type_script_setup_true_lang-DCW1kvPW.js";import{_ as q}from"./CardContent.vue_vue_type_script_setup_true_lang-Cy0buwPh.js";import{_ as me}from"./CardHeader.vue_vue_type_script_setup_true_lang-DTTBOQkp.js";import{_ as ce}from"./CardTitle.vue_vue_type_script_setup_true_lang-DTeyXCHQ.js";import{_ as h}from"./Button.vue_vue_type_script_setup_true_lang-WQG4_ODG.js";import{_ as ve}from"./index-DsHbXnWs.js";import{_ as b}from"./Input.vue_vue_type_script_setup_true_lang-CA-A0nlz.js";import{_}from"./Label.vue_vue_type_script_setup_true_lang-BasK-Gp2.js";import{_ as O,a as L,b as R,c as W,d as $}from"./SelectValue.vue_vue_type_script_setup_true_lang-CrU8Ar02.js";import{_ as E,a as z}from"./index-1kqDFs_c.js";import{_ as fe}from"./_plugin-vue_export-helper-DOuQ-aXb.js";import"./AppLayout.vue_vue_type_script_setup_true_lang-BjapVI3_.js";import"./index-B9A5LML7.js";import"./index-CNZhogEv.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-DwBPz4TN.js";import"./clock-CUFXXBSH.js";import"./useForwardPropsEmits-JKGsgjKA.js";import"./Presence-BA6CjNEL.js";import"./ConfigProvider-DJUeWZMX.js";import"./useForwardExpose-4F12XXK-.js";import"./Teleport-fbcDf1I0.js";import"./handleAndDispatchCustomEvent-ChOKVcqp.js";import"./chevron-up-QHkvK2HP.js";import"./Collection-BXB5souu.js";import"./usePrimitiveElement-C0A689me.js";import"./check-CR6fk6hi.js";import"./useSize-dZVS2aw9.js";import"./ohash.D__AXeF1-DHF4M4F_.js";import"./nullish-CHIgUVhi.js";import"./VisuallyHidden-B4OiXPfV.js";const pe={class:"px-4 sm:px-0"},be={key:0,class:"fixed top-4 right-4 z-50 space-y-2 max-w-md"},_e={class:"flex items-start justify-between"},ge={class:"flex items-start space-x-3"},ye={key:0,class:"mt-2"},xe={key:1,class:"fixed inset-0 bg-black/50 flex items-center justify-center z-50"},ke={class:"text-center"},we={class:"relative w-32 h-32 mx-auto mb-6"},he={class:"w-32 h-32 transform -rotate-90",viewBox:"0 0 36 36"},Ve=["stroke-dasharray"],Ce={class:"absolute inset-0 flex items-center justify-center"},$e={class:"text-2xl font-bold text-foreground"},Se={class:"mb-6"},Ue={class:"flex justify-center"},Pe={class:"relative"},je={key:1,class:"h-6 w-6 text-orange-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},De={key:2,class:"h-6 w-6 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},Me={class:"text-xl font-bold mb-3 text-foreground"},Ie={class:"text-muted-foreground mb-4 leading-relaxed"},Ee={class:"bg-gray-50 rounded-lg p-4 mb-6"},ze={class:"flex justify-between text-sm text-gray-600 mb-2"},Be={class:"w-full bg-gray-200 rounded-full h-2"},Ne={class:"text-xs text-muted-foreground mt-4"},Te={class:"grid grid-cols-1 md:grid-cols-2 gap-4 sm:gap-6 mb-6"},Fe={class:"col-span-full"},Ae={key:0,class:"text-destructive text-sm mt-1"},qe={class:"col-span-full"},Oe={class:"mt-1 flex flex-col sm:flex-row items-start sm:items-center sm:space-x-4 space-y-3 sm:space-y-0"},Le={key:0,class:"h-32 w-full sm:w-48 overflow-hidden rounded-md"},Re=["src"],We={key:1,class:"h-32 w-full sm:w-48 flex items-center justify-center bg-gray-100 rounded-md"},He={class:"flex items-center"},Ge=["disabled"],Je={key:0,class:"text-destructive text-sm mt-1"},Ke={class:"col-span-full"},Qe={key:0,class:"text-destructive text-sm mt-1"},Xe={class:"col-span-1"},Ye={key:0,class:"text-destructive text-sm mt-1"},Ze={class:"col-span-1"},es={key:0,class:"text-destructive text-sm mt-1"},ss={class:"col-span-1"},ts={key:0,class:"text-destructive text-sm mt-1"},ls={class:"col-span-1"},as={class:"flex items-center space-x-4"},os={class:"flex items-center"},is=["disabled"],rs={class:"flex items-center"},ds=["disabled"],ns={key:0,class:"mt-2 p-2 bg-blue-50 border border-blue-200 rounded text-xs text-blue-700"},us={key:1,class:"mt-1 text-sm text-destructive"},ms={class:"col-span-1"},cs={key:0,class:"text-destructive text-sm mt-1"},vs={class:"col-span-1"},fs={key:0,class:"text-destructive text-sm mt-1"},ps={class:"mb-6"},bs={class:"flex justify-between items-center mb-4"},_s={class:"space-y-4"},gs={class:"flex justify-between items-center mb-3"},ys={class:"font-medium"},xs={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},ks={class:"md:col-span-2"},ws={class:"grid grid-cols-4 md:grid-cols-7 gap-2"},hs=["id","checked","onChange","disabled"],Vs={class:"text-xs text-muted-foreground mt-1"},Cs={key:0,class:"text-destructive text-sm mt-1"},$s={key:0,class:"text-destructive text-sm mt-1"},Ss={key:0,class:"text-destructive text-sm mt-1"},Us={key:0,class:"text-destructive text-sm mt-1"},Ps={key:0,class:"text-destructive text-sm mt-1"},js={key:0,class:"text-destructive text-sm mt-1"},Ds={key:0,class:"text-destructive text-sm mt-1"},Ms={key:0,class:"text-destructive text-sm mt-1"},Is={key:0,class:"text-destructive text-sm mt-1"},Es={class:"md:col-span-2"},zs={key:0,class:"text-destructive text-sm mt-1"},Bs={key:0,class:"text-destructive text-sm mt-2"},Ns={class:"flex flex-col sm:flex-row gap-2 mb-4"},Ts={key:0,class:"animate-spin h-4 w-4",fill:"none",viewBox:"0 0 24 24"},Fs={key:1},As={key:2},qs=ae({__name:"Create",setup(Os){const S=k(null),P=k(!1),g=k(0),y=k(4),w=k([]),p=k(!1),V=k(0),j=k(0),H=[{value:"monday",label:"Monday"},{value:"tuesday",label:"Tuesday"},{value:"wednesday",label:"Wednesday"},{value:"thursday",label:"Thursday"},{value:"friday",label:"Friday"},{value:"saturday",label:"Saturday"},{value:"sunday",label:"Sunday"}],B=f=>f?new Date(f).toISOString().split("T")[0]:"",D=N(()=>y.value===0?0:Math.round(g.value/y.value*100)),x=N(()=>t.privacy==="public"),t=oe({name:"",description:"",start_date:"",end_date:"",status:"pending",level:"",duration:"",privacy:"public",image:null,availabilities:[{start_date:"",end_date:"",capacity:25,sessions:1,notes:"",days_of_week:[],duration_weeks:1,session_time_shift_2:"",session_time_shift_3:"",session_duration_minutes:60}]});function G(f){const e=f.target.files[0];if(e){t.image=e;const o=new FileReader;o.onload=d=>{S.value=d.target.result},o.readAsDataURL(e)}}function J(){t.image=null,S.value=null}function K(){t.availabilities.length<5&&t.availabilities.push({start_date:"",end_date:"",capacity:25,sessions:1,notes:"",days_of_week:[],duration_weeks:1,session_time_shift_2:"",session_time_shift_3:"",session_duration_minutes:60})}function Q(f){t.availabilities.length>1&&t.availabilities.splice(f,1)}function X(f,e){const o=t.availabilities[f],d=o.days_of_week.indexOf(e);d>-1?o.days_of_week.splice(d,1):o.days_of_week.push(e)}function Y(f,e){return t.availabilities[f].days_of_week.includes(e)}function Z(f){if(f.days_of_week.length===0)return"No days selected";const e={monday:"Mon",tuesday:"Tue",wednesday:"Wed",thursday:"Thu",friday:"Fri",saturday:"Sat",sunday:"Sun"};return f.days_of_week.map(o=>e[o]).join(", ")}function ee(){w.value=[],p.value=!1,V.value=0,j.value=0}function se(f){w.value.splice(f,1),w.value.length===0&&(p.value=!1)}function te(){const f={...t.data(),availabilities:t.availabilities.map(e=>({...e,days_of_week:e.days_of_week.length>0?e.days_of_week.join(","):""}))};if(f.start_date&&(f.start_date=B(f.start_date)),f.end_date&&(f.end_date=B(f.end_date)),x.value){P.value=!0,g.value=0,ee();const e=setInterval(()=>{g.value<y.value&&g.value++},1500);t.post("/admin/courses",{data:f,forceFormData:!0,onSuccess:o=>{var d,c;clearInterval(e),g.value=y.value,(c=(d=o.props)==null?void 0:d.flash)!=null&&c.emailErrors&&(p.value=!0,w.value=o.props.flash.emailErrors,V.value=o.props.flash.emailFailures||0,j.value=o.props.flash.emailSuccesses||0),setTimeout(()=>{P.value=!1},p.value?5e3:3e3)},onError:o=>{clearInterval(e),P.value=!1,p.value=!0,w.value=Object.values(o).flat()},onFinish:()=>{clearInterval(e)}})}else t.post("/admin/courses",{data:f,forceFormData:!0})}function le(){if(!x.value)return"";switch(g.value){case 0:return"Preparing course data...";case 1:return"Saving course information...";case 2:return"Setting up session schedules...";case 3:return"Sending announcement emails to all users...";case 4:return p.value?`Course created with ${V.value} email failures!`:"Public course created and announced successfully!";default:return"Processing..."}}return(f,e)=>(r(),C(ne,null,{default:i(()=>[l("div",pe,[e[66]||(e[66]=l("h1",{class:"text-xl sm:text-2xl font-bold mb-4"},"Create New Course",-1)),p.value&&w.value.length>0?(r(),n("div",be,[(r(!0),n(M,null,I(w.value,(o,d)=>(r(),C(s(E),{key:d,variant:"destructive",class:"shadow-lg"},{default:i(()=>[l("div",_e,[l("div",ge,[e[11]||(e[11]=l("svg",{class:"h-6 w-6 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),l("div",null,[e[10]||(e[10]=l("h4",{class:"font-semibold text-sm"},"Email Sending Error",-1)),a(s(z),{class:"mt-1"},{default:i(()=>[m(u(o),1)]),_:2},1024),V.value>0?(r(),n("div",ye,[a(s(ve),{variant:"destructive",class:"text-xs"},{default:i(()=>[m(u(V.value)+" failed, "+u(j.value)+" successful ",1)]),_:1})])):v("",!0)])]),a(s(h),{onClick:c=>se(d),variant:"ghost",size:"sm",class:"h-auto p-1 hover:bg-destructive/20"},{default:i(()=>e[12]||(e[12]=[l("svg",{class:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])),_:2},1032,["onClick"])])]),_:2},1024))),128))])):v("",!0),P.value&&x.value?(r(),n("div",xe,[a(s(A),{class:"max-w-md w-full mx-4 shadow-2xl"},{default:i(()=>[a(s(q),{class:"p-8"},{default:i(()=>[l("div",ke,[l("div",we,[(r(),n("svg",he,[e[13]||(e[13]=l("path",{class:"text-muted",fill:"none",stroke:"currentColor","stroke-width":"2",d:"M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831"},null,-1)),l("path",{class:U(p.value?"text-orange-500":"text-green-500"),fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-dasharray":`${D.value}, 100`,d:"M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831",style:{transition:"stroke-dasharray 0.3s ease-in-out"}},null,10,Ve)])),l("div",Ce,[l("span",$e,u(D.value)+"%",1)])]),l("div",Se,[l("div",Ue,[l("div",Pe,[l("div",{class:U([p.value?"bg-orange-100":"bg-green-100","w-12 h-12 rounded-full flex items-center justify-center"])},[g.value<y.value?(r(),n("svg",{key:0,class:U(["animate-spin h-6 w-6",p.value?"text-orange-500":"text-green-500"]),fill:"none",viewBox:"0 0 24 24"},e[14]||(e[14]=[l("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),l("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)]),2)):p.value?(r(),n("svg",je,e[15]||(e[15]=[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"},null,-1)]))):(r(),n("svg",De,e[16]||(e[16]=[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"},null,-1)])))],2)])])]),l("h3",Me,u(g.value===y.value?p.value?"Course Created with Issues!":"Public Course Created!":"Creating Public Course"),1),l("p",Ie,u(le()),1),l("div",Ee,[l("div",ze,[e[17]||(e[17]=l("span",null,"Progress",-1)),l("span",null,u(g.value)+" / "+u(y.value),1)]),l("div",Be,[l("div",{class:U([p.value?"bg-orange-500":"bg-green-500","h-2 rounded-full transition-all duration-300 ease-out"]),style:ie({width:D.value+"%"})},null,6)])]),p.value&&g.value===y.value?(r(),C(s(E),{key:0,class:"mb-4",variant:"destructive"},{default:i(()=>[a(s(z),null,{default:i(()=>[e[18]||(e[18]=l("strong",null,"⚠️ Email Issues Detected:",-1)),e[19]||(e[19]=l("br",null,null,-1)),m(" "+u(V.value)+" emails failed to send, "+u(j.value)+" sent successfully.",1),e[20]||(e[20]=l("br",null,null,-1)),e[21]||(e[21]=m(" Check error notifications for details. "))]),_:1})]),_:1})):(r(),C(s(E),{key:1,class:"border-blue-200 bg-blue-50 mb-4"},{default:i(()=>[a(s(z),{class:"text-xs text-blue-700"},{default:i(()=>e[22]||(e[22]=[l("strong",null,"📧 Public Course:",-1),m(" Announcement emails are being sent to all registered users ")])),_:1})]),_:1})),l("p",Ne,u(g.value===y.value?p.value?"Course created! Please review email sending errors above.":"Course created successfully with email notifications sent!":"Please wait while we create your public course and notify users..."),1)])]),_:1})]),_:1})])):v("",!0),a(s(A),{class:"shadow-lg max-w-4xl"},{default:i(()=>[a(s(me),null,{default:i(()=>[a(s(ce),{class:"text-2xl"},{default:i(()=>e[23]||(e[23]=[m("Course Information")])),_:1})]),_:1}),a(s(q),null,{default:i(()=>[l("form",{onSubmit:re(te,["prevent"])},[l("div",Te,[l("div",Fe,[a(s(_),{for:"name",class:"mb-2"},{default:i(()=>e[24]||(e[24]=[m("Course Name")])),_:1}),a(s(b),{id:"name",modelValue:s(t).name,"onUpdate:modelValue":e[0]||(e[0]=o=>s(t).name=o),type:"text",placeholder:"Enter course name",disabled:s(t).processing,required:""},null,8,["modelValue","disabled"]),s(t).errors.name?(r(),n("div",Ae,u(s(t).errors.name),1)):v("",!0)]),l("div",qe,[a(s(_),{class:"mb-2"},{default:i(()=>e[25]||(e[25]=[m("Course Image")])),_:1}),l("div",Oe,[S.value?(r(),n("div",Le,[l("img",{src:S.value,alt:"Course image preview",class:"h-full w-full object-cover"},null,8,Re)])):(r(),n("div",We,e[26]||(e[26]=[l("span",{class:"text-gray-400"},"No image",-1)]))),l("div",He,[a(s(h),{type:"button",variant:"outline",size:"sm",onClick:e[1]||(e[1]=()=>f.$refs.imageUpload.click()),disabled:s(t).processing},{default:i(()=>e[27]||(e[27]=[m(" Upload Image ")])),_:1},8,["disabled"]),l("input",{ref:"imageUpload",type:"file",class:"hidden",onChange:G,accept:"image/*",disabled:s(t).processing},null,40,Ge),S.value?(r(),C(s(h),{key:0,type:"button",variant:"ghost",size:"sm",onClick:J,disabled:s(t).processing,class:"ml-2 text-destructive hover:text-destructive/80"},{default:i(()=>e[28]||(e[28]=[m(" Remove ")])),_:1},8,["disabled"])):v("",!0)])]),s(t).errors.image?(r(),n("div",Je,u(s(t).errors.image),1)):v("",!0)]),l("div",Ke,[a(s(_),{class:"mb-2"},{default:i(()=>e[29]||(e[29]=[m("Description")])),_:1}),a(s(ue),{class:"dark",modelValue:s(t).description,"onUpdate:modelValue":e[2]||(e[2]=o=>s(t).description=o),disabled:s(t).processing,"api-key":"r1racrxd2joy9wp9xp9sj91ka9j4m3humenifqvwtx9s6i3y",init:{toolbar_mode:"sliding",plugins:"anchor autolink charmap codesample emoticons image link lists media searchreplace table visualblocks wordcount",toolbar:"undo redo | blocks fontfamily fontsize | bold italic underline strikethrough | link image media table | align lineheight | numlist bullist indent outdent | emoticons charmap | removeformat",mobile:{menubar:!1,toolbar:"undo redo | bold italic | link | bullist numlist",toolbar_mode:"scrolling"}}},null,8,["modelValue","disabled"]),s(t).errors.description?(r(),n("div",Qe,u(s(t).errors.description),1)):v("",!0)]),l("div",Xe,[a(s(_),{class:"mb-2"},{default:i(()=>e[30]||(e[30]=[m("Overall Start Date")])),_:1}),a(s(b),{type:"date",modelValue:s(t).start_date,"onUpdate:modelValue":e[3]||(e[3]=o=>s(t).start_date=o),disabled:s(t).processing},null,8,["modelValue","disabled"]),s(t).errors.start_date?(r(),n("div",Ye,u(s(t).errors.start_date),1)):v("",!0)]),l("div",Ze,[a(s(_),{class:"mb-2"},{default:i(()=>e[31]||(e[31]=[m("Overall End Date")])),_:1}),a(s(b),{type:"date",modelValue:s(t).end_date,"onUpdate:modelValue":e[4]||(e[4]=o=>s(t).end_date=o),disabled:s(t).processing},null,8,["modelValue","disabled"]),s(t).errors.end_date?(r(),n("div",es,u(s(t).errors.end_date),1)):v("",!0)]),l("div",ss,[a(s(_),{class:"mb-2"},{default:i(()=>e[32]||(e[32]=[m("Status")])),_:1}),a(s(O),{modelValue:s(t).status,"onUpdate:modelValue":e[5]||(e[5]=o=>s(t).status=o),disabled:s(t).processing},{default:i(()=>[a(s(L),null,{default:i(()=>[a(s(R),{placeholder:"Select status"})]),_:1}),a(s(W),null,{default:i(()=>[a(s($),{value:"pending"},{default:i(()=>e[33]||(e[33]=[m("Pending")])),_:1}),a(s($),{value:"in_progress"},{default:i(()=>e[34]||(e[34]=[m("In Progress")])),_:1}),a(s($),{value:"completed"},{default:i(()=>e[35]||(e[35]=[m("Completed")])),_:1})]),_:1})]),_:1},8,["modelValue","disabled"]),s(t).errors.status?(r(),n("div",ts,u(s(t).errors.status),1)):v("",!0)]),l("div",ls,[a(s(_),{class:"mb-2"},{default:i(()=>e[36]||(e[36]=[m("Course Privacy")])),_:1}),l("div",as,[l("div",os,[T(l("input",{id:"privacy-public",name:"privacy",type:"radio",value:"public","onUpdate:modelValue":e[6]||(e[6]=o=>s(t).privacy=o),class:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300",disabled:s(t).processing},null,8,is),[[F,s(t).privacy]]),a(s(_),{for:"privacy-public",class:"ml-2 text-sm"},{default:i(()=>e[37]||(e[37]=[m(" 🌍 Public ")])),_:1})]),l("div",rs,[T(l("input",{id:"privacy-private",name:"privacy",type:"radio",value:"private","onUpdate:modelValue":e[7]||(e[7]=o=>s(t).privacy=o),class:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300",disabled:s(t).processing},null,8,ds),[[F,s(t).privacy]]),a(s(_),{for:"privacy-private",class:"ml-2 text-sm"},{default:i(()=>e[38]||(e[38]=[m(" 🔒 Private ")])),_:1})])]),e[40]||(e[40]=l("p",{class:"mt-1 text-xs text-gray-500"}," Public courses are visible to everyone and trigger announcement emails. Private courses are only visible to enrolled users. ",-1)),x.value?(r(),n("div",ns,e[39]||(e[39]=[l("strong",null,"📧 Note:",-1),m(" Creating a public course will automatically send announcement emails to all registered users. ")]))):v("",!0),s(t).errors.privacy?(r(),n("div",us,u(s(t).errors.privacy),1)):v("",!0)]),l("div",ms,[a(s(_),{class:"mb-2"},{default:i(()=>e[41]||(e[41]=[m("Level")])),_:1}),a(s(O),{modelValue:s(t).level,"onUpdate:modelValue":e[8]||(e[8]=o=>s(t).level=o),disabled:s(t).processing},{default:i(()=>[a(s(L),null,{default:i(()=>[a(s(R),{placeholder:"Select Level"})]),_:1}),a(s(W),null,{default:i(()=>[a(s($),{value:"beginner"},{default:i(()=>e[42]||(e[42]=[m("Beginner")])),_:1}),a(s($),{value:"intermediate"},{default:i(()=>e[43]||(e[43]=[m("Intermediate")])),_:1}),a(s($),{value:"advanced"},{default:i(()=>e[44]||(e[44]=[m("Advanced")])),_:1})]),_:1})]),_:1},8,["modelValue","disabled"]),s(t).errors.level?(r(),n("div",cs,u(s(t).errors.level),1)):v("",!0)]),l("div",vs,[a(s(_),{class:"mb-2"},{default:i(()=>e[45]||(e[45]=[m("Duration (hours)")])),_:1}),a(s(b),{type:"number",modelValue:s(t).duration,"onUpdate:modelValue":e[9]||(e[9]=o=>s(t).duration=o),min:"0.5",step:"0.5",disabled:s(t).processing},null,8,["modelValue","disabled"]),s(t).errors.duration?(r(),n("div",fs,u(s(t).errors.duration),1)):v("",!0)])]),l("div",ps,[l("div",bs,[e[46]||(e[46]=l("h2",{class:"text-lg font-semibold"},"Course Session Schedules",-1)),a(s(h),{type:"button",onClick:K,disabled:s(t).availabilities.length>=5||s(t).processing},{default:i(()=>[m(" Add Session Schedule ("+u(s(t).availabilities.length)+"/5) ",1)]),_:1},8,["disabled"])]),l("div",_s,[(r(!0),n(M,null,I(s(t).availabilities,(o,d)=>(r(),n("div",{key:d,class:"border border-gray-300 dark:border-gray-700 rounded-lg p-4 bg-gray-50 dark:bg-gray-800"},[l("div",gs,[l("h3",ys,"Session Schedule "+u(d+1),1),s(t).availabilities.length>1?(r(),C(s(h),{key:0,type:"button",onClick:c=>Q(d),variant:"ghost",size:"sm",class:"text-red-600 hover:text-red-800",disabled:s(t).processing},{default:i(()=>e[47]||(e[47]=[m(" Remove ")])),_:2},1032,["onClick","disabled"])):v("",!0)]),l("div",xs,[l("div",ks,[e[48]||(e[48]=l("label",{class:"block font-medium mb-2"},"Days of the Week",-1)),l("div",ws,[(r(),n(M,null,I(H,c=>l("div",{key:c.value,class:"flex items-center"},[l("input",{id:`day-${d}-${c.value}`,type:"checkbox",checked:Y(d,c.value),onChange:Ls=>X(d,c.value),class:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded",disabled:s(t).processing},null,40,hs),a(s(_),{for:`day-${d}-${c.value}`,class:"ml-2 text-sm"},{default:i(()=>[m(u(c.label),1)]),_:2},1032,["for"])])),64))]),l("p",Vs," Selected: "+u(Z(o)),1),s(t).errors[`availabilities.${d}.days_of_week`]?(r(),n("div",Cs,u(s(t).errors[`availabilities.${d}.days_of_week`]),1)):v("",!0)]),l("div",null,[e[49]||(e[49]=l("label",{class:"block font-medium mb-1"},"Duration (Weeks)",-1)),a(s(b),{type:"number",modelValue:o.duration_weeks,"onUpdate:modelValue":c=>o.duration_weeks=c,min:"1",max:"52",disabled:s(t).processing,required:""},null,8,["modelValue","onUpdate:modelValue","disabled"]),e[50]||(e[50]=l("p",{class:"text-xs text-muted-foreground mt-1"},"Number of weeks this course runs",-1)),s(t).errors[`availabilities.${d}.duration_weeks`]?(r(),n("div",$s,u(s(t).errors[`availabilities.${d}.duration_weeks`]),1)):v("",!0)]),l("div",null,[e[51]||(e[51]=l("label",{class:"block font-medium mb-1"},"Session Time - Shift 2",-1)),a(s(b),{type:"time",modelValue:o.session_time_shift_2,"onUpdate:modelValue":c=>o.session_time_shift_2=c,disabled:s(t).processing,class:"time-input"},null,8,["modelValue","onUpdate:modelValue","disabled"]),e[52]||(e[52]=l("p",{class:"text-xs text-muted-foreground mt-1"},"Start time for Shift 2 sessions (optional)",-1)),s(t).errors[`availabilities.${d}.session_time_shift_2`]?(r(),n("div",Ss,u(s(t).errors[`availabilities.${d}.session_time_shift_2`]),1)):v("",!0)]),l("div",null,[e[53]||(e[53]=l("label",{class:"block font-medium mb-1"},"Session Time - Shift 3",-1)),a(s(b),{type:"time",modelValue:o.session_time_shift_3,"onUpdate:modelValue":c=>o.session_time_shift_3=c,disabled:s(t).processing,class:"time-input"},null,8,["modelValue","onUpdate:modelValue","disabled"]),e[54]||(e[54]=l("p",{class:"text-xs text-muted-foreground mt-1"},"Start time for Shift 3 sessions (optional)",-1)),s(t).errors[`availabilities.${d}.session_time_shift_3`]?(r(),n("div",Us,u(s(t).errors[`availabilities.${d}.session_time_shift_3`]),1)):v("",!0)]),l("div",null,[e[55]||(e[55]=l("label",{class:"block font-medium mb-1"},"Session Duration (Minutes)",-1)),a(s(b),{type:"number",modelValue:o.session_duration_minutes,"onUpdate:modelValue":c=>o.session_duration_minutes=c,min:"15",max:"480",step:"15",disabled:s(t).processing},null,8,["modelValue","onUpdate:modelValue","disabled"]),e[56]||(e[56]=l("p",{class:"text-xs text-muted-foreground mt-1"},"Duration of each session in minutes",-1)),s(t).errors[`availabilities.${d}.session_duration_minutes`]?(r(),n("div",Ps,u(s(t).errors[`availabilities.${d}.session_duration_minutes`]),1)):v("",!0)]),l("div",null,[e[57]||(e[57]=l("label",{class:"block font-medium mb-1"},"Start Date",-1)),a(s(b),{type:"datetime-local",modelValue:o.start_date,"onUpdate:modelValue":c=>o.start_date=c,disabled:s(t).processing,required:""},null,8,["modelValue","onUpdate:modelValue","disabled"]),s(t).errors[`availabilities.${d}.start_date`]?(r(),n("div",js,u(s(t).errors[`availabilities.${d}.start_date`]),1)):v("",!0)]),l("div",null,[e[58]||(e[58]=l("label",{class:"block font-medium mb-1"},"End Date",-1)),a(s(b),{type:"datetime-local",modelValue:o.end_date,"onUpdate:modelValue":c=>o.end_date=c,disabled:s(t).processing,required:""},null,8,["modelValue","onUpdate:modelValue","disabled"]),s(t).errors[`availabilities.${d}.end_date`]?(r(),n("div",Ds,u(s(t).errors[`availabilities.${d}.end_date`]),1)):v("",!0)]),l("div",null,[e[59]||(e[59]=l("label",{class:"block font-medium mb-1"},"Seats Available",-1)),a(s(b),{type:"number",modelValue:o.capacity,"onUpdate:modelValue":c=>o.capacity=c,min:"1",max:"1000",disabled:s(t).processing,required:""},null,8,["modelValue","onUpdate:modelValue","disabled"]),e[60]||(e[60]=l("p",{class:"text-xs text-muted-foreground mt-1"},"Maximum number of seats available",-1)),s(t).errors[`availabilities.${d}.capacity`]?(r(),n("div",Ms,u(s(t).errors[`availabilities.${d}.capacity`]),1)):v("",!0)]),l("div",null,[e[61]||(e[61]=l("label",{class:"block font-medium mb-1"},"Sessions",-1)),a(s(b),{type:"number",modelValue:o.sessions,"onUpdate:modelValue":c=>o.sessions=c,min:"1",max:"100",disabled:s(t).processing,required:""},null,8,["modelValue","onUpdate:modelValue","disabled"]),e[62]||(e[62]=l("p",{class:"text-xs text-muted-foreground mt-1"},"Total number of sessions",-1)),s(t).errors[`availabilities.${d}.sessions`]?(r(),n("div",Is,u(s(t).errors[`availabilities.${d}.sessions`]),1)):v("",!0)]),l("div",Es,[e[63]||(e[63]=l("label",{class:"block font-medium mb-1"},"Notes (Optional)",-1)),a(s(b),{type:"text",modelValue:o.notes,"onUpdate:modelValue":c=>o.notes=c,placeholder:"Special instructions or requirements",disabled:s(t).processing},null,8,["modelValue","onUpdate:modelValue","disabled"]),s(t).errors[`availabilities.${d}.notes`]?(r(),n("div",zs,u(s(t).errors[`availabilities.${d}.notes`]),1)):v("",!0)])])]))),128))]),s(t).errors.availabilities?(r(),n("div",Bs,u(s(t).errors.availabilities),1)):v("",!0)]),l("div",Ns,[a(s(h),{type:"submit",disabled:s(t).processing,class:U([{"bg-green-500 hover:bg-green-600":x.value,"bg-blue-500 hover:bg-blue-600":!x.value},"w-full sm:w-auto flex items-center justify-center gap-2"])},{default:i(()=>[s(t).processing?(r(),n("svg",Ts,e[64]||(e[64]=[l("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),l("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)]))):v("",!0),s(t).processing?(r(),n("span",Fs,u(x.value?"Creating Public Course & Sending Emails...":"Creating Course..."),1)):(r(),n("span",As,u(x.value?"🌍 Create Public Course":"🔒 Create Private Course"),1))]),_:1},8,["disabled","class"]),a(s(h),{variant:"secondary","as-child":"",class:"w-full sm:w-auto",disabled:s(t).processing},{default:i(()=>[a(s(de),{href:"/admin/courses"},{default:i(()=>e[65]||(e[65]=[m(" Cancel ")])),_:1})]),_:1},8,["disabled"])])],32)]),_:1})]),_:1})])]),_:1}))}}),ht=fe(qs,[["__scopeId","data-v-77cb984c"]]);export{ht as default};
