import{d as q,a as m,o as u,b as e,u as t,m as k,w as s,e as a,P as v,f as i,t as r,g as f,h as T,F as x,i as z}from"./app-BC6n8fRv.js";import{f as B}from"./AppLayout.vue_vue_type_script_setup_true_lang-DLsmvHyL.js";import{_ as b}from"./Button.vue_vue_type_script_setup_true_lang-DfMEe0gp.js";import{_ as c}from"./Card.vue_vue_type_script_setup_true_lang-B7Mv47wR.js";import{_ as g}from"./CardContent.vue_vue_type_script_setup_true_lang-CLFS-8rM.js";import{_ as L}from"./CardHeader.vue_vue_type_script_setup_true_lang-Bs-bQqCd.js";import{_ as M}from"./CardTitle.vue_vue_type_script_setup_true_lang-KDz447Lo.js";import{_ as w}from"./index-d8_ka-Hz.js";import{_ as P,a as S,b as $,c as p,d as N,e as _}from"./TableHeader.vue_vue_type_script_setup_true_lang-CE0a3vMe.js";import{A as V}from"./arrow-left-C926mVy-.js";import{U as F}from"./_plugin-vue_export-helper-DdW31YSB.js";import{C as y}from"./circle-check-big-CrYoCEkg.js";import{C as H}from"./chart-column-k6cFb7F0.js";import{T as O}from"./target-C6Rmtsxl.js";import{C as U}from"./circle-x-rKxQ1UVG.js";import"./index-B9MCmdtc.js";import"./index-TP6oKz5a.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-DcqPTA6d.js";import"./clock-CfYQ2E0O.js";const Q={class:"max-w-6xl mx-auto space-y-6"},j={class:"flex items-center gap-4"},D={class:"text-muted-foreground"},E={class:"grid grid-cols-1 md:grid-cols-4 gap-4"},I={class:"flex items-center gap-3"},X={class:"text-2xl font-bold"},G={class:"flex items-center gap-3"},J={class:"text-2xl font-bold"},K={class:"flex items-center gap-3"},R={class:"text-2xl font-bold"},W={class:"flex items-center gap-3"},Y={class:"text-2xl font-bold"},Z={class:"font-medium"},tt={class:"text-sm text-muted-foreground"},et={class:"font-medium"},st={class:"text-sm text-muted-foreground"},lt={key:1,class:"text-center py-12 text-muted-foreground"},at={key:2,class:"flex justify-center gap-2 mt-6"},ot=["innerHTML"],At=q({__name:"Attempts",props:{quiz:{},module:{},course:{},attempts:{}},setup(A){const n=A,C=[{title:"Course Online",href:"/admin/course-online"},{title:n.course.name,href:`/admin/course-online/${n.course.id}`},{title:n.quiz.title,href:"#"},{title:"Attempts",href:"#"}],h={total:n.attempts.total,passed:n.attempts.data.filter(o=>o.passed).length,avgScore:n.attempts.data.length>0?(n.attempts.data.reduce((o,l)=>o+l.score_percentage,0)/n.attempts.data.length).toFixed(1):0};return(o,l)=>(u(),m(x,null,[e(t(k),{title:`Attempts - ${o.quiz.title}`},null,8,["title"]),e(B,{breadcrumbs:C},{default:s(()=>[a("div",Q,[a("div",j,[e(t(b),{"as-child":"",variant:"ghost",size:"sm"},{default:s(()=>[e(t(v),{href:o.route("admin.module-quiz.show",{courseOnline:o.course.id,courseModule:o.module.id,quiz:o.quiz.id})},{default:s(()=>[e(t(V),{class:"h-4 w-4 mr-2"}),l[0]||(l[0]=i(" Back to Quiz "))]),_:1},8,["href"])]),_:1}),a("div",null,[l[1]||(l[1]=a("h1",{class:"text-2xl font-bold"},"Quiz Attempts",-1)),a("p",D,r(o.quiz.title),1)])]),a("div",E,[e(t(c),null,{default:s(()=>[e(t(g),{class:"pt-6"},{default:s(()=>[a("div",I,[e(t(F),{class:"h-8 w-8 text-blue-500"}),a("div",null,[a("p",X,r(h.total),1),l[2]||(l[2]=a("p",{class:"text-sm text-muted-foreground"},"Total Attempts",-1))])])]),_:1})]),_:1}),e(t(c),null,{default:s(()=>[e(t(g),{class:"pt-6"},{default:s(()=>[a("div",G,[e(t(y),{class:"h-8 w-8 text-green-500"}),a("div",null,[a("p",J,r(h.passed),1),l[3]||(l[3]=a("p",{class:"text-sm text-muted-foreground"},"Passed",-1))])])]),_:1})]),_:1}),e(t(c),null,{default:s(()=>[e(t(g),{class:"pt-6"},{default:s(()=>[a("div",K,[e(t(H),{class:"h-8 w-8 text-purple-500"}),a("div",null,[a("p",R,r(h.avgScore)+"%",1),l[4]||(l[4]=a("p",{class:"text-sm text-muted-foreground"},"Avg Score",-1))])])]),_:1})]),_:1}),e(t(c),null,{default:s(()=>[e(t(g),{class:"pt-6"},{default:s(()=>[a("div",W,[e(t(O),{class:"h-8 w-8 text-orange-500"}),a("div",null,[a("p",Y,r(o.quiz.pass_threshold)+"%",1),l[5]||(l[5]=a("p",{class:"text-sm text-muted-foreground"},"Pass Threshold",-1))])])]),_:1})]),_:1})]),e(t(c),null,{default:s(()=>[e(t(L),null,{default:s(()=>[e(t(M),null,{default:s(()=>l[6]||(l[6]=[i("All Attempts")])),_:1})]),_:1}),e(t(g),null,{default:s(()=>[o.attempts.data.length>0?(u(),f(t(P),{key:0},{default:s(()=>[e(t(S),null,{default:s(()=>[e(t($),null,{default:s(()=>[e(t(p),null,{default:s(()=>l[7]||(l[7]=[i("User")])),_:1}),e(t(p),null,{default:s(()=>l[8]||(l[8]=[i("Attempt")])),_:1}),e(t(p),null,{default:s(()=>l[9]||(l[9]=[i("Score")])),_:1}),e(t(p),null,{default:s(()=>l[10]||(l[10]=[i("Status")])),_:1}),e(t(p),null,{default:s(()=>l[11]||(l[11]=[i("Completed")])),_:1}),e(t(p),null,{default:s(()=>l[12]||(l[12]=[i("Actions")])),_:1})]),_:1})]),_:1}),e(t(N),null,{default:s(()=>[(u(!0),m(x,null,z(o.attempts.data,d=>(u(),f(t($),{key:d.id},{default:s(()=>[e(t(_),null,{default:s(()=>[a("div",null,[a("p",Z,r(d.user.name),1),a("p",tt,r(d.user.email),1)])]),_:2},1024),e(t(_),null,{default:s(()=>[e(t(w),{variant:"outline"},{default:s(()=>[i("#"+r(d.attempt_number),1)]),_:2},1024)]),_:2},1024),e(t(_),null,{default:s(()=>[a("div",null,[a("p",et,r(d.total_score)+" / "+r(o.quiz.total_points),1),a("p",st,r(d.score_percentage)+"%",1)])]),_:2},1024),e(t(_),null,{default:s(()=>[e(t(w),{variant:d.passed?"default":"destructive"},{default:s(()=>[d.passed?(u(),f(t(y),{key:0,class:"h-3 w-3 mr-1"})):(u(),f(t(U),{key:1,class:"h-3 w-3 mr-1"})),i(" "+r(d.passed?"Passed":"Failed"),1)]),_:2},1032,["variant"])]),_:2},1024),e(t(_),null,{default:s(()=>[i(r(d.completed_at||"In Progress"),1)]),_:2},1024),e(t(_),null,{default:s(()=>[e(t(b),{"as-child":"",variant:"outline",size:"sm"},{default:s(()=>[e(t(v),{href:o.route("admin.module-quiz.attempts.show",{courseOnline:o.course.id,courseModule:o.module.id,quiz:o.quiz.id,attempt:d.id})},{default:s(()=>l[13]||(l[13]=[i(" View Answers ")])),_:2},1032,["href"])]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})):(u(),m("div",lt," No attempts yet ")),o.attempts.last_page>1?(u(),m("div",at,[(u(!0),m(x,null,z(o.attempts.links,d=>(u(),f(t(b),{key:d.label,"as-child":"",variant:d.active?"default":"outline",size:"sm",disabled:!d.url},{default:s(()=>[d.url?(u(),f(t(v),{key:0,href:d.url,innerHTML:d.label},null,8,["href","innerHTML"])):(u(),m("span",{key:1,innerHTML:d.label},null,8,ot))]),_:2},1032,["variant","disabled"]))),128))])):T("",!0)]),_:1})]),_:1})])]),_:1})],64))}});export{At as default};
