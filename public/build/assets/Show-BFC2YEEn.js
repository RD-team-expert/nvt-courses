import{d as ne,a as r,o as i,A as pe,n as b,u as e,r as D,l as K,C as M,c as X,g,w as l,h as m,e as n,b as o,f as c,t as u,P as B,F as N,i as U,W as R}from"./app-WJ99k70a.js";import{f as he}from"./AppLayout.vue_vue_type_script_setup_true_lang-Dy1GYN7i.js";import{b as ye,_ as v}from"./Button.vue_vue_type_script_setup_true_lang-Dy3RlMKi.js";import{_ as y}from"./Card.vue_vue_type_script_setup_true_lang-DflwHKhY.js";import{_ as $}from"./CardContent.vue_vue_type_script_setup_true_lang-BMStSPTP.js";import{_ as be}from"./CardDescription.vue_vue_type_script_setup_true_lang-DNHVeIuy.js";import{_ as J}from"./CardHeader.vue_vue_type_script_setup_true_lang-DcM25_8J.js";import{_ as Q}from"./CardTitle.vue_vue_type_script_setup_true_lang-CE3nRRvq.js";import{_ as A}from"./index-DeNvFObS.js";import{_ as j}from"./Label.vue_vue_type_script_setup_true_lang-CktlMa8u.js";import{_ as ve}from"./Textarea.vue_vue_type_script_setup_true_lang-DLX0fQpc.js";import{_ as Ae,a as ke}from"./RadioGroupItem.vue_vue_type_script_setup_true_lang-y6tHNtv_.js";import{_ as S,a as _}from"./index-BrSGzWf_.js";import{T as Z}from"./triangle-alert-CSdOLTA5.js";import{X as O,_ as we}from"./_plugin-vue_export-helper-fGKAwq7e.js";import{C as Se}from"./clipboard-list-FbYF4_fx.js";import{C as ee}from"./check-Dj8hM6Sv.js";import{B as Y}from"./book-open-ogWEErWF.js";import{C as P}from"./calendar-9ReABCWw.js";import{C as q}from"./clock-D6SfQS9I.js";import{C as se}from"./calendar-days-pd3MlrJR.js";import{T as te}from"./timer-cgitkQSn.js";import{L as z}from"./loader-circle-BsC4hXML.js";import{A as _e}from"./arrow-right-Bpuy3G3U.js";import{S as I}from"./star-DxrS0XT2.js";import{C as Ce}from"./circle-check-big-Bla7bMyD.js";import{T as Te}from"./trophy-DXF_cF6i.js";import{M as Ee}from"./map-pin-DAtsz2Sy.js";import"./index-CLwR-uw6.js";import"./index-Dhh5zSp0.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-DJLofgmd.js";import"./useForwardPropsEmits-BNdFBwb6.js";import"./useForwardExpose-CBKzvtQE.js";import"./RovingFocusItem-DU3EATpa.js";import"./Presence-C447BjxN.js";import"./ConfigProvider-BzvyYtnr.js";import"./Collection-DgIeGgCh.js";import"./usePrimitiveElement-Bq8IOiVk.js";import"./VisuallyHidden-BcuC4gal.js";import"./VisuallyHiddenInput-Dx-JIC8p.js";import"./handleAndDispatchCustomEvent-ChOKVcqp.js";import"./ohash.D__AXeF1-DHF4M4F_.js";const C=ne({__name:"AlertTitle",props:{class:{}},setup(t){const f=t;return(k,L)=>(i(),r("h5",{class:b(e(ye)("mb-1 font-medium leading-none tracking-tight",f.class))},[pe(k.$slots,"default")],2))}}),De={class:"container px-4 mx-auto py-6 sm:py-8 max-w-7xl space-y-6"},Re={class:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4"},$e={class:"text-2xl sm:text-3xl font-bold text-foreground"},Pe={class:"mt-2"},Le={class:"flex items-start justify-between"},Fe={class:"flex items-start space-x-3"},Ve={key:0},Me={key:1},Be={key:2},Ne={key:3},Ue={class:"flex gap-3"},je={class:"grid grid-cols-1 lg:grid-cols-3 gap-6 sm:gap-8"},Oe={class:"relative bg-muted overflow-hidden aspect-video"},Ye=["src","alt"],qe={key:1,class:"absolute inset-0 flex items-center justify-center bg-gradient-to-br from-muted to-muted/80"},ze=["innerHTML"],Ie={class:"grid grid-cols-1 sm:grid-cols-2 gap-4"},We={class:"flex items-center space-x-2 text-muted-foreground mb-2"},Ge={class:"font-semibold text-foreground"},He={class:"flex items-center space-x-2 text-muted-foreground mb-2"},Ke={class:"font-semibold text-foreground"},Xe={class:"flex items-center space-x-2 text-muted-foreground mb-2"},Je={class:"font-semibold text-foreground capitalize"},Qe={class:"flex items-center space-x-2 text-muted-foreground mb-2"},Ze={class:"font-semibold text-foreground"},es={key:0},ss={key:0},ts={key:3},ns={class:"space-y-3"},os={class:"flex justify-between items-start"},as={class:"font-medium text-foreground"},ls={class:"text-sm text-muted-foreground mt-1"},is={class:"border-t pt-3 space-y-2"},rs={key:0,class:"flex items-center space-x-2"},ds={key:1,class:"flex items-center space-x-2"},us={class:"text-sm font-medium text-foreground"},cs={key:2,class:"flex items-center space-x-2"},ms={class:"text-sm font-medium text-foreground"},fs={key:3,class:"flex items-center space-x-2"},gs={class:"text-sm font-medium text-foreground"},xs={class:"border-t pt-3 space-y-1"},ps={class:"text-sm text-primary font-medium"},hs={class:"text-sm text-green-600 font-medium"},ys={key:0,class:"text-xs text-muted-foreground"},bs={key:0,class:"border-t pt-3"},vs={class:"text-sm text-muted-foreground"},As={key:5},ks={key:1},ws={key:2},Ss={key:3},_s={key:4},Cs={class:"space-y-4"},Ts={class:"flex items-center p-4 bg-muted rounded-lg"},Es={class:"font-medium text-foreground"},Ds={class:"space-y-4"},Rs={class:"flex space-x-1 mt-2"},$s={key:0,class:"text-destructive text-sm mt-1"},Ps={key:1},Ls={key:2},Fs={key:0,class:"mb-4"},Vs={class:"flex items-center space-x-2"},Ms={class:"flex"},Bs={key:2},Ns={key:3},Us={class:"flex items-center space-x-2 mb-3"},js={class:"space-y-3"},Os={class:"font-semibold text-foreground"},Ys={class:"text-sm text-muted-foreground"},qs={class:"border-t pt-3 space-y-2 text-sm"},zs={key:0,class:"flex items-center space-x-2"},Is={key:1,class:"flex items-center space-x-2"},Ws={class:"font-medium text-foreground"},Gs={key:2,class:"flex items-center space-x-2"},Hs={class:"font-medium text-foreground"},Ks={key:3,class:"flex items-center space-x-2"},Xs={class:"font-medium text-foreground"},Js={class:"border-t pt-3 space-y-1 text-xs"},Qs={class:"text-primary font-medium"},Zs={class:"text-green-600 font-medium"},et={class:"text-muted-foreground"},st=ne({__name:"Show",props:{course:Object,isEnrolled:Boolean,userStatus:String,selectedAvailability:Object,availabilities:Array,userAssignment:Object,completion:Object},setup(t){const f=t,k=D(!1),L=D(""),W=D(""),p=(a,s)=>{W.value=a,L.value=s,k.value=!0,setTimeout(()=>{k.value=!1},6e3)},oe=()=>{k.value=!1},F=D(0);K(()=>f.completion,(a,s)=>{console.log("Completion changed:",s,"->",a),F.value+=1},{deep:!0}),K(()=>f.userStatus,(a,s)=>{console.log("UserStatus changed:",s,"->",a),F.value+=1});const x=M({rating:0,feedback:""}),V=X(()=>{const a=f.completion&&f.completion.rating!==null;return console.log("hasRated computed:",a,"completion:",f.completion),a});X(()=>f.isEnrolled&&(f.userStatus==="pending"||f.userStatus==="in_progress")&&V.value);function ae(){console.log("=== VUE SUBMIT RATING START ==="),console.log("Rating form data:",x.data()),x.post(route("courses.submitRating",f.course.id),{onSuccess:a=>{console.log("✅ Rating submitted successfully"),R.reload({only:["completion","userStatus","isEnrolled"]})},onError:a=>{console.error("❌ Rating submission failed:",a),a.message?p("Rating Submission Failed",a.message):a.feedback?p("Feedback Required",a.feedback):p("Rating Error","There was an error submitting your rating. Please try again.")}})}const h=M({course_availability_id:null});function le(){if(console.log("=== ENROLLMENT DEBUG START ==="),f.availabilities&&f.availabilities.length>0&&!h.course_availability_id){p("Session Selection Required","Please select a session schedule before enrolling in this course.");return}h.post(route("courses.enroll",f.course.id),{preserveState:!0,onSuccess:a=>{console.log("✅ Enrollment SUCCESS!"),R.reload({only:["isEnrolled","userStatus","selectedAvailability"]})},onError:a=>{console.error("❌ Enrollment FAILED!",a),a.message?a.message.includes("no longer available")?p("📅 Session No Longer Available","Sorry, the selected session schedule is no longer available. Please choose a different session or refresh the page to see updated availability."):a.message.includes("fully booked")?p("📋 Session Fully Booked","This session is now fully booked. Please select a different session schedule with available spots."):a.message.includes("already enrolled")?p("✅ Already Enrolled","You are already enrolled in this course. Please refresh the page to see your current enrollment status."):p("Enrollment Error",a.message):a.course_availability_id?p("Session Selection Error",a.course_availability_id):p("⚠️ Enrollment Failed","We encountered an issue while processing your enrollment. Please refresh the page and try again, or contact support if the problem persists."),setTimeout(()=>{R.reload({only:["availabilities","isEnrolled","userStatus"]})},3e3)}})}const T=M({});function ie(){console.log("=== VUE MARK COMPLETED START ==="),T.post(route("courses.markCompleted",f.course.id),{onSuccess:a=>{console.log("✅ Course marked as completed"),R.reload({only:["userStatus"]})},onError:a=>{console.error("❌ Failed to mark course as completed:",a),a.message?p("Completion Error",a.message):p("Unable to Complete","There was an error marking this course as completed. Please try again.")}})}const re=a=>{switch(a){case"in_progress":return"default";case"pending":return"secondary";case"completed":return"outline";default:return"outline"}},de=a=>{switch(a){case"pending":return"secondary";case"accepted":return"default";case"declined":return"destructive";case"completed":return"outline";default:return"outline"}},ue=a=>a?a===1?"1 Total Session":`${a} seats available`:"Capacity not specified",ce=a=>a==null?"Sessions not available":a===0?"No sessions available":a===1?"1 Session Available":`${a} Total Sessions`,me=a=>{const s=(a==null?void 0:a.sessions)||0;return s<=0?"destructive":s<=2?"secondary":"default"},fe=a=>{const s=(a==null?void 0:a.sessions)||0;return s<=0?"Fully Booked":s===1?"1 Session Available":`${s} Sessions Available`},ge=a=>({pending:"Pending",in_progress:"In Progress",completed:"Completed"})[a]||a,E=a=>{if(!a)return"—";const s=new Date(a);return s.toLocaleDateString()+" at "+s.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})},G=a=>a?new Date(a).toLocaleDateString():"—",H=a=>((a==null?void 0:a.sessions)||0)<=0||!(a!=null&&a.is_available)||f.userAssignment&&f.userAssignment.status==="pending",xe=[{name:"Dashboard",href:route("dashboard")},{name:"Courses",href:route("courses.index")},{name:f.course.name,href:route("courses.show",f.course.id)}];return(a,s)=>(i(),g(he,{breadcrumbs:xe},{default:l(()=>[k.value?(i(),g(e(S),{key:0,class:"fixed top-4 right-4 z-50 max-w-md border-destructive"},{default:l(()=>[o(e(Z),{class:"h-4 w-4"}),o(e(C),null,{default:l(()=>[c(u(W.value),1)]),_:1}),o(e(_),null,{default:l(()=>[c(u(L.value),1)]),_:1}),o(e(v),{onClick:oe,variant:"ghost",size:"sm",class:"absolute top-2 right-2"},{default:l(()=>[o(e(O),{class:"h-4 w-4"})]),_:1})]),_:1})):m("",!0),n("div",De,[n("div",Re,[n("div",null,[n("h1",$e,u(t.course.name),1),n("div",Pe,[o(e(A),{variant:t.course.privacy==="public"?"default":"secondary",class:"text-xs"},{default:l(()=>[c(u(t.course.privacy==="public"?"🌍 Public Course":"🔒 Private Course"),1)]),_:1},8,["variant"])])]),o(e(A),{variant:re(t.course.status)},{default:l(()=>[c(u(ge(t.course.status)),1)]),_:1},8,["variant"])]),t.userAssignment?(i(),g(e(y),{key:0,class:b(["border-l-4",{"border-l-yellow-500":t.userAssignment.status==="pending","border-l-green-500":t.userAssignment.status==="accepted","border-l-red-500":t.userAssignment.status==="declined","border-l-blue-500":t.userAssignment.status==="completed"}])},{default:l(()=>[o(e(J),null,{default:l(()=>[n("div",Le,[n("div",Fe,[o(e(Se),{class:b(["h-5 w-5 mt-0.5",{"text-yellow-500":t.userAssignment.status==="pending","text-green-500":t.userAssignment.status==="accepted","text-red-500":t.userAssignment.status==="declined","text-blue-500":t.userAssignment.status==="completed"}])},null,8,["class"]),n("div",null,[o(e(Q),{class:"text-lg"},{default:l(()=>[t.userAssignment.status==="pending"?(i(),r("span",Ve,"📋 Course Assignment - Action Required")):t.userAssignment.status==="accepted"?(i(),r("span",Me,"✅ Course Assignment - Accepted")):t.userAssignment.status==="declined"?(i(),r("span",Be,"❌ Course Assignment - Declined")):t.userAssignment.status==="completed"?(i(),r("span",Ne,"🎉 Course Assignment - Completed")):m("",!0)]),_:1}),t.userAssignment.assigned_by?(i(),g(e(be),{key:0},{default:l(()=>[c(" Assigned by: "+u(t.userAssignment.assigned_by),1)]),_:1})):m("",!0)])]),o(e(A),{variant:de(t.userAssignment.status)},{default:l(()=>[c(u(t.userAssignment.status.charAt(0).toUpperCase()+t.userAssignment.status.slice(1)),1)]),_:1},8,["variant"])])]),_:1}),t.userAssignment.status==="pending"?(i(),g(e($),{key:0},{default:l(()=>[n("div",Ue,[o(e(v),{as:e(B),href:a.route("assignments.accept",t.userAssignment.id),method:"post"},{default:l(()=>[o(e(ee),{class:"mr-2 h-4 w-4"}),s[2]||(s[2]=c(" Accept Assignment "))]),_:1},8,["as","href"]),o(e(v),{as:e(B),href:a.route("assignments.decline",t.userAssignment.id),method:"post",variant:"outline"},{default:l(()=>[o(e(O),{class:"mr-2 h-4 w-4"}),s[3]||(s[3]=c(" Decline Assignment "))]),_:1},8,["as","href"])])]),_:1})):m("",!0)]),_:1},8,["class"])):m("",!0),n("div",je,[o(e(y),{class:"lg:col-span-2 group hover:shadow-lg transition-all duration-200"},{default:l(()=>[n("div",Oe,[t.course.image_path?(i(),r("img",{key:0,src:`/storage/${t.course.image_path}`,alt:t.course.name,class:"absolute inset-0 w-full h-full object-fill transition-transform duration-500 group-hover:scale-105",loading:"lazy"},null,8,Ye)):(i(),r("div",qe,[o(e(Y),{class:"w-12 h-12 text-muted-foreground"})]))]),o(e($),{class:"p-6 sm:p-8"},{default:l(()=>[n("div",{class:"prose max-w-none mb-8 text-foreground",innerHTML:t.course.description},null,8,ze),n("div",Ie,[o(e(y),{class:"p-4"},{default:l(()=>[n("div",We,[o(e(P),{class:"h-4 w-4"}),s[4]||(s[4]=n("span",{class:"text-sm font-medium"},"Start Date",-1))]),n("p",Ge,u(G(t.course.start_date)),1)]),_:1}),o(e(y),{class:"p-4"},{default:l(()=>[n("div",He,[o(e(P),{class:"h-4 w-4"}),s[5]||(s[5]=n("span",{class:"text-sm font-medium"},"End Date",-1))]),n("p",Ke,u(G(t.course.end_date)),1)]),_:1}),t.course.level?(i(),g(e(y),{key:0,class:"p-4"},{default:l(()=>[n("div",Xe,[o(e(A),{variant:"outline",class:"text-xs"},{default:l(()=>s[6]||(s[6]=[c("Level")])),_:1})]),n("p",Je,u(t.course.level),1)]),_:1})):m("",!0),t.course.duration?(i(),g(e(y),{key:1,class:"p-4"},{default:l(()=>[n("div",Qe,[o(e(q),{class:"h-4 w-4"}),s[7]||(s[7]=n("span",{class:"text-sm font-medium"},"Total Duration",-1))]),n("p",Ze,u(t.course.duration)+" hours",1)]),_:1})):m("",!0)])]),_:1})]),_:1}),o(e(y),{class:"h-fit"},{default:l(()=>[o(e(J),null,{default:l(()=>[o(e(Q),{class:"flex items-center"},{default:l(()=>[o(e(Y),{class:"mr-2 h-5 w-5"}),s[8]||(s[8]=c(" Course Enrollment "))]),_:1})]),_:1}),o(e($),{class:"space-y-6"},{default:l(()=>[t.isEnrolled?(i(),r("div",{class:"space-y-6",key:F.value},[n("div",Cs,[n("div",Ts,[n("div",{class:b(["w-3 h-3 rounded-full mr-3",{"bg-green-500":t.userStatus==="completed","bg-primary":t.userStatus==="pending"||t.userStatus==="in_progress"}])},null,2),n("span",Es," Status: "+u(t.userStatus==="completed"?"Completed":"Enrolled"),1)]),(t.userStatus==="pending"||t.userStatus==="in_progress")&&!V.value?(i(),g(e(S),{key:0,class:"border-yellow-200"},{default:l(()=>{var d;return[o(e(I),{class:"h-4 w-4"}),o(e(C),null,{default:l(()=>s[23]||(s[23]=[c("📋 Rate This Course First")])),_:1}),o(e(_),{class:"mb-4"},{default:l(()=>s[24]||(s[24]=[c(" Please rate this course before marking it as complete. ")])),_:1}),n("div",Ds,[n("div",null,[o(e(j),{class:"text-sm font-medium"},{default:l(()=>s[25]||(s[25]=[c("Your Rating")])),_:1}),n("div",Rs,[(i(),r(N,null,U(5,w=>o(e(v),{key:w,type:"button",onClick:tt=>e(x).rating=w,variant:"ghost",size:"sm",class:"p-1"},{default:l(()=>[o(e(I),{class:b(["h-6 w-6",{"text-yellow-400 fill-current":w<=e(x).rating,"text-muted-foreground":w>e(x).rating}])},null,8,["class"])]),_:2},1032,["onClick"])),64))])]),n("div",null,[o(e(j),{class:"text-sm font-medium"},{default:l(()=>s[26]||(s[26]=[c(" Feedback "),n("span",{class:"text-destructive"},"*",-1)])),_:1}),o(e(ve),{modelValue:e(x).feedback,"onUpdate:modelValue":s[1]||(s[1]=w=>e(x).feedback=w),placeholder:"Please share your thoughts about this course... (required)",class:b(["mt-2",{"border-destructive":e(x).errors.feedback}]),required:""},null,8,["modelValue","class"]),e(x).errors.feedback?(i(),r("div",$s,u(e(x).errors.feedback),1)):m("",!0),s[27]||(s[27]=n("p",{class:"text-xs text-muted-foreground mt-1"},"Minimum 10 characters required",-1))]),o(e(v),{onClick:ae,disabled:e(x).processing||e(x).rating===0||!((d=e(x).feedback)!=null&&d.trim())||e(x).feedback.trim().length<10,class:"w-full"},{default:l(()=>[e(x).processing?(i(),g(e(z),{key:0,class:"mr-2 h-4 w-4 animate-spin"})):m("",!0),e(x).processing?(i(),r("span",Ps,"Submitting Rating...")):(i(),r("span",Ls,"Submit Rating"))]),_:1},8,["disabled"])])]}),_:1})):(t.userStatus==="pending"||t.userStatus==="in_progress")&&V.value?(i(),g(e(S),{key:1,class:"border-green-200"},{default:l(()=>[o(e(Ce),{class:"h-4 w-4"}),o(e(C),null,{default:l(()=>s[28]||(s[28]=[c("✅ Ready to Complete")])),_:1}),o(e(_),{class:"mb-4"},{default:l(()=>s[29]||(s[29]=[c(" Thank you for rating! You can now mark this course as completed. ")])),_:1}),t.completion&&t.completion.rating?(i(),r("div",Fs,[n("div",Vs,[s[30]||(s[30]=n("span",{class:"text-sm"},"Your rating:",-1)),n("div",Ms,[(i(),r(N,null,U(5,d=>o(e(I),{key:d,class:b(["h-4 w-4",d<=t.completion.rating?"text-yellow-400 fill-current":"text-muted-foreground"])},null,8,["class"])),64))])])])):m("",!0),o(e(v),{onClick:ie,disabled:e(T).processing,class:"w-full"},{default:l(()=>[e(T).processing?(i(),g(e(z),{key:0,class:"mr-2 h-4 w-4 animate-spin"})):(i(),g(e(ee),{key:1,class:"mr-2 h-4 w-4"})),e(T).processing?(i(),r("span",Bs,"Processing...")):(i(),r("span",Ns,"Mark as Completed"))]),_:1},8,["disabled"])]),_:1})):t.userStatus==="completed"?(i(),g(e(S),{key:2,class:"border-green-200"},{default:l(()=>[o(e(Te),{class:"h-4 w-4"}),o(e(C),null,{default:l(()=>s[31]||(s[31]=[c("🎉 Course Completed!")])),_:1}),o(e(_),{class:"mb-4"},{default:l(()=>s[32]||(s[32]=[c(" Congratulations! You've successfully completed all sessions in this course. ")])),_:1}),o(e(v),{as:e(B),href:"/courses",class:"w-full"},{default:l(()=>[o(e(Y),{class:"mr-2 h-4 w-4"}),s[33]||(s[33]=c(" Browse More Courses "))]),_:1},8,["as"])]),_:1})):m("",!0),t.selectedAvailability?(i(),g(e(y),{key:3,class:"bg-primary/5 border-primary/20"},{default:l(()=>[o(e($),{class:"p-4"},{default:l(()=>[n("div",Us,[o(e(Ee),{class:"h-4 w-4 text-primary"}),s[34]||(s[34]=n("span",{class:"text-sm font-medium text-primary"},"Your Selected Session Schedule",-1))]),n("div",js,[n("div",null,[n("p",Os,u(t.selectedAvailability.formatted_date_range),1),n("p",Ys,u(E(t.selectedAvailability.start_date))+" - "+u(E(t.selectedAvailability.end_date)),1)]),n("div",qs,[s[39]||(s[39]=n("h4",{class:"text-xs font-semibold text-foreground uppercase tracking-wide"},"Schedule Details",-1)),t.selectedAvailability.formatted_days&&t.selectedAvailability.formatted_days!=="N/A"?(i(),r("div",zs,[o(e(se),{class:"h-4 w-4 text-muted-foreground"}),s[35]||(s[35]=n("span",{class:"text-muted-foreground"},"Days:",-1)),o(e(A),{variant:"outline",class:"text-xs"},{default:l(()=>[c(u(t.selectedAvailability.formatted_days),1)]),_:1})])):m("",!0),t.selectedAvailability.duration_weeks?(i(),r("div",Is,[o(e(P),{class:"h-4 w-4 text-muted-foreground"}),s[36]||(s[36]=n("span",{class:"text-muted-foreground"},"Duration:",-1)),n("span",Ws,u(t.selectedAvailability.duration_weeks)+" weeks",1)])):m("",!0),t.selectedAvailability.formatted_session_time?(i(),r("div",Gs,[o(e(te),{class:"h-4 w-4 text-muted-foreground"}),s[37]||(s[37]=n("span",{class:"text-muted-foreground"},"Time:",-1)),n("span",Hs,u(t.selectedAvailability.formatted_session_time),1)])):m("",!0),t.selectedAvailability.formatted_session_duration?(i(),r("div",Ks,[o(e(q),{class:"h-4 w-4 text-muted-foreground"}),s[38]||(s[38]=n("span",{class:"text-muted-foreground"},"Length:",-1)),n("span",Xs,u(t.selectedAvailability.formatted_session_duration),1)])):m("",!0)]),n("div",Js,[n("p",Qs," Total Capacity: "+u(t.selectedAvailability.capacity)+" sessions ",1),n("p",Zs," Available: "+u(t.selectedAvailability.sessions)+" sessions ",1),n("p",et," Enrolled: "+u(t.selectedAvailability.capacity-t.selectedAvailability.sessions)+" sessions ",1)])])]),_:1})]),_:1})):m("",!0)])])):(i(),r("div",es,[t.userAssignment&&t.userAssignment.status==="accepted"?(i(),r("div",ss,s[9]||(s[9]=[n("p",{class:"text-muted-foreground mb-6 leading-relaxed"}," This course has been assigned to you. Select a session schedule to complete your enrollment. ",-1)]))):t.userAssignment&&t.userAssignment.status==="pending"?(i(),g(e(S),{key:1,class:"border-yellow-200"},{default:l(()=>[o(e(Z),{class:"h-4 w-4"}),o(e(C),null,{default:l(()=>s[10]||(s[10]=[c("Assignment Pending")])),_:1}),o(e(_),null,{default:l(()=>s[11]||(s[11]=[c(" Please accept your course assignment above to proceed with enrollment. ")])),_:1})]),_:1})):t.userAssignment&&t.userAssignment.status==="declined"?(i(),g(e(S),{key:2,class:"border-destructive"},{default:l(()=>[o(e(O),{class:"h-4 w-4"}),o(e(C),null,{default:l(()=>s[12]||(s[12]=[c("Assignment Declined")])),_:1}),o(e(_),null,{default:l(()=>s[13]||(s[13]=[c(" You have declined this course assignment. Contact your administrator if you'd like to reconsider. ")])),_:1})]),_:1})):(i(),r("div",ts,s[14]||(s[14]=[n("p",{class:"text-muted-foreground mb-6 leading-relaxed"}," Select a session schedule and enroll in this course to track your progress. ",-1)]))),t.availabilities&&t.availabilities.length>0?(i(),r("div",{key:4,class:b(["space-y-4",{"opacity-50":t.userAssignment&&t.userAssignment.status==="pending"}])},[o(e(j),{class:"text-base font-semibold"},{default:l(()=>s[15]||(s[15]=[c("Available Session Schedules:")])),_:1}),o(e(Ae),{modelValue:e(h).course_availability_id,"onUpdate:modelValue":s[0]||(s[0]=d=>e(h).course_availability_id=d),disabled:t.userAssignment&&t.userAssignment.status==="pending",class:"space-y-3"},{default:l(()=>[(i(!0),r(N,null,U(t.availabilities,d=>(i(),r("div",{key:d.id,class:"flex items-start space-x-3"},[o(e(ke),{value:d.id.toString(),disabled:H(d),class:"mt-1"},null,8,["value","disabled"]),o(e(y),{class:b(["flex-1 p-4",{"border-primary":e(h).course_availability_id===d.id.toString(),"opacity-50":H(d)}])},{default:l(()=>[n("div",ns,[n("div",os,[n("div",null,[n("p",as,u(d.formatted_date_range),1),n("p",ls,u(E(d.start_date))+" - "+u(E(d.end_date)),1)]),o(e(A),{variant:me(d)},{default:l(()=>[c(u(fe(d)),1)]),_:2},1032,["variant"])]),n("div",is,[s[20]||(s[20]=n("h4",{class:"text-xs font-semibold text-foreground uppercase tracking-wide"},"Schedule Details",-1)),d.formatted_days&&d.formatted_days!=="N/A"?(i(),r("div",rs,[o(e(se),{class:"h-4 w-4 text-muted-foreground"}),s[16]||(s[16]=n("span",{class:"text-sm text-muted-foreground"},"Days:",-1)),o(e(A),{variant:"outline",class:"text-xs"},{default:l(()=>[c(u(d.formatted_days),1)]),_:2},1024)])):m("",!0),d.duration_weeks?(i(),r("div",ds,[o(e(P),{class:"h-4 w-4 text-muted-foreground"}),s[17]||(s[17]=n("span",{class:"text-sm text-muted-foreground"},"Duration:",-1)),n("span",us,u(d.duration_weeks)+" weeks",1)])):m("",!0),d.formatted_session_time?(i(),r("div",cs,[o(e(te),{class:"h-4 w-4 text-muted-foreground"}),s[18]||(s[18]=n("span",{class:"text-sm text-muted-foreground"},"Time:",-1)),n("span",ms,u(d.formatted_session_time),1)])):m("",!0),d.formatted_session_duration?(i(),r("div",fs,[o(e(q),{class:"h-4 w-4 text-muted-foreground"}),s[19]||(s[19]=n("span",{class:"text-sm text-muted-foreground"},"Length:",-1)),n("span",gs,u(d.formatted_session_duration),1)])):m("",!0)]),n("div",xs,[n("p",ps,u(ue(d.capacity)),1),n("p",hs,u(ce(d.sessions)),1),d.capacity-d.sessions>0?(i(),r("p",ys,u(d.capacity-d.sessions)+" sessions enrolled ",1)):m("",!0)]),d.notes?(i(),r("div",bs,[n("p",vs,[s[21]||(s[21]=n("span",{class:"font-medium"},"Notes:",-1)),c(" "+u(d.notes),1)])])):m("",!0)])]),_:2},1032,["class"])]))),128))]),_:1},8,["modelValue","disabled"])],2)):!t.availabilities||t.availabilities.length===0?(i(),r("div",As,s[22]||(s[22]=[n("p",{class:"text-muted-foreground mb-6 leading-relaxed"}," Enroll in this course to track your progress and get access to course materials. ",-1)]))):m("",!0),o(e(v),{onClick:le,class:"mt-6 w-full",disabled:e(h).processing||t.availabilities&&t.availabilities.length>0&&!e(h).course_availability_id||t.userAssignment&&t.userAssignment.status==="pending"},{default:l(()=>[e(h).processing?(i(),g(e(z),{key:0,class:"mr-2 h-4 w-4 animate-spin"})):m("",!0),e(h).processing?(i(),r("span",ks,"Enrolling...")):t.userAssignment&&t.userAssignment.status==="pending"?(i(),r("span",ws,"Accept Assignment First")):t.userAssignment&&t.userAssignment.status==="declined"?(i(),r("span",Ss,"Assignment Declined")):(i(),r("span",_s,"Enroll Now")),!e(h).processing&&(!t.userAssignment||t.userAssignment.status==="accepted")?(i(),g(e(_e),{key:5,class:"ml-2 h-4 w-4"})):m("",!0)]),_:1},8,["disabled"])]))]),_:1})]),_:1})])])]),_:1}))}}),It=we(st,[["__scopeId","data-v-d49a7d4b"]]);export{It as default};
